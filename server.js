var PS={};(function(a){a.pInt=function(b){return function(a){return function(f){f=parseInt(f);return isNaN(f)?b:a(f)}}}})(PS["App.DB"]=PS["App.DB"]||{});
(function(a){a.arrayMap=function(b){return function(a){for(var f=a.length,d=Array(f),e=0;e<f;e++)d[e]=b(a[e]);return d}};a.refEq=function(b){return function(a){return b===a}};a.unsafeCompareImpl=function(b){return function(a){return function(f){return function(d){return function(e){return d<e?b:d>e?f:a}}}}};a.topInt=2147483647;a.bottomInt=-2147483648;a.showIntImpl=function(b){return b.toString()};a.showStringImpl=function(b){return JSON.stringify(b)};a.showArrayImpl=function(b){return function(a){for(var f=
[],d=0,e=a.length;d<e;d++)f[d]=b(a[d]);return"["+f.join(",")+"]"}}})(PS.Prelude=PS.Prelude||{});
(function(a){var b=PS.Prelude,c=function(){function b(){}b.value=new b;return b}(),f=function(){function b(){}b.value=new b;return b}(),d=function(){function b(){}b.value=new b;return b}(),e=function(b){this.compose=b},g=function(b,a){this["__superclass_Prelude.Semigroupoid_0"]=b;this.id=a},m=function(b){this.map=b},h=function(b){this.eq=b},l=function(b,a){this["__superclass_Prelude.Eq_0"]=b;this.compare=a},k=function(b,a){this.bottom=b;this.top=a},q=function(b){this.show=b},u=b.unsafeCompareImpl(c.value)(d.value)(f.value),
w={},p=new q(b.showStringImpl),n=new q(b.showIntImpl),t=new e(function(b){return function(a){return function(c){return b(a(c))}}}),x=function(b){return b.pure},A=new m(b.arrayMap),r=new h(b.refEq),B=new l(function(){return r},u),z=function(b){return function(a){return b}},v=new g(function(){return t},function(b){return b}),y=new k(b.bottomInt,b.topInt),E=function(b){return b.bind},D=function(b){return b.apply};a.LT=c;a.GT=f;a.EQ=d;a.Show=q;a.Bounded=k;a.Ord=l;a.Eq=h;a.Semigroup=function(b){this.append=
b};a.Monad=function(b,a){this["__superclass_Prelude.Applicative_0"]=b;this["__superclass_Prelude.Bind_1"]=a};a.Bind=function(b,a){this["__superclass_Prelude.Apply_0"]=b;this.bind=a};a.Applicative=function(b,a){this["__superclass_Prelude.Apply_0"]=b;this.pure=a};a.Apply=function(b,a){this["__superclass_Prelude.Functor_0"]=b;this.apply=a};a.Functor=m;a.Category=g;a.Semigroupoid=e;a.show=function(b){return b.show};a.bottom=function(b){return b.bottom};a.top=function(b){return b.top};a.unsafeCompare=
u;a.compare=function(b){return b.compare};a.eq=function(b){return b.eq};a["<>"]=function(b){return b.append};a.append=function(b){return b.append};a.ap=function(b){return function(a){return function(c){return E(b["__superclass_Prelude.Bind_1"]())(a)(function(a){return E(b["__superclass_Prelude.Bind_1"]())(c)(function(c){return x(b["__superclass_Prelude.Applicative_0"]())(a(c))})})}}};a["return"]=x;a[">>="]=function(b){return b.bind};a.bind=E;a.liftA1=function(b){return function(a){return function(c){return D(b["__superclass_Prelude.Apply_0"]())((0,b.pure)(a))(c)}}};
a.pure=function(b){return b.pure};a["<*>"]=D;a.apply=function(b){return b.apply};a["void"]=function(b){return function(a){return(0,b.map)(z(w))(a)}};a["<$>"]=function(b){return b.map};a.map=function(b){return b.map};a.id=function(b){return b.id};a.compose=function(b){return b.compose};a.otherwise=!0;a["const"]=z;a.flip=function(b){return function(a){return function(c){return b(c)(a)}}};a.unit=w;a.semigroupoidFn=t;a.categoryFn=v;a.functorArray=A;a.eqString=r;a.ordString=B;a.boundedInt=y;a.showInt=
n;a.showString=p;a.showArray=function(a){return new q(b.showArrayImpl(a.show))}})(PS.Prelude=PS.Prelude||{});(function(a){a.error=function(b){return Error(b)};a.message=function(b){return b.message};a.throwException=function(b){return function(){throw b;}}})(PS["Control.Monad.Eff.Exception"]=PS["Control.Monad.Eff.Exception"]||{});
(function(a){a.Alt=function(b,a){this["__superclass_Prelude.Functor_0"]=b;this.alt=a};a["<|>"]=function(b){return b.alt};a.alt=function(b){return b.alt}})(PS["Control.Alt"]=PS["Control.Alt"]||{});(function(a){a.Monoid=function(b,a){this["__superclass_Prelude.Semigroup_0"]=b;this.mempty=a};a.mempty=function(b){return b.mempty}})(PS["Data.Monoid"]=PS["Data.Monoid"]||{});
(function(a){var b=PS.Prelude,c=function(){function b(){}b.value=new b;return b}(),f=function(){function b(a){this.value0=a}b.create=function(a){return new b(a)};return b}(),d=function(b){return function(a){return function(d){if(d instanceof c)return b;if(d instanceof f)return a(d.value0);throw Error("Failed pattern match at Data.Maybe line 27, column 1 - line 28, column 1: "+[b.constructor.name,a.constructor.name,d.constructor.name]);}}},e=new b.Functor(function(b){return function(a){return a instanceof
f?new f(b(a.value0)):c.value}}),g=new b.Apply(function(){return e},function(a){return function(d){if(a instanceof f)return b["<$>"](e)(a.value0)(d);if(a instanceof c)return c.value;throw Error("Failed pattern match at Data.Maybe line 122, column 3 - line 123, column 3: "+[a.constructor.name,d.constructor.name]);}}),m=new b.Bind(function(){return g},function(b){return function(a){if(b instanceof f)return a(b.value0);if(b instanceof c)return c.value;throw Error("Failed pattern match at Data.Maybe line 181, column 3 - line 182, column 3: "+
[b.constructor.name,a.constructor.name]);}}),h=new b.Applicative(function(){return g},f.create);a.Nothing=c;a.Just=f;a.fromMaybe=function(a){return d(a)(b.id(b.categoryFn))};a.maybe=d;a.functorMaybe=e;a.applyMaybe=g;a.applicativeMaybe=h;a.bindMaybe=m})(PS["Data.Maybe"]=PS["Data.Maybe"]||{});
(function(a){a.returnE=function(b){return function(){return b}};a.bindE=function(b){return function(a){return function(){return a(b())()}}};a.runPure=function(b){return b()}})(PS["Control.Monad.Eff"]=PS["Control.Monad.Eff"]||{});
(function(a){var b=PS["Control.Monad.Eff"],c=PS.Prelude,f=new c.Monad(function(){return g},function(){return d}),d=new c.Bind(function(){return e},b.bindE),e=new c.Apply(function(){return m},c.ap(f)),g=new c.Applicative(function(){return e},b.returnE),m=new c.Functor(c.liftA1(g));a.functorEff=m;a.applyEff=e;a.applicativeEff=g;a.bindEff=d;a.monadEff=f;a.runPure=b.runPure})(PS["Control.Monad.Eff"]=PS["Control.Monad.Eff"]||{});
(function(a){var b=PS["Control.Monad.Eff.Exception"];a.throwException=b.throwException;a.message=b.message;a.error=b.error})(PS["Control.Monad.Eff.Exception"]=PS["Control.Monad.Eff.Exception"]||{});(function(a){a.foldrArray=function(b){return function(a){return function(f){for(var d=a,e=f.length-1;0<=e;e--)d=b(f[e])(d);return d}}};a.foldlArray=function(b){return function(a){return function(f){for(var d=a,e=f.length,g=0;g<e;g++)d=b(d)(f[g]);return d}}}})(PS["Data.Foldable"]=PS["Data.Foldable"]||{});
(function(a){var b=PS.Prelude;a["*>"]=function(a){return function(f){return function(d){return b["<*>"](a)(b["<$>"](a["__superclass_Prelude.Functor_0"]())(b["const"](b.id(b.categoryFn)))(f))(d)}}}})(PS["Control.Apply"]=PS["Control.Apply"]||{});
(function(a){var b=PS["Data.Foldable"],c=PS.Prelude,f=PS["Control.Apply"],d=PS["Data.Maybe"],e=PS["Data.Monoid"],g=function(b,a,c){this.foldMap=b;this.foldl=a;this.foldr=c},m=function(b){return function(a){return function(d){return(0,a.foldr)(function(a){return f["*>"](b["__superclass_Prelude.Apply_0"]())(d(a))})(c.pure(b)(c.unit))}}},h=new g(function(b){return function(a){return function(c){if(c instanceof d.Nothing)return e.mempty(b);if(c instanceof d.Just)return a(c.value0);throw Error("Failed pattern match at Data.Foldable line 108, column 3 - line 109, column 3: "+
[a.constructor.name,c.constructor.name]);}}},function(b){return function(a){return function(c){if(c instanceof d.Nothing)return a;if(c instanceof d.Just)return b(a)(c.value0);throw Error("Failed pattern match at Data.Foldable line 106, column 3 - line 107, column 3: "+[b.constructor.name,a.constructor.name,c.constructor.name]);}}},function(b){return function(a){return function(c){if(c instanceof d.Nothing)return a;if(c instanceof d.Just)return b(c.value0)(a);throw Error("Failed pattern match at Data.Foldable line 104, column 3 - line 105, column 3: "+
[b.constructor.name,a.constructor.name,c.constructor.name]);}}}),l=function(b){return function(a){return function(d){return function(f){return(0,b.foldr)(function(b){return function(e){return c["<>"](a["__superclass_Prelude.Semigroup_0"]())(d(b))(e)}})(e.mempty(a))(f)}}}},k=new g(function(b){return l(k)(b)},b.foldlArray,b.foldrArray);a.Foldable=g;a.find=function(b){return function(a){return(0,b.foldl)(function(b){return function(c){var e=a(c);if(e)return new d.Just(c);if(!e)return b;throw Error("Failed pattern match at Data.Foldable line 234, column 25 - line 234, column 50: "+
[e.constructor.name]);}})(d.Nothing.value)}};a.for_=function(b){return function(a){return c.flip(m(b)(a))}};a.traverse_=m;a.foldMapDefaultR=l;a.foldMap=function(b){return b.foldMap};a.foldl=function(b){return b.foldl};a.foldr=function(b){return b.foldr};a.foldableArray=k;a.foldableMaybe=h})(PS["Data.Foldable"]=PS["Data.Foldable"]||{});
(function(a){a.traverseArrayImpl=function(){function b(b){this.fn=b}function a(b){return function(a){return new e(b,a)}}function f(b){for(var a=[];b!==d;)a.push(b.head),b=b.tail;return a}var d={},e=function(b,a){this.head=b;this.tail=a};return function(e){return function(m){return function(h){return function(l){var k=function(d,f,h){if(0===f)return d;var p=h[f-1];return new b(function(){var b=k,t;t=e(m(a)(l(p)))(d);return b(t,f-1,h)})};return function(a){for(a=k(h(d),a.length,a);a instanceof b;)a=
a.fn();return m(f)(a)}}}}}}()})(PS["Data.Traversable"]=PS["Data.Traversable"]||{});
(function(a){var b=PS["Data.Traversable"],c=PS.Prelude,f=PS["Data.Foldable"],d=function(b,a,c,d){this["__superclass_Data.Foldable.Foldable_1"]=b;this["__superclass_Prelude.Functor_0"]=a;this.sequence=c;this.traverse=d},e=function(b){return function(a){return function(d){return(0,b.traverse)(a)(c.id(c.categoryFn))(d)}}},g=new d(function(){return f.foldableArray},function(){return c.functorArray},function(b){return e(g)(b)},function(a){return b.traverseArrayImpl(c.apply(a["__superclass_Prelude.Apply_0"]()))(c.map(a["__superclass_Prelude.Apply_0"]()["__superclass_Prelude.Functor_0"]()))(c.pure(a))});
a.Traversable=d;a["for"]=function(b){return function(a){return function(c){return function(d){return(0,a.traverse)(b)(d)(c)}}}};a.sequenceDefault=e;a.sequence=function(b){return b.sequence};a.traverse=function(b){return b.traverse};a.traversableArray=g})(PS["Data.Traversable"]=PS["Data.Traversable"]||{});
(function(a){var b=PS.Prelude,c=PS["Control.Alt"],f=PS["Data.Foldable"],d=PS["Data.Monoid"],e=function(){function b(a){this.value0=a}b.create=function(a){return new b(a)};return b}(),g=function(){function b(a){this.value0=a}b.create=function(a){return new b(a)};return b}(),m=new b.Functor(function(b){return function(a){if(a instanceof e)return new e(a.value0);if(a instanceof g)return new g(b(a.value0));throw Error("Failed pattern match at Data.Either line 53, column 3 - line 54, column 3: "+[b.constructor.name,
a.constructor.name]);}}),f=new f.Foldable(function(b){return function(a){return function(c){if(c instanceof e)return d.mempty(b);if(c instanceof g)return a(c.value0);throw Error("Failed pattern match at Data.Either line 206, column 3 - line 207, column 3: "+[a.constructor.name,c.constructor.name]);}}},function(b){return function(a){return function(c){if(c instanceof e)return a;if(c instanceof g)return b(a)(c.value0);throw Error("Failed pattern match at Data.Either line 204, column 3 - line 205, column 3: "+
[b.constructor.name,a.constructor.name,c.constructor.name]);}}},function(b){return function(a){return function(c){if(c instanceof e)return a;if(c instanceof g)return b(c.value0)(a);throw Error("Failed pattern match at Data.Either line 202, column 3 - line 203, column 3: "+[b.constructor.name,a.constructor.name,c.constructor.name]);}}}),h=function(b){return function(a){return function(c){if(c instanceof e)return b(c.value0);if(c instanceof g)return a(c.value0);throw Error("Failed pattern match at Data.Either line 29, column 1 - line 30, column 1: "+
[b.constructor.name,a.constructor.name,c.constructor.name]);}}},l=new b.Apply(function(){return m},function(a){return function(c){if(a instanceof e)return new e(a.value0);if(a instanceof g)return b["<$>"](m)(a.value0)(c);throw Error("Failed pattern match at Data.Either line 93, column 3 - line 94, column 3: "+[a.constructor.name,c.constructor.name]);}}),k=new b.Bind(function(){return l},h(function(b){return function(a){return new e(b)}})(function(b){return function(a){return a(b)}})),q=new b.Applicative(function(){return l},
g.create),c=new c.Alt(function(){return m},function(b){return function(a){return b instanceof e?a:b}});a.Left=e;a.Right=g;a.either=h;a.functorEither=m;a.applyEither=l;a.applicativeEither=q;a.altEither=c;a.bindEither=k;a.foldableEither=f})(PS["Data.Either"]=PS["Data.Either"]||{});
(function(a){a.MonadError=function(b,a,f){this["__superclass_Prelude.Monad_0"]=b;this.catchError=a;this.throwError=f};a.catchError=function(b){return b.catchError};a.throwError=function(b){return b.throwError}})(PS["Control.Monad.Error.Class"]=PS["Control.Monad.Error.Class"]||{});
(function(a){a._makeAff=function(b){return function(a,f){return b(function(b){return function(){f(b)}})(function(b){return function(){try{a(b)}catch(e){f(e)}}})()}};a._pure=function(b,a){return function(f,d){try{f(a)}catch(e){d(e)}return b}};a._throwError=function(b,a){return function(f,d){d(a);return b}};a._fmap=function(b,a){return function(f,d){return a(function(a){try{f(b(a))}catch(c){d(c)}},d)}};a._bind=function(b,a,f){return function(d,e){var g,m,h=!1,l=!1,k=function(){};g=a(function(a){if(l)return h=
!0,b;m=f(a)(d,e);k(m);return m},e);return function(b){return function(a,c){l=!0;return void 0!==m?m(b)(a,c):g(b)(function(d){if(d||h)try{a(!0)}catch(e){c(e)}else k=function(d){d(b)(a,c)}},c)}}}};a._attempt=function(b,a,f){return function(d,e){return f(function(b){try{d(a(b))}catch(f){e(f)}},function(a){try{d(b(a))}catch(c){e(c)}})}};a._runAff=function(b,a,f){return function(){return f(function(d){try{a(d)()}catch(e){b(e)()}},function(a){b(a)()})}};a._liftEff=function(b,a){return function(f,d){try{f(a())}catch(e){d(e)}return b}}})(PS["Control.Monad.Aff"]=
PS["Control.Monad.Aff"]||{});(function(a){a.MonadEff=function(b,a){this["__superclass_Prelude.Monad_0"]=b;this.liftEff=a};a.liftEff=function(b){return b.liftEff}})(PS["Control.Monad.Eff.Class"]=PS["Control.Monad.Eff.Class"]||{});(function(a){a.runFn4=function(b){return function(a){return function(f){return function(d){return function(e){return b(a,f,d,e)}}}}}})(PS["Data.Function"]=PS["Data.Function"]||{});
(function(a){var b=PS["Data.Function"];a.on=function(b){return function(a){return function(d){return function(e){return b(a(d))(a(e))}}}};a.runFn4=b.runFn4})(PS["Data.Function"]=PS["Data.Function"]||{});
(function(a){var b=PS["Control.Monad.Aff"],c=PS.Prelude,f=PS["Control.Monad.Eff"],d=PS["Control.Monad.Eff.Class"],e=PS["Control.Monad.Error.Class"],g=PS["Data.Either"],m=function(a){return b._makeAff(a)},h=new c.Functor(function(a){return function(c){return b._fmap(a,c)}}),l=function(a){return b._attempt(g.Left.create,g.Right.create,a)},k=new c.Apply(function(){return h},function(a){return function(d){return b._bind(w,a,function(b){return c["<$>"](h)(b)(d)})}}),q=new c.Applicative(function(){return k},
function(a){return b._pure(u,a)}),u=c["const"](c.pure(q)(!1)),w=c["const"](c.pure(q)(!0)),p=new c.Bind(function(){return k},function(a){return function(c){return b._bind(w,a,c)}}),n=new c.Monad(function(){return q},function(){return p}),d=new d.MonadEff(function(){return n},function(a){return b._liftEff(u,a)}),t=new e.MonadError(function(){return n},function(b){return function(a){return c[">>="](p)(l(b))(g.either(a)(c.pure(q)))}},function(a){return b._throwError(u,a)});a.runAff=function(a){return function(c){return function(d){return b._runAff(a,
c,d)}}};a.nonCanceler=u;a.makeAff=function(b){return m(function(a){return function(d){return c["<$>"](f.functorEff)(c["const"](u))(b(a)(d))}})};a["finally"]=function(b){return function(a){return c.bind(p)(l(b))(function(b){return c.bind(p)(a)(function(){return g.either(e.throwError(t))(c.pure(q))(b)})})}};a.attempt=l;a.functorAff=h;a.applyAff=k;a.applicativeAff=q;a.bindAff=p;a.monadAff=n;a.monadEffAff=d;a.monadErrorAff=t})(PS["Control.Monad.Aff"]=PS["Control.Monad.Aff"]||{});
(function(a){a.nowImpl=function(b){return function(){return b(new Date)}};a.jsDateConstructor=function(b){return new Date(b)};a.jsDateMethod=function(b,a){return a[b]()};a.strictJsDate=function(b,a,f){var d=Date.parse(f);if(isNaN(d))return a;d=new Date(d);return 0>d.toISOString().indexOf(f)?a:b(d)}})(PS["Data.Date"]=PS["Data.Date"]||{});(function(a){a.Milliseconds=function(b){return b}})(PS["Data.Time"]=PS["Data.Time"]||{});
(function(a){var b=function(){function b(a,c){this.value0=a;this.value1=c}b.create=function(a){return function(d){return new b(a,d)}};return b}();a.Tuple=b;a.snd=function(b){return b.value1};a.fst=function(b){return b.value0}})(PS["Data.Tuple"]=PS["Data.Tuple"]||{});
(function(a){a.replicate=function(b){return function(a){if(1>b)return[];for(var f=Array(b),d=0;d<b;d++)f[d]=a;return f}};a.length=function(b){return b.length};a.cons=function(b){return function(a){return[b].concat(a)}};a["uncons'"]=function(b){return function(a){return function(f){return 0===f.length?b({}):a(f[0])(f.slice(1))}}};a.indexImpl=function(b){return function(a){return function(f){return function(d){return 0>d||d>=f.length?a:b(f[d])}}}};a.concat=function(b){for(var a=[],f=0,d=b.length;f<
d;f++)for(var e=b[f],g=0,m=e.length;g<m;g++)a.push(e[g]);return a};a.filter=function(b){return function(a){return a.filter(b)}};a.sortImpl=function(b){return function(a){return a.slice().sort(function(a,c){return b(a)(c)})}};a.slice=function(b){return function(a){return function(f){return f.slice(b,a)}}};a.zipWith=function(b){return function(a){return function(f){for(var d=a.length<f.length?a.length:f.length,e=Array(d),g=0;g<d;g++)e[g]=b(a[g])(f[g]);return e}}}})(PS["Data.Array"]=PS["Data.Array"]||
{});(function(a){a.unsafeThrow=function(b){throw Error(b);}})(PS["Data.Maybe.Unsafe"]=PS["Data.Maybe.Unsafe"]||{});
(function(a){var b=PS["Data.Maybe.Unsafe"],c=PS["Data.Maybe"];a.fromJust=function(a){if(a instanceof c.Just)return a.value0;if(a instanceof c.Nothing)return b.unsafeThrow("Data.Maybe.Unsafe.fromJust called on Nothing");throw Error("Failed pattern match at Data.Maybe.Unsafe line 11, column 1 - line 12, column 1: "+[a.constructor.name]);}})(PS["Data.Maybe.Unsafe"]=PS["Data.Maybe.Unsafe"]||{});
(function(a){var b=PS["Data.Array"],c=PS.Prelude,f=PS["Data.Maybe"],d=PS["Data.Traversable"],e=b.cons,g=b.zipWith(PS["Data.Tuple"].Tuple.create),m=function(a){return function(d){return b.sortImpl(function(b){return function(d){d=a(b)(d);if(d instanceof c.GT)return 1;if(d instanceof c.EQ)return 0;if(d instanceof c.LT)return-1;throw Error("Failed pattern match at Data.Array line 409, column 15 - line 414, column 1: "+[d.constructor.name]);}})(d)}},f=b.indexImpl(f.Just.create)(f.Nothing.value),h=function(a){return function(d){return b["uncons'"](function(b){return c.pure(a["__superclass_Prelude.Applicative_0"]())([])})(function(b){return function(f){return c.bind(a["__superclass_Prelude.Bind_1"]())(d(b))(function(g){return c.bind(a["__superclass_Prelude.Bind_1"]())(h(a)(d)(f))(function(d){var f=
c["return"](a["__superclass_Prelude.Applicative_0"]());if(g)d=e(b)(d);else if(g)throw Error("Failed pattern match at Data.Array line 382, column 5 - line 388, column 1: "+[g.constructor.name]);return f(d)})})}})}};a.zip=g;a.zipWithA=function(a){return function(c){return function(e){return function(f){return d.sequence(d.traversableArray)(a)(b.zipWith(c)(e)(f))}}}};a.sortBy=m;a.sort=function(a){return function(b){return m(c.compare(a))(b)}};a.filterM=h;a.index=f;a["!!"]=f;a.zipWith=b.zipWith;a.filter=
b.filter;a.length=b.length;a.replicate=b.replicate})(PS["Data.Array"]=PS["Data.Array"]||{});(function(a){a._toChar=function(a){return function(c){return function(f){return 1===f.length?a(f):c}}};a.length=function(a){return a.length};a.split=function(a){return function(c){return c.split(a)}};a.joinWith=function(a){return function(c){return c.join(a)}}})(PS["Data.String"]=PS["Data.String"]||{});
(function(a){var b=PS["Data.String"],c=PS["Data.Maybe"],c=b._toChar(c.Just.create)(c.Nothing.value);a.toChar=c;a.joinWith=b.joinWith;a.split=b.split})(PS["Data.String"]=PS["Data.String"]||{});(function(a){var b=function(){function a(){}a.value=new a;return a}();a.Proxy=b})(PS["Type.Proxy"]=PS["Type.Proxy"]||{});
(function(a){var b=PS.Prelude,c=PS["Data.Maybe"],f=PS["Data.Tuple"],d=PS["Data.Traversable"],e=PS["Type.Proxy"],g=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),m=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),h=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),l=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};
return a}(),k=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),q=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),u=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),w=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),p=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),
n=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),t=function(){function a(){}a.value=new a;return a}(),x=function(){function a(){}a.value=new a;return a}(),A=function(){function a(){}a.value=new a;return a}(),r=function(){function a(){}a.value=new a;return a}(),B=function(){function a(){}a.value=new a;return a}(),z=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),v=function(a,b,c){this.fromSpine=a;this.toSignature=b;
this.toSpine=c},y=new v(function(a){return a instanceof g&&"Prelude.Unit"===a.value0&&0===a.value1.length?new c.Just(b.unit):c.Nothing.value},function(a){return new p("Prelude.Unit",[{sigConstructor:"Prelude.Unit",sigValues:[]}])},function(a){return new g("Prelude.Unit",[])}),E=new v(function(a){return a instanceof q?new c.Just(a.value0):c.Nothing.value},function(a){return r.value},function(a){return new q(a)}),D=new v(function(a){return a instanceof h?new c.Just(a.value0):c.Nothing.value},function(a){return t.value},
function(a){return new h(a)}),G=new v(function(a){return a instanceof k?new c.Just(a.value0):c.Nothing.value},function(a){return A.value},function(a){return new k(a)}),F=e.Proxy.value;a.SigProd=p;a.SigRecord=n;a.SigNumber=t;a.SigBoolean=x;a.SigInt=A;a.SigString=r;a.SigChar=B;a.SigArray=z;a.SProd=g;a.SRecord=m;a.SNumber=h;a.SBoolean=l;a.SInt=k;a.SString=q;a.SChar=u;a.SArray=w;a.Generic=v;a.fromSpine=function(a){return a.fromSpine};a.toSignature=function(a){return a.toSignature};a.toSpine=function(a){return a.toSpine};
a.genericNumber=D;a.genericInt=G;a.genericString=E;a.genericArray=function(a){return new v(function(e){return e instanceof w?d.traverse(d.traversableArray)(c.applicativeMaybe)(function(c){return(0,a.fromSpine)(c(b.unit))})(e.value0):c.Nothing.value},function(b){return new z(function(b){return(0,a.toSignature)(F)})},function(c){return new w(b["<$>"](b.functorArray)(function(b){return function(c){return(0,a.toSpine)(b)}})(c))})};a.genericTuple=function(a){return function(d){return new v(function(e){return e instanceof
g&&"Data.Tuple.Tuple"===e.value0&&2===e.value1.length?b["<*>"](c.applyMaybe)(b["<$>"](c.functorMaybe)(f.Tuple.create)((0,a.fromSpine)(e.value1[0](b.unit))))((0,d.fromSpine)(e.value1[1](b.unit))):c.Nothing.value},function(b){return new p("Data.Tuple.Tuple",[{sigConstructor:"Data.Tuple.Tuple",sigValues:[function(b){return(0,a.toSignature)(F)},function(a){return(0,d.toSignature)(F)}]}])},function(b){return new g("Data.Tuple.Tuple",[function(c){return(0,a.toSpine)(b.value0)},function(a){return(0,d.toSpine)(b.value1)}])})}};
a.genericMaybe=function(a){return new v(function(d){return d instanceof g&&"Data.Maybe.Just"===d.value0&&1===d.value1.length?b["<$>"](c.functorMaybe)(c.Just.create)((0,a.fromSpine)(d.value1[0](b.unit))):d instanceof g&&"Data.Maybe.Nothing"===d.value0&&0===d.value1.length?b["return"](c.applicativeMaybe)(c.Nothing.value):c.Nothing.value},function(b){return new p("Data.Maybe.Maybe",[{sigConstructor:"Data.Maybe.Just",sigValues:[function(b){return(0,a.toSignature)(F)}]},{sigConstructor:"Data.Maybe.Nothing",
sigValues:[]}])},function(b){if(b instanceof c.Just)return new g("Data.Maybe.Just",[function(c){return(0,a.toSpine)(b.value0)}]);if(b instanceof c.Nothing)return new g("Data.Maybe.Nothing",[]);throw Error("Failed pattern match at Data.Generic line 137, column 7 - line 138, column 7: "+[b.constructor.name]);})};a.genericUnit=y})(PS["Data.Generic"]=PS["Data.Generic"]||{});(function(a){a.isNaN=isNaN})(PS.Global=PS.Global||{});(function(a){a.isNaN=PS.Global.isNaN})(PS.Global=PS.Global||{});
(function(a){var b=PS["Data.Date"],c=PS.Prelude,f=PS["Data.Maybe"],d=PS["Data.Time"],e=PS["Data.Generic"],g=PS.Global,m=function(a){return b.jsDateMethod("getTime",a)},h=b.nowImpl(function(a){return a}),l=function(a){var c=g.isNaN(b.jsDateMethod("getTime",a));if(c)return f.Nothing.value;if(!c)return new f.Just(a);throw Error("Failed pattern match at Data.Date line 60, column 3 - line 65, column 1: "+[c.constructor.name]);},k=function(a){return l(b.jsDateConstructor(a))},q=new e.Generic(function(a){return a instanceof
e.SProd&&"Data.Date.Date"===a.value0&&1===a.value1.length?f.maybe(f.Nothing.value)(function(a){return k(d.Milliseconds(a))})(e.fromSpine(e.genericNumber)(a.value1[0](c.unit))):f.Nothing.value},function(a){return new e.SigProd("Data.Date.Date",[{sigConstructor:"Data.Date.Date",sigValues:[c["const"](e.SigNumber.value)]}])},function(a){var b=m(a);return new e.SProd("Data.Date.Date",[function(a){return new e.SNumber(b)}])});a.now=h;a.fromStringStrict=function(a){return c[">>="](f.bindMaybe)(b.strictJsDate(f.Just.create,
f.Nothing.value,a))(l)};a.toEpochMilliseconds=m;a.fromEpochMilliseconds=k;a.fromJSDate=l;a.genericDate=q})(PS["Data.Date"]=PS["Data.Date"]||{});
(function(a){a.parseJSONImpl=function(a,c,f){try{return c(JSON.parse(f))}catch(d){return a(d.toString())}};a.toForeign=function(a){return a};a.unsafeFromForeign=function(a){return a};a.typeOf=function(a){return typeof a};a.tagOf=function(a){return Object.prototype.toString.call(a).slice(8,-1)};a.isNull=function(a){return null===a};a.isUndefined=function(a){return void 0===a};a.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}})(PS["Data.Foreign"]=PS["Data.Foreign"]||
{});(function(a){a.fromNumberImpl=function(a){return function(c){return function(f){return(f|0)===f?a(f):c}}};a.toNumber=function(a){return a}})(PS["Data.Int"]=PS["Data.Int"]||{});(function(a){a.ceil=Math.ceil})(PS.Math=PS.Math||{});(function(a){a.ceil=PS.Math.ceil})(PS.Math=PS.Math||{});
(function(a){var b=PS["Data.Int"],c=PS.Prelude,f=PS["Data.Maybe"],d=PS["Data.Maybe.Unsafe"],e=PS.Math,g=b.fromNumberImpl(f.Just.create)(f.Nothing.value);a.ceil=function(a){a=e.ceil(a);if(a>=b.toNumber(c.top(c.boundedInt)))a=c.top(c.boundedInt);else if(a<=b.toNumber(c.bottom(c.boundedInt)))a=c.bottom(c.boundedInt);else if(c.otherwise)a=d.fromJust(g(a));else throw Error("Failed pattern match at Data.Int line 49, column 1 - line 56, column 1: "+[a.constructor.name]);return a};a.fromNumber=g;a.toNumber=
b.toNumber})(PS["Data.Int"]=PS["Data.Int"]||{});
(function(a){var b=PS["Data.Foreign"],c=PS.Prelude,f=PS["Data.Either"],d=PS["Data.Maybe"],e=PS["Data.Int"],e=PS["Data.Int"],g=PS["Data.String"],m=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),h=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),l=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,
c)}};return a}(),k=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),q=function(a){return function(d){return b.tagOf(d)===a?c.pure(f.applicativeEither)(b.unsafeFromForeign(d)):new f.Left(new m(a,b.tagOf(d)))}},u=new c.Show(function(a){if(a instanceof m)return"Type mismatch: expected "+(a.value0+(", found "+a.value1));if(a instanceof h)return"Error at array index "+(c.show(c.showInt)(a.value0)+(": "+c.show(u)(a.value1)));if(a instanceof l)return"Error at property "+
(c.show(c.showString)(a.value0)+(": "+c.show(u)(a.value1)));if(a instanceof k)return"JSON error: "+a.value0;throw Error("Failed pattern match at Data.Foreign line 54, column 3 - line 55, column 3: "+[a.constructor.name]);}),w=q("String"),p=q("Number"),n=q("Boolean");a.TypeMismatch=m;a.ErrorAtIndex=h;a.ErrorAtProperty=l;a.JSONError=k;a.readArray=function(a){return b.isArray(a)?c.pure(f.applicativeEither)(b.unsafeFromForeign(a)):new f.Left(new m("array",b.tagOf(a)))};a.readInt=function(a){var g=f.Left.create(new m("Int",
b.tagOf(a)));return f.either(c["const"](g))(function(a){return d.maybe(g)(c.pure(f.applicativeEither))(e.fromNumber(a))})(p(a))};a.readNumber=p;a.readBoolean=n;a.readChar=function(a){var e=f.Left.create(new m("Char",b.tagOf(a)));return f.either(c["const"](e))(function(a){return d.maybe(e)(c.pure(f.applicativeEither))(g.toChar(a))})(w(a))};a.readString=w;a.unsafeReadTagged=q;a.parseJSON=function(a){return b.parseJSONImpl(function(a){return f.Left.create(k.create(a))},f.Right.create,a)};a.showForeignError=
u;a.isUndefined=b.isUndefined;a.isNull=b.isNull;a.typeOf=b.typeOf;a.unsafeFromForeign=b.unsafeFromForeign;a.toForeign=b.toForeign})(PS["Data.Foreign"]=PS["Data.Foreign"]||{});(function(a){a.unsafeReadPropImpl=function(a,c,f,d){return null==d?a:c(d[f])};a.unsafeHasOwnProperty=function(a,c){return Object.prototype.hasOwnProperty.call(c,a)};a.unsafeHasProperty=function(a,c){return a in c}})(PS["Data.Foreign.Index"]=PS["Data.Foreign.Index"]||{});
(function(a){var b=PS["Data.Foreign.Index"],c=PS.Prelude,f=PS["Data.Either"],d=PS["Data.Foreign"],e=function(a,b,c,d){this.errorAt=a;this.hasOwnProperty=b;this.hasProperty=c;this.ix=d},g=function(a){return function(e){return b.unsafeReadPropImpl(new f.Left(new d.TypeMismatch("object",d.typeOf(e))),c.pure(f.applicativeEither),a,e)}},m=new e(d.ErrorAtProperty.create,function(a){return function(c){return d.isNull(c)||d.isUndefined(c)?!1:"object"===d.typeOf(c)||"function"===d.typeOf(c)?b.unsafeHasOwnProperty(a,
c):!1}},function(a){return function(c){return d.isNull(c)||d.isUndefined(c)?!1:"object"===d.typeOf(c)||"function"===d.typeOf(c)?b.unsafeHasProperty(a,c):!1}},c.flip(g));a.Index=e;a.errorAt=function(a){return a.errorAt};a.hasOwnProperty=function(a){return a.hasOwnProperty};a.hasProperty=function(a){return a.hasProperty};a["!"]=function(a){return a.ix};a.ix=function(a){return a.ix};a.prop=g;a.indexString=m})(PS["Data.Foreign.Index"]=PS["Data.Foreign.Index"]||{});
(function(a){var b=PS.Prelude,c=PS["Data.Either"],f=PS["Data.Foreign"],d=PS["Data.Foreign.Index"],e=function(a){this.read=a},g=new e(f.readString),m=function(a){return function(b){return function(d){return c.either(function(a){return c.Left.create(b(a))})(c.Right.create)((0,a.read)(d))}}},h=new e(f.readNumber),f=new e(f.readInt),l=new e(function(a){return b["return"](c.applicativeEither)(a)});a.IsForeign=e;a.readProp=function(a){return function(e){return function(f){return function(g){return b[">>="](c.bindEither)(d["!"](e)(g)(f))(m(a)(d.errorAt(e)(f)))}}}};
a.readWith=m;a.read=function(a){return a.read};a.foreignIsForeign=l;a.stringIsForeign=g;a.numberIsForeign=h;a.intIsForeign=f})(PS["Data.Foreign.Class"]=PS["Data.Foreign.Class"]||{});
(function(a){a.connect_=function(a){return function(c,f){require("any-db").createConnection(a,function(a,b){a?f(a):c(b)})}};a.runQuery_=function(a){return function(c){return function(f,d){c.query(a,function(a,b){a?d(a):f(b.rows)})}}};a.runQuery=function(a){return function(c){return function(f){return function(d,e){f.query(a,c,function(a,b){if(a)return e(a);d(b.rows)})}}}};a.close=function(a){return function(){a.end()}}})(PS["Database.AnyDB"]=PS["Database.AnyDB"]||{});
(function(a){a.unsafeToSqlValue=function(a){return a}})(PS["Database.AnyDB.SqlValue"]=PS["Database.AnyDB.SqlValue"]||{});
(function(a){var b=PS["Database.AnyDB.SqlValue"],c=PS["Data.Int"],f=function(a){this.toSql=a},d=new f(b.unsafeToSqlValue),e=new f(function(a){return b.unsafeToSqlValue(c.toNumber(a))}),g=new f(b.unsafeToSqlValue),m=new f(b.unsafeToSqlValue);a.IsSqlValue=f;a.toSql=function(a){return a.toSql};a.isSqlValueString=d;a.isSqlValueInt=e;a.isSqlValueBuffer=m;a.isSqlValueDate=g})(PS["Database.AnyDB.SqlValue"]=PS["Database.AnyDB.SqlValue"]||{});
(function(a){var b=PS["Database.AnyDB"],c=PS.Prelude,f=PS["Data.Either"],d=PS["Data.Array"],e=PS["Data.Foreign"],g=PS["Data.Foreign.Class"],m=PS["Data.Maybe"],h=PS["Control.Monad.Aff"],l=PS["Control.Monad.Eff.Class"],k=PS["Control.Monad.Eff.Exception"],q=PS["Control.Monad.Error.Class"],u=PS["Data.Traversable"],w=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),p=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),n=function(a){if(a instanceof
w)return"postgres://"+(a.value0.user+(":"+(a.value0.password+("@"+(a.value0.host+(":"+(c.show(c.showInt)(a.value0.port)+("/"+a.value0.db))))))));if(a instanceof p){if(a.value0.memory)a=":memory:";else{if(a.value0.memory)throw Error("Failed pattern match at Database.AnyDB line 71, column 36 - line 74, column 1: "+[a.value0.memory.constructor.name]);a=a.value0.filename}return"sqlite3://"+a}throw Error("Failed pattern match at Database.AnyDB line 65, column 1 - line 71, column 1: "+[a.constructor.name]);
},t=function(a){return q.throwError(h.monadErrorAff)(k.error(c.show(e.showForeignError)(a)))},x=function(a){return b.connect_(n(a))};a.Postgres=w;a.Sqlite3=p;a.Query=function(a){return a};a.withConnection=function(a){return function(d){return c.bind(h.bindAff)(x(a))(function(a){return h["finally"](d(a))(l.liftEff(h.monadEffAff)(b.close(a)))})}};a.queryOne_=function(a){return function(e){return function(k){return c.bind(h.bindAff)(b.runQuery_(e)(k))(function(b){return m.maybe(c.pure(h.applicativeAff)(m.Nothing.value))(f.either(t)(function(a){return c.pure(h.applicativeAff)(m.Just.create(a))}))(c["<$>"](m.functorMaybe)(g.read(a))(d["!!"](b)(0)))})}}};
a.queryOne=function(a){return function(e){return function(k){return function(l){return c.bind(h.bindAff)(b.runQuery(e)(k)(l))(function(b){return m.maybe(c.pure(h.applicativeAff)(m.Nothing.value))(f.either(t)(function(a){return c.pure(h.applicativeAff)(m.Just.create(a))}))(c["<$>"](m.functorMaybe)(g.read(a))(d["!!"](b)(0)))})}}}};a.query_=function(a){return function(d){return function(e){return c.bind(h.bindAff)(b.runQuery_(d)(e))(function(b){return f.either(t)(c.pure(h.applicativeAff))(u.sequence(u.traversableArray)(f.applicativeEither)(c["<$>"](c.functorArray)(g.read(a))(b)))})}}};
a.query=function(a){return function(d){return function(e){return function(k){return c.bind(h.bindAff)(b.runQuery(d)(e)(k))(function(b){return f.either(t)(c.pure(h.applicativeAff))(u.sequence(u.traversableArray)(f.applicativeEither)(c["<$>"](c.functorArray)(g.read(a))(b)))})}}}};a.execute_=function(a){return function(d){return c["void"](h.functorAff)(b.runQuery_(a)(d))}};a.execute=function(a){return function(d){return function(e){return c["void"](h.functorAff)(b.runQuery(a)(d)(e))}}};a.connect=x;a.mkConnectionString=
n})(PS["Database.AnyDB"]=PS["Database.AnyDB"]||{});(function(a){function b(a){return function(b){var d=[],e;for(e in b)b.hasOwnProperty(e)&&d.push(a(e)(b[e]));return d}}a._copyEff=function(a){return function(){var b={},d;for(d in a)a.hasOwnProperty(d)&&(b[d]=a[d]);return b}};a.empty={};a.runST=function(a){return a};a._lookup=function(a,b,d,e){return d in e?b(e[d]):a};a._collect=b;a.keys=Object.keys||b(function(a){return function(){return a}})})(PS["Data.StrMap"]=PS["Data.StrMap"]||{});
(function(a){var b=PS.Prelude,c=PS["Data.Foldable"],f=PS["Data.Monoid"],d=function(){function a(){}a.value=new a;return a}(),e=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),g=function(a){return c.foldr(a)(e.create)(d.value)},m=new c.Foldable(function(a){return function(d){return c.foldl(m)(function(c){return function(e){return b.append(a["__superclass_Prelude.Semigroup_0"]())(c)(d(e))}})(f.mempty(a))}},function(){return function(a){return function(b){return function(c){var f=
a,g=b,m=c;a:for(;;){if(m instanceof d)return g;if(m instanceof e){c=f;g=f(g)(m.value0);m=m.value1;f=c;continue a}throw Error("Failed pattern match at Data.List line 741, column 3 - line 745, column 3: "+[f.constructor.name,g.constructor.name,m.constructor.name]);}}}}}(),function(a){return function(b){return function(f){if(f instanceof d)return b;if(f instanceof e)return a(f.value0)(c.foldr(m)(a)(b)(f.value1));throw Error("Failed pattern match at Data.List line 739, column 3 - line 740, column 3: "+
[a.constructor.name,b.constructor.name,f.constructor.name]);}}});a.Nil=d;a.Cons=e;a.toList=function(a){return g(a)};a.singleton=function(a){return new e(a,d.value)};a.fromFoldable=g;a.foldableList=m})(PS["Data.List"]=PS["Data.List"]||{});(function(a){a["new"]=function(){return{}};a.poke=function(a){return function(c){return function(f){return function(){a[c]=f;return a}}}}})(PS["Data.StrMap.ST"]=PS["Data.StrMap.ST"]||{});
(function(a){var b=PS["Data.StrMap.ST"];a.poke=b.poke;a["new"]=b["new"]})(PS["Data.StrMap.ST"]=PS["Data.StrMap.ST"]||{});
(function(a){var b=PS["Data.StrMap"],c=PS["Control.Monad.Eff"],f=PS["Data.Foldable"],d=PS["Data.Maybe"],e=PS["Data.List"],g=PS["Data.StrMap.ST"],m=b._copyEff,h=function(a){return c.runPure(b.runST(a))},l=function(a){return function(b){return h(function(){var c=m(b)();a(c)();return c})}},d=PS["Data.Function"].runFn4(b._lookup)(d.Nothing.value)(d.Just.create),k=function(a){return function(b){return h(function(){var d=g["new"]();f.for_(c.applicativeEff)(a)(b)(function(a){return g.poke(d)(a.value0)(a.value1)})();
return d})}},e=k(e.foldableList);a.thawST=m;a.fromList=e;a.fromFoldable=k;a.lookup=d;a.insert=function(a){return function(b){return l(function(c){return g.poke(c)(a)(b)})}};a.keys=b.keys;a.empty=b.empty})(PS["Data.StrMap"]=PS["Data.StrMap"]||{});(function(a){a._collect=function(a){return function(c){var f=[],d;for(d in c)c.hasOwnProperty(d)&&f.push(a(d)(c[d]));return f}}})(PS["App.Model.StrMap"]=PS["App.Model.StrMap"]||{});
(function(a){var b=PS["Data.StrMap"],c=PS["Data.Foldable"],f=PS["App.Model.StrMap"]._collect(PS["Data.Tuple"].Tuple.create),c=c.foldl(c.foldableArray)(function(a){return function(c){return b.insert(c.value0)(c.value1)(a)}})(b.empty);a.fromArray=c;a.toArray=f})(PS["App.Model.StrMap"]=PS["App.Model.StrMap"]||{});
(function(a){var b=PS.Prelude,c=PS["Data.String"],f=PS["Database.AnyDB"],d=PS["Data.Array"],e=PS["Data.Tuple"],g=PS["Data.StrMap"],m=PS["App.Model.StrMap"],h=function(){function a(){}a.value=new a;return a}(),l=function(){function a(){}a.value=new a;return a}(),k=function(){function a(){}a.value=new a;return a}(),q=function(){function a(){}a.value=new a;return a}(),u=function(){function a(){}a.value=new a;return a}(),w=function(){function a(){}a.value=new a;return a}(),p=function(){function a(b,c){this.value0=
b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),n=function(a){return function(b){return f.Query("SELECT * FROM "+(a.name+(" "+b)))}},t=function(a){return" ("+(a+")")};a.Char=h;a.Integer=l;a.Date=k;a.Blob=q;a.PrimaryKey=u;a.Unique=w;a.ColumnDef=p;a.parens=t;a.selectLastInserted=function(a){return n(a)("WHERE id = last_insert_rowid()")};a.selectStarId=function(a){return function(c){return n(a)("WHERE id = "+b.show(b.showInt)(c))}};a.selectStar=n;a.update=function(a){return function(h){return function(r){return function(k){var l=
b.map(b.functorArray)(e.snd)(d.sortBy(function(a){return function(c){return b.compare(b.ordString)(e.fst(a))(e.fst(c))}})(m.toArray(r))),q=d.sort(b.ordString)(g.keys(r)),l=d.zip(q)(l);return f.Query("UPDATE "+(a.name+(" SET "+(c.joinWith(", ")(b.map(b.functorArray)(function(a){return a.value0+(" = '"+(a.value1+"'"))})(l))+(" WHERE id = "+(b.show(b.showInt)(h)+k))))))}}}};a.insert=function(a){return function(h){return function(r){return function(k){var l=b.map(b.functorArray)(e.snd)(d.sortBy(function(a){return function(c){return b.compare(b.ordString)(e.fst(a))(e.fst(c))}})(m.toArray(h))),
q=d.sort(b.ordString)(g.keys(h));return f.Query("INSERT "+(function(){if(r)return" or replace ";if(!r)return"";throw Error("Failed pattern match at SQL line 61, column 28 - line 61, column 63: "+[r.constructor.name]);}()+("INTO "+(a.name+(t(c.joinWith(", ")(q))+(" VALUES"+(t(c.joinWith(", ")(b.map(b.functorArray)(function(a){return"'"+(a+"'")})(l)))+(";"+k))))))))}}}}})(PS.SQL=PS.SQL||{});
(function(a){var b=PS.Prelude,c=PS.SQL,f=PS["Data.Foreign.Class"],d=PS["Data.Generic"],e=PS["Data.Maybe"],g=PS["Data.Tuple"],m=PS["App.Model.StrMap"],h=PS["Data.Either"],l=PS["Data.Foreign.Index"],k=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),c={name:"PHOTOBOOTHS",columns:m.fromArray([g.Tuple.create("id")(new c.ColumnDef(c.Integer.value,[c.PrimaryKey.value])),g.Tuple.create("computername")(new c.ColumnDef(c.Char.value,[c.Unique.value])),g.Tuple.create("alias")(new c.ColumnDef(c.Char.value,
[])),g.Tuple.create("defaultprofile")(new c.ColumnDef(c.Char.value,[])),g.Tuple.create("updatedon")(new c.ColumnDef(c.Date.value,[]))])},g=new f.IsForeign(function(a){return b.bind(h.bindEither)(b["<$>"](h.functorEither)(e.Just.create)(f.readProp(f.intIsForeign)(l.indexString)("id")(a)))(function(c){return b.bind(h.bindEither)(f.readProp(f.stringIsForeign)(l.indexString)("computername")(a))(function(d){return b.bind(h.bindEither)(f.readProp(f.stringIsForeign)(l.indexString)("alias")(a))(function(e){return b.bind(h.bindEither)(f.readProp(f.stringIsForeign)(l.indexString)("defaultprofile")(a))(function(a){return b["return"](h.applicativeEither)(new k({id:c,
computername:d,alias:e,defaultprofile:a}))})})})})}),m=new d.Generic(function(a){return a instanceof d.SProd&&"App.Model.Photobooth.Photobooth"===a.value0&&1===a.value1.length?b.apply(e.applyMaybe)(new e.Just(k.create))(function(a){return a instanceof d.SRecord&&4===a.value0.length?b.apply(e.applyMaybe)(b.apply(e.applyMaybe)(b.apply(e.applyMaybe)(b.apply(e.applyMaybe)(new e.Just(function(a){return function(b){return function(c){return function(d){return{alias:a,computername:b,defaultprofile:c,id:d}}}}}))(d.fromSpine(d.genericString)(a.value0[0].recValue(b.unit))))(d.fromSpine(d.genericString)(a.value0[1].recValue(b.unit))))(d.fromSpine(d.genericString)(a.value0[2].recValue(b.unit))))(d.fromSpine(d.genericMaybe(d.genericInt))(a.value0[3].recValue(b.unit))):
e.Nothing.value}(a.value1[0](b.unit))):e.Nothing.value},function(a){return new d.SigProd("App.Model.Photobooth.Photobooth",[{sigConstructor:"App.Model.Photobooth.Photobooth",sigValues:[function(a){return new d.SigRecord([{recLabel:"alias",recValue:function(a){return d.toSignature(d.genericString)(d.anyProxy)}},{recLabel:"computername",recValue:function(a){return d.toSignature(d.genericString)(d.anyProxy)}},{recLabel:"defaultprofile",recValue:function(a){return d.toSignature(d.genericString)(d.anyProxy)}},
{recLabel:"id",recValue:function(a){return d.toSignature(d.genericMaybe(d.genericInt))(d.anyProxy)}}])}]}])},function(a){return new d.SProd("App.Model.Photobooth.Photobooth",[function(b){return new d.SRecord([{recLabel:"alias",recValue:function(b){return d.toSpine(d.genericString)(a.value0.alias)}},{recLabel:"computername",recValue:function(b){return d.toSpine(d.genericString)(a.value0.computername)}},{recLabel:"defaultprofile",recValue:function(b){return d.toSpine(d.genericString)(a.value0.defaultprofile)}},
{recLabel:"id",recValue:function(b){return d.toSpine(d.genericMaybe(d.genericInt))(a.value0.id)}}])}])});a.Photobooth=k;a.photoboothsTable=c;a.genericPhotobooth=m;a.photoboothIsForeign=g})(PS["App.Model.Photobooth"]=PS["App.Model.Photobooth"]||{});
(function(a){var b=PS.Prelude,c=PS.SQL,f=PS["Data.Foreign.Class"],d=PS["Data.Generic"],e=PS["Data.Tuple"],g=PS["App.Model.StrMap"],m=PS["Data.Maybe"],h=PS["Data.Either"],l=PS["Data.Foreign.Index"],k=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),c={name:"FILES",columns:g.fromArray([e.Tuple.create("id")(new c.ColumnDef(c.Integer.value,[c.PrimaryKey.value])),e.Tuple.create("name")(new c.ColumnDef(c.Char.value,[])),e.Tuple.create("eventid")(new c.ColumnDef(c.Integer.value,
[])),e.Tuple.create("file")(new c.ColumnDef(c.Blob.value,[])),e.Tuple.create("updatedon")(new c.ColumnDef(c.Date.value,[]))])},e=new f.IsForeign(function(a){return b.bind(h.bindEither)(f.readProp(f.intIsForeign)(l.indexString)("id")(a))(function(c){return b.bind(h.bindEither)(f.readProp(f.stringIsForeign)(l.indexString)("name")(a))(function(d){return b.bind(h.bindEither)(f.readProp(f.intIsForeign)(l.indexString)("eventid")(a))(function(a){return b["return"](h.applicativeEither)(new k({id:c,name:d,
eventId:a}))})})})}),g=new d.Generic(function(a){return a instanceof d.SProd&&"App.Model.SavedFile.SavedFile"===a.value0&&1===a.value1.length?b.apply(m.applyMaybe)(new m.Just(k.create))(function(a){return a instanceof d.SRecord&&3===a.value0.length?b.apply(m.applyMaybe)(b.apply(m.applyMaybe)(b.apply(m.applyMaybe)(new m.Just(function(a){return function(b){return function(c){return{eventId:a,id:b,name:c}}}}))(d.fromSpine(d.genericInt)(a.value0[0].recValue(b.unit))))(d.fromSpine(d.genericInt)(a.value0[1].recValue(b.unit))))(d.fromSpine(d.genericString)(a.value0[2].recValue(b.unit))):
m.Nothing.value}(a.value1[0](b.unit))):m.Nothing.value},function(a){return new d.SigProd("App.Model.SavedFile.SavedFile",[{sigConstructor:"App.Model.SavedFile.SavedFile",sigValues:[function(a){return new d.SigRecord([{recLabel:"eventId",recValue:function(a){return d.toSignature(d.genericInt)(d.anyProxy)}},{recLabel:"id",recValue:function(a){return d.toSignature(d.genericInt)(d.anyProxy)}},{recLabel:"name",recValue:function(a){return d.toSignature(d.genericString)(d.anyProxy)}}])}]}])},function(a){return new d.SProd("App.Model.SavedFile.SavedFile",
[function(b){return new d.SRecord([{recLabel:"eventId",recValue:function(b){return d.toSpine(d.genericInt)(a.value0.eventId)}},{recLabel:"id",recValue:function(b){return d.toSpine(d.genericInt)(a.value0.id)}},{recLabel:"name",recValue:function(b){return d.toSpine(d.genericString)(a.value0.name)}}])}])});a.SavedFile=k;a.savedFileTable=c;a.genericSavedFile=g;a.savedFileIsForeign=e})(PS["App.Model.SavedFile"]=PS["App.Model.SavedFile"]||{});
(function(a){var b=PS.Prelude,c=PS.SQL,f=PS["Data.Foreign"],d=PS["Data.Foreign.Class"],e=PS["Data.Generic"],g=PS["Data.Tuple"],m=PS["Data.Date"],h=PS["Data.Maybe"],l=PS["Data.Either"],k=PS["App.Model.StrMap"],q=PS["App.Model.SavedFile"],u=PS["Data.Foreign.Index"],w=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),p=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),n=new d.IsForeign(function(a){return b.bind(l.bindEither)(b["<$>"](l.functorEither)(h.Just.create)(d.readProp(d.intIsForeign)(u.indexString)("id")(a)))(function(c){return b.bind(l.bindEither)(d.readProp(d.stringIsForeign)(u.indexString)("computername")(a))(function(e){return b.bind(l.bindEither)(d.readProp(d.stringIsForeign)(u.indexString)("name")(a))(function(g){return b.bind(l.bindEither)(d.readProp(d.stringIsForeign)(u.indexString)("datefrom")(a))(function(k){return b.bind(l.bindEither)(h.maybe(l.Left.create(new f.TypeMismatch("ISO 8601 Date",
k)))(l.Right.create)(m.fromStringStrict(k)))(function(k){return b.bind(l.bindEither)(d.readProp(d.stringIsForeign)(u.indexString)("dateuntil")(a))(function(v){return b.bind(l.bindEither)(h.maybe(l.Left.create(new f.TypeMismatch("ISO 8601 Date",v)))(l.Right.create)(m.fromStringStrict(v)))(function(f){return b.bind(l.bindEither)(d.readProp(d.stringIsForeign)(u.indexString)("profile")(a))(function(a){return b["return"](l.applicativeEither)(new w({id:c,computername:e,name:g,datefrom:k,dateuntil:f,profile:a}))})})})})})})})})}),
t=new e.Generic(function(a){return a instanceof e.SProd&&"App.Model.Event.PartialEvent"===a.value0&&1===a.value1.length?b.apply(h.applyMaybe)(new h.Just(w.create))(function(a){return a instanceof e.SRecord&&6===a.value0.length?b.apply(h.applyMaybe)(b.apply(h.applyMaybe)(b.apply(h.applyMaybe)(b.apply(h.applyMaybe)(b.apply(h.applyMaybe)(b.apply(h.applyMaybe)(new h.Just(function(a){return function(b){return function(c){return function(d){return function(e){return function(f){return{computername:a,datefrom:b,
dateuntil:c,id:d,name:e,profile:f}}}}}}}))(e.fromSpine(e.genericString)(a.value0[0].recValue(b.unit))))(e.fromSpine(m.genericDate)(a.value0[1].recValue(b.unit))))(e.fromSpine(m.genericDate)(a.value0[2].recValue(b.unit))))(e.fromSpine(e.genericMaybe(e.genericInt))(a.value0[3].recValue(b.unit))))(e.fromSpine(e.genericString)(a.value0[4].recValue(b.unit))))(e.fromSpine(e.genericString)(a.value0[5].recValue(b.unit))):h.Nothing.value}(a.value1[0](b.unit))):h.Nothing.value},function(a){return new e.SigProd("App.Model.Event.PartialEvent",
[{sigConstructor:"App.Model.Event.PartialEvent",sigValues:[function(a){return new e.SigRecord([{recLabel:"computername",recValue:function(a){return e.toSignature(e.genericString)(e.anyProxy)}},{recLabel:"datefrom",recValue:function(a){return e.toSignature(m.genericDate)(e.anyProxy)}},{recLabel:"dateuntil",recValue:function(a){return e.toSignature(m.genericDate)(e.anyProxy)}},{recLabel:"id",recValue:function(a){return e.toSignature(e.genericMaybe(e.genericInt))(e.anyProxy)}},{recLabel:"name",recValue:function(a){return e.toSignature(e.genericString)(e.anyProxy)}},
{recLabel:"profile",recValue:function(a){return e.toSignature(e.genericString)(e.anyProxy)}}])}]}])},function(a){return new e.SProd("App.Model.Event.PartialEvent",[function(b){return new e.SRecord([{recLabel:"computername",recValue:function(b){return e.toSpine(e.genericString)(a.value0.computername)}},{recLabel:"datefrom",recValue:function(b){return e.toSpine(m.genericDate)(a.value0.datefrom)}},{recLabel:"dateuntil",recValue:function(b){return e.toSpine(m.genericDate)(a.value0.dateuntil)}},{recLabel:"id",
recValue:function(b){return e.toSpine(e.genericMaybe(e.genericInt))(a.value0.id)}},{recLabel:"name",recValue:function(b){return e.toSpine(e.genericString)(a.value0.name)}},{recLabel:"profile",recValue:function(b){return e.toSpine(e.genericString)(a.value0.profile)}}])}])}),x=new e.Generic(function(a){return a instanceof e.SProd&&"App.Model.Event.Event"===a.value0&&1===a.value1.length?b.apply(h.applyMaybe)(new h.Just(p.create))(function(a){return a instanceof e.SRecord&&7===a.value0.length?b.apply(h.applyMaybe)(b.apply(h.applyMaybe)(b.apply(h.applyMaybe)(b.apply(h.applyMaybe)(b.apply(h.applyMaybe)(b.apply(h.applyMaybe)(b.apply(h.applyMaybe)(new h.Just(function(a){return function(b){return function(c){return function(d){return function(e){return function(f){return function(g){return{computername:a,
datefrom:b,dateuntil:c,files:d,id:e,name:f,profile:g}}}}}}}}))(e.fromSpine(e.genericString)(a.value0[0].recValue(b.unit))))(e.fromSpine(m.genericDate)(a.value0[1].recValue(b.unit))))(e.fromSpine(m.genericDate)(a.value0[2].recValue(b.unit))))(e.fromSpine(e.genericArray(q.genericSavedFile))(a.value0[3].recValue(b.unit))))(e.fromSpine(e.genericMaybe(e.genericInt))(a.value0[4].recValue(b.unit))))(e.fromSpine(e.genericString)(a.value0[5].recValue(b.unit))))(e.fromSpine(e.genericString)(a.value0[6].recValue(b.unit))):
h.Nothing.value}(a.value1[0](b.unit))):h.Nothing.value},function(a){return new e.SigProd("App.Model.Event.Event",[{sigConstructor:"App.Model.Event.Event",sigValues:[function(a){return new e.SigRecord([{recLabel:"computername",recValue:function(a){return e.toSignature(e.genericString)(e.anyProxy)}},{recLabel:"datefrom",recValue:function(a){return e.toSignature(m.genericDate)(e.anyProxy)}},{recLabel:"dateuntil",recValue:function(a){return e.toSignature(m.genericDate)(e.anyProxy)}},{recLabel:"files",
recValue:function(a){return e.toSignature(e.genericArray(q.genericSavedFile))(e.anyProxy)}},{recLabel:"id",recValue:function(a){return e.toSignature(e.genericMaybe(e.genericInt))(e.anyProxy)}},{recLabel:"name",recValue:function(a){return e.toSignature(e.genericString)(e.anyProxy)}},{recLabel:"profile",recValue:function(a){return e.toSignature(e.genericString)(e.anyProxy)}}])}]}])},function(a){return new e.SProd("App.Model.Event.Event",[function(b){return new e.SRecord([{recLabel:"computername",recValue:function(b){return e.toSpine(e.genericString)(a.value0.computername)}},
{recLabel:"datefrom",recValue:function(b){return e.toSpine(m.genericDate)(a.value0.datefrom)}},{recLabel:"dateuntil",recValue:function(b){return e.toSpine(m.genericDate)(a.value0.dateuntil)}},{recLabel:"files",recValue:function(b){return e.toSpine(e.genericArray(q.genericSavedFile))(a.value0.files)}},{recLabel:"id",recValue:function(b){return e.toSpine(e.genericMaybe(e.genericInt))(a.value0.id)}},{recLabel:"name",recValue:function(b){return e.toSpine(e.genericString)(a.value0.name)}},{recLabel:"profile",
recValue:function(b){return e.toSpine(e.genericString)(a.value0.profile)}}])}])}),c={name:"EVENTS",columns:k.fromArray([g.Tuple.create("id")(new c.ColumnDef(c.Integer.value,[c.PrimaryKey.value])),g.Tuple.create("computername")(new c.ColumnDef(c.Char.value,[])),g.Tuple.create("name")(new c.ColumnDef(c.Char.value,[])),g.Tuple.create("datefrom")(new c.ColumnDef(c.Date.value,[])),g.Tuple.create("dateuntil")(new c.ColumnDef(c.Date.value,[])),g.Tuple.create("profile")(new c.ColumnDef(c.Char.value,[])),
g.Tuple.create("updatedon")(new c.ColumnDef(c.Date.value,[]))])};a.PartialEvent=w;a.Event=p;a.eventsTable=c;a.mkEvent=function(a){return function(b){return new p({id:a.value0.id,computername:a.value0.computername,name:a.value0.name,datefrom:a.value0.datefrom,dateuntil:a.value0.dateuntil,profile:a.value0.profile,files:b})}};a.genericEvent=x;a.genericPartialEvent=t;a.partialEventIsForeign=n})(PS["App.Model.Event"]=PS["App.Model.Event"]||{});
(function(a){var b=PS.Prelude,c=PS.SQL,f=PS["Data.Foreign.Class"],d=PS["Data.Generic"],e=PS["Data.Tuple"],g=PS["Data.Maybe"],m=PS["App.Model.StrMap"],h=PS["Data.Either"],l=PS["Data.Foreign.Index"],k=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),q=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),u=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),w={name:"MONTHLYSTATISTICS",columns:m.fromArray([e.Tuple.create("computername")(new c.ColumnDef(c.Integer.value,
[])),e.Tuple.create("month")(new c.ColumnDef(c.Integer.value,[])),e.Tuple.create("pictures")(new c.ColumnDef(c.Integer.value,[])),e.Tuple.create("prints")(new c.ColumnDef(c.Integer.value,[])),e.Tuple.create("updatedon")(new c.ColumnDef(c.Date.value,[]))])},p=new f.IsForeign(function(a){return b.bind(h.bindEither)(f.readProp(f.stringIsForeign)(l.indexString)("computername")(a))(function(c){return b.bind(h.bindEither)(f.readProp(f.intIsForeign)(l.indexString)("month")(a))(function(d){return b.bind(h.bindEither)(f.readProp(f.intIsForeign)(l.indexString)("pictures")(a))(function(e){return b.bind(h.bindEither)(f.readProp(f.intIsForeign)(l.indexString)("prints")(a))(function(a){return b["return"](h.applicativeEither)(new k({computername:c,
month:d,pictures:e,prints:a}))})})})})}),n=new d.Generic(function(a){return a instanceof d.SProd&&"App.Model.Statistic.MonthlyStatistic"===a.value0&&1===a.value1.length?b.apply(g.applyMaybe)(new g.Just(k.create))(function(a){return a instanceof d.SRecord&&4===a.value0.length?b.apply(g.applyMaybe)(b.apply(g.applyMaybe)(b.apply(g.applyMaybe)(b.apply(g.applyMaybe)(new g.Just(function(a){return function(b){return function(c){return function(d){return{computername:a,month:b,pictures:c,prints:d}}}}}))(d.fromSpine(d.genericString)(a.value0[0].recValue(b.unit))))(d.fromSpine(d.genericInt)(a.value0[1].recValue(b.unit))))(d.fromSpine(d.genericInt)(a.value0[2].recValue(b.unit))))(d.fromSpine(d.genericInt)(a.value0[3].recValue(b.unit))):
g.Nothing.value}(a.value1[0](b.unit))):g.Nothing.value},function(a){return new d.SigProd("App.Model.Statistic.MonthlyStatistic",[{sigConstructor:"App.Model.Statistic.MonthlyStatistic",sigValues:[function(a){return new d.SigRecord([{recLabel:"computername",recValue:function(a){return d.toSignature(d.genericString)(d.anyProxy)}},{recLabel:"month",recValue:function(a){return d.toSignature(d.genericInt)(d.anyProxy)}},{recLabel:"pictures",recValue:function(a){return d.toSignature(d.genericInt)(d.anyProxy)}},
{recLabel:"prints",recValue:function(a){return d.toSignature(d.genericInt)(d.anyProxy)}}])}]}])},function(a){return new d.SProd("App.Model.Statistic.MonthlyStatistic",[function(b){return new d.SRecord([{recLabel:"computername",recValue:function(b){return d.toSpine(d.genericString)(a.value0.computername)}},{recLabel:"month",recValue:function(b){return d.toSpine(d.genericInt)(a.value0.month)}},{recLabel:"pictures",recValue:function(b){return d.toSpine(d.genericInt)(a.value0.pictures)}},{recLabel:"prints",
recValue:function(b){return d.toSpine(d.genericInt)(a.value0.prints)}}])}])}),t=new d.Generic(function(a){return a instanceof d.SProd&&"App.Model.Statistic.EventStatistic"===a.value0&&1===a.value1.length?b.apply(g.applyMaybe)(new g.Just(q.create))(function(a){return a instanceof d.SRecord&&4===a.value0.length?b.apply(g.applyMaybe)(b.apply(g.applyMaybe)(b.apply(g.applyMaybe)(b.apply(g.applyMaybe)(new g.Just(function(a){return function(b){return function(c){return function(d){return{computername:a,
eventId:b,pictures:c,prints:d}}}}}))(d.fromSpine(d.genericString)(a.value0[0].recValue(b.unit))))(d.fromSpine(d.genericInt)(a.value0[1].recValue(b.unit))))(d.fromSpine(d.genericInt)(a.value0[2].recValue(b.unit))))(d.fromSpine(d.genericInt)(a.value0[3].recValue(b.unit))):g.Nothing.value}(a.value1[0](b.unit))):g.Nothing.value},function(a){return new d.SigProd("App.Model.Statistic.EventStatistic",[{sigConstructor:"App.Model.Statistic.EventStatistic",sigValues:[function(a){return new d.SigRecord([{recLabel:"computername",
recValue:function(a){return d.toSignature(d.genericString)(d.anyProxy)}},{recLabel:"eventId",recValue:function(a){return d.toSignature(d.genericInt)(d.anyProxy)}},{recLabel:"pictures",recValue:function(a){return d.toSignature(d.genericInt)(d.anyProxy)}},{recLabel:"prints",recValue:function(a){return d.toSignature(d.genericInt)(d.anyProxy)}}])}]}])},function(a){return new d.SProd("App.Model.Statistic.EventStatistic",[function(b){return new d.SRecord([{recLabel:"computername",recValue:function(b){return d.toSpine(d.genericString)(a.value0.computername)}},
{recLabel:"eventId",recValue:function(b){return d.toSpine(d.genericInt)(a.value0.eventId)}},{recLabel:"pictures",recValue:function(b){return d.toSpine(d.genericInt)(a.value0.pictures)}},{recLabel:"prints",recValue:function(b){return d.toSpine(d.genericInt)(a.value0.prints)}}])}])}),x=new d.Generic(function(a){return a instanceof d.SProd&&"App.Model.Statistic.AllStatistics"===a.value0&&1===a.value1.length?b.apply(g.applyMaybe)(new g.Just(u.create))(function(a){return a instanceof d.SRecord&&2===a.value0.length?
b.apply(g.applyMaybe)(b.apply(g.applyMaybe)(new g.Just(function(a){return function(b){return{eventStatistics:a,monthlyStatistics:b}}}))(d.fromSpine(d.genericArray(t))(a.value0[0].recValue(b.unit))))(d.fromSpine(d.genericArray(n))(a.value0[1].recValue(b.unit))):g.Nothing.value}(a.value1[0](b.unit))):g.Nothing.value},function(a){return new d.SigProd("App.Model.Statistic.AllStatistics",[{sigConstructor:"App.Model.Statistic.AllStatistics",sigValues:[function(a){return new d.SigRecord([{recLabel:"eventStatistics",
recValue:function(a){return d.toSignature(d.genericArray(t))(d.anyProxy)}},{recLabel:"monthlyStatistics",recValue:function(a){return d.toSignature(d.genericArray(n))(d.anyProxy)}}])}]}])},function(a){return new d.SProd("App.Model.Statistic.AllStatistics",[function(b){return new d.SRecord([{recLabel:"eventStatistics",recValue:function(b){return d.toSpine(d.genericArray(t))(a.value0.eventStatistics)}},{recLabel:"monthlyStatistics",recValue:function(b){return d.toSpine(d.genericArray(n))(a.value0.monthlyStatistics)}}])}])}),
c={name:"EVENTSTATISTICS",columns:m.fromArray([e.Tuple.create("computername")(new c.ColumnDef(c.Char.value,[])),e.Tuple.create("eventid")(new c.ColumnDef(c.Integer.value,[])),e.Tuple.create("pictures")(new c.ColumnDef(c.Integer.value,[])),e.Tuple.create("prints")(new c.ColumnDef(c.Integer.value,[])),e.Tuple.create("updatedon")(new c.ColumnDef(c.Date.value,[]))])},e=new f.IsForeign(function(a){return b.bind(h.bindEither)(f.readProp(f.stringIsForeign)(l.indexString)("computername")(a))(function(c){return b.bind(h.bindEither)(f.readProp(f.intIsForeign)(l.indexString)("eventid")(a))(function(d){return b.bind(h.bindEither)(f.readProp(f.intIsForeign)(l.indexString)("pictures")(a))(function(e){return b.bind(h.bindEither)(f.readProp(f.intIsForeign)(l.indexString)("prints")(a))(function(a){return b["return"](h.applicativeEither)(new q({computername:c,
eventId:d,pictures:e,prints:a}))})})})})});a.AllStatistics=u;a.MonthlyStatistic=k;a.EventStatistic=q;a.monthlyStatisticsTable=w;a.eventStatisticsTable=c;a.genericEventStatistic=t;a.eventStatisticIsForeign=e;a.genericMonthlyStatistic=n;a.monthlyStatisticIsForeign=p;a.genericAllStatistics=x})(PS["App.Model.Statistic"]=PS["App.Model.Statistic"]||{});(function(a){a.iso8601=function(a){return a.toISOString()}})(PS["App.Model.Date"]=PS["App.Model.Date"]||{});
(function(a){a.iso8601=PS["App.Model.Date"].iso8601})(PS["App.Model.Date"]=PS["App.Model.Date"]||{});
(function(a){var b=PS["App.DB"],c=PS.Prelude,f=PS["Control.Monad.Eff.Exception"],d=PS["Control.Monad.Error.Class"],e=PS["Control.Monad.Aff"],g=PS["Control.Apply"],m=PS["Data.Array"],h=PS["Data.String"],l=PS["Data.Tuple"],k=PS["Data.Maybe"],q=PS["Data.Traversable"],u=PS["Data.Foreign"],w=PS["Data.Foreign.Class"],p=PS["Database.AnyDB"],n=PS["Database.AnyDB.SqlValue"],t=PS.SQL,x=PS["App.Model.Photobooth"],A=PS["App.Model.Event"],r=PS["App.Model.SavedFile"],B=PS["App.Model.Statistic"],z=PS["App.Model.Date"],
v=PS["App.Model.StrMap"],y=PS["Data.Either"],E=PS["Data.Foreign.Index"],D=function(a){return a},G=function(a){return t.insert(B.monthlyStatisticsTable)(v.fromArray([l.Tuple.create("month")(c.show(c.showInt)(a.value0.month)),l.Tuple.create("computername")(a.value0.computername),l.Tuple.create("pictures")(c.show(c.showInt)(a.value0.pictures)),l.Tuple.create("prints")(c.show(c.showInt)(a.value0.prints))]))(!0)("")},F=function(a){return t.insert(B.eventStatisticsTable)(v.fromArray([l.Tuple.create("eventId")(c.show(c.showInt)(a.value0.eventId)),
l.Tuple.create("computername")(a.value0.computername),l.Tuple.create("pictures")(c.show(c.showInt)(a.value0.pictures)),l.Tuple.create("prints")(c.show(c.showInt)(a.value0.prints))]))(!0)("")},C=function(a){return function(b){if(0===a.length)return c["return"](e.applicativeAff)([]);var d=h.joinWith(", ")(m.replicate(m.length(a))("?"));return p.query(r.savedFileIsForeign)(t.selectStar(r.savedFileTable)("WHERE eventid in ("+(d+")")))(c.map(c.functorArray)(n.toSql(n.isSqlValueInt))(a))(b)}},I=function(a){return function(b){return p.query(r.savedFileIsForeign)(t.selectStar(r.savedFileTable)("WHERE eventid = ?"))([n.toSql(n.isSqlValueInt)(a)])(b)}},
M=new p.Sqlite3({filename:"klikhutdb",memory:!1}),J=function(a){return t.insert(x.photoboothsTable)(v.fromArray([new l.Tuple("computername",a.value0.computername),new l.Tuple("alias",a.value0.alias),new l.Tuple("defaultprofile",a.value0.defaultprofile)]))(!1)("")},K=function(a){return t.insert(A.eventsTable)(v.fromArray([new l.Tuple("computername",a.value0.computername),new l.Tuple("name",a.value0.name),l.Tuple.create("datefrom")(z.iso8601(a.value0.datefrom)),l.Tuple.create("dateuntil")(z.iso8601(a.value0.dateuntil)),
l.Tuple.create("profile")(a.value0.profile)]))(!1)("")},L=new w.IsForeign(function(a){return c.bind(y.bindEither)(w.readProp(w.foreignIsForeign)(E.indexString)("file")(a))(function(a){return c["return"](y.applicativeEither)(D(u.unsafeFromForeign(a)))})}),H=function(a){return function(b){var d=c["<$>"](c.functorArray)(function(a){return k.fromMaybe(-1)(a.value0.id)})(b);return c.bind(e.bindAff)(function(){var b=-1<m.length(d);if(b)return C(d)(a);if(!b)return c["return"](e.applicativeAff)([]);throw Error("Failed pattern match at App.DB line 142, column 12 - line 143, column 3: "+
[b.constructor.name]);}())(function(a){return c["return"](e.applicativeAff)(c["<$>"](c.functorArray)(function(b){return A.mkEvent(b)(m.filter(function(a){return a.value0.eventId===k.fromMaybe(0)(b.value0.id)})(a))})(b))})}};a.BufferForHttp=D;a.getFileById=function(a){return function(b){return c[">>="](e.bindAff)(p.queryOne(L)("select file from files where id = ?")([n.toSql(n.isSqlValueInt)(b)])(a))(function(a){return k.maybe(d.throwError(e.monadErrorAff)(f.error("No file found")))(function(a){return c["return"](e.applicativeAff)(a)})(a)})}};
a.unpack=function(a){return a};a.addStatistics=function(a){return function(b){return c.bind(e.bindAff)(q.traverse(q.traversableArray)(e.applicativeAff)(function(b){return p.execute_(G(b))(a)})(b.value0.monthlyStatistics))(function(d){return c.bind(e.bindAff)(q.traverse(q.traversableArray)(e.applicativeAff)(function(b){return p.execute_(F(b))(a)})(b.value0.eventStatistics))(function(a){return c["return"](e.applicativeAff)(c.unit)})})}};a.queryNewFiles=function(a){return function(b){var c=p.Query("Select f.* from FILES f Join Events e on e.id = f.eventid where e.computername = ? and f.updatedon > ? ");
return p.query(r.savedFileIsForeign)(c)([n.toSql(n.isSqlValueString)(b.value0),n.toSql(n.isSqlValueDate)(b.value1)])(a)}};a.queryPhotobooth=function(a){return function(b){var c=p.Query("Select * from PHOTOBOOTHS where computername = ?");return p.queryOne(x.photoboothIsForeign)(c)([n.toSql(n.isSqlValueString)(b)])(a)}};a.queryNewEvents=function(a){return function(b){var c=p.Query("Select * from EVENTS where computername = ? and updatedon > ?");return p.query(A.partialEventIsForeign)(c)([n.toSql(n.isSqlValueString)(b.value0),
n.toSql(n.isSqlValueDate)(b.value1)])(a)}};a.safeParseInt=function(a){return b.pInt(k.Nothing.value)(k.Just.create)(a)};a.queryAllStatistics=function(a){return function(b){return c.bind(e.bindAff)(p.query(B.eventStatisticIsForeign)("select * from eventstatistics where computername = ?")([n.toSql(n.isSqlValueString)(b)])(a))(function(d){return c.bind(e.bindAff)(p.query(B.monthlyStatisticIsForeign)("select * from monthlystatistics where computername = ?")([n.toSql(n.isSqlValueString)(b)])(a))(function(a){return c["return"](e.applicativeAff)(new B.AllStatistics({eventStatistics:d,
monthlyStatistics:a}))})})}};a.upsertMonthlyStatistic=G;a.upsertEventStatistic=F;a.selectFilesForEvents=C;a.selectFilesForEvent=I;a.saveFileToDb=function(a){return function(b){return function(g){var h=p.Query("INSERT INTO "+(r.savedFileTable.name+" (name, eventid, File) VALUES (?, ?, ?)"));return c.bind(e.bindAff)(p.execute(h)([n.toSql(n.isSqlValueString)(b.value1),n.toSql(n.isSqlValueInt)(b.value0),n.toSql(n.isSqlValueBuffer)(g)])(a))(function(){return c.bind(e.bindAff)(p.queryOne_(r.savedFileIsForeign)(t.selectLastInserted(r.savedFileTable))(a))(function(a){return k.maybe(d.throwError(e.monadErrorAff)(f.error("Failed to save File")))(c["return"](e.applicativeAff))(a)})})}}};
a.updateEvent=function(a){return function(b){if(b.value0.id instanceof k.Nothing)return d.throwError(e.monadErrorAff)(f.error("updateEvent impossible without id"));if(b.value0.id instanceof k.Just){var g=t.update(A.eventsTable)(b.value0.id.value0)(v.fromArray([new l.Tuple("computername",b.value0.computername),new l.Tuple("name",b.value0.name),l.Tuple.create("datefrom")(z.iso8601(b.value0.datefrom)),l.Tuple.create("dateuntil")(z.iso8601(b.value0.dateuntil)),new l.Tuple("profile",b.value0.profile)]))("");
return c.bind(e.bindAff)(p.execute_(g)(a))(function(){return c.bind(e.bindAff)(p.queryOne_(A.partialEventIsForeign)(t.selectStarId(A.eventsTable)(b.value0.id.value0))(a))(function(b){if(b instanceof k.Nothing)return d.throwError(e.monadErrorAff)(f.error("Failed to update Event"));if(b instanceof k.Just&&b.value0.value0.id instanceof k.Nothing)return c["return"](e.applicativeAff)(A.mkEvent(b.value0)([]));if(b instanceof k.Just&&b.value0.value0.id instanceof k.Just)return c[">>="](e.bindAff)(I(b.value0.value0.id.value0)(a))(function(a){return c["return"](e.applicativeAff)(A.mkEvent(b.value0)(a))});
throw Error("Failed pattern match at App.DB line 225, column 7 - line 230, column 1: "+[b.constructor.name]);})})}throw Error("Failed pattern match at App.DB line 213, column 1 - line 215, column 1: "+[a.constructor.name,b.constructor.name]);}};a.deletePB=function(a){return function(b){return g["*>"](e.applyAff)(g["*>"](e.applyAff)(g["*>"](e.applyAff)(p.execute("DELETE FROM photobooths where computername = ?")([n.toSql(n.isSqlValueString)(b)])(a))(p.execute("DELETE FROM events where computername = ?")([n.toSql(n.isSqlValueString)(b)])(a)))(p.execute("DELETE FROM eventstatistics where computername = ?")([n.toSql(n.isSqlValueString)(b)])(a)))(p.execute("DELETE FROM monthlystatistics where computername = ?")([n.toSql(n.isSqlValueString)(b)])(a))}};
a.updatePB=function(a){return function(b){if(b.value0.id instanceof k.Nothing)return d.throwError(e.monadErrorAff)(f.error("updatePhotobooth impossible without id!"));if(b.value0.id instanceof k.Just){var g=t.update(x.photoboothsTable)(b.value0.id.value0)(v.fromArray([new l.Tuple("alias",b.value0.alias),new l.Tuple("defaultprofile",b.value0.defaultprofile)]))("");return c.bind(e.bindAff)(p.execute_(g)(a))(function(){return c.bind(e.bindAff)(p.queryOne_(x.photoboothIsForeign)(t.selectStarId(x.photoboothsTable)(b.value0.id.value0))(a))(function(a){return k.maybe(d.throwError(e.monadErrorAff)(f.error("Failed to update Photobooth")))(c["return"](e.applicativeAff))(a)})})}throw Error("Failed pattern match at App.DB line 197, column 1 - line 199, column 1: "+
[a.constructor.name,b.constructor.name]);}};a.insertEvent=K;a.newEvent=function(a){return function(b){return c.bind(e.bindAff)(p.execute_(K(b))(a))(function(){return c.bind(e.bindAff)(p.queryOne_(A.partialEventIsForeign)(t.selectLastInserted(A.eventsTable))(a))(function(b){if(b instanceof k.Nothing)return d.throwError(e.monadErrorAff)(f.error("Failed to create Event"));if(b instanceof k.Just&&b.value0.value0.id instanceof k.Nothing)return c["return"](e.applicativeAff)(A.mkEvent(b.value0)([]));if(b instanceof
k.Just&&b.value0.value0.id instanceof k.Just)return c[">>="](e.bindAff)(I(b.value0.value0.id.value0)(a))(function(a){return c["return"](e.applicativeAff)(A.mkEvent(b.value0)(a))});throw Error("Failed pattern match at App.DB line 172, column 5 - line 177, column 1: "+[b.constructor.name]);})})}};a.insertPB=J;a.newPB=function(a){return function(b){return c.bind(e.bindAff)(p.execute_(J(b))(a))(function(){return c.bind(e.bindAff)(p.queryOne_(x.photoboothIsForeign)(t.selectLastInserted(x.photoboothsTable))(a))(function(a){return k.maybe(d.throwError(e.monadErrorAff)(f.error("Failed to create Photobooth")))(c["return"](e.applicativeAff))(a)})})}};
a.addFilesToEvents=H;a.queryEventsByIds=function(a){return function(b){b="Select * from EVENTS WHERE id in ("+(h.joinWith(",")(c["<$>"](c.functorArray)(c.show(c.showInt))(b))+")");return c[">>="](e.bindAff)(p.query_(A.partialEventIsForeign)(b)(a))(H(a))}};a.queryEventsPaged=function(a){return function(b){return function(d){d=[n.toSql(n.isSqlValueString)(d),n.toSql(n.isSqlValueInt)(20),n.toSql(n.isSqlValueInt)(20*b|0)];return c[">>="](e.bindAff)(p.query(A.partialEventIsForeign)("Select * from EVENTS WHERE computername = ? order by id desc limit ? offset ?")(d)(a))(H(a))}}};
a.queryEvents=function(a){return function(b){return c[">>="](e.bindAff)(p.query(A.partialEventIsForeign)("Select * from EVENTS WHERE computername = ?")([n.toSql(n.isSqlValueString)(b)])(a))(H(a))}};a.allPhotobooths=function(a){return p.query_(x.photoboothIsForeign)(t.selectStar(x.photoboothsTable)(""))(a)};a.mainConnectionInfo=M;a.foreignBufferForHttp=L})(PS["App.DB"]=PS["App.DB"]||{});
(function(a){var b=function(){function a(){}a.value=new a;return a}(),c=function(){function a(){}a.value=new a;return a}(),f=function(){function a(){}a.value=new a;return a}(),d=function(){function a(){}a.value=new a;return a}();a.DELETE=b;a.GET=c;a.POST=f;a.PUT=d})(PS["Network.HTTP.Method"]=PS["Network.HTTP.Method"]||{});(function(a){a["null"]=null;a.notNull=function(a){return a}})(PS["Data.Nullable"]=PS["Data.Nullable"]||{});
(function(a){var b=PS["Data.Nullable"],b=PS["Data.Maybe"].maybe(b["null"])(b.notNull);a.toNullable=b})(PS["Data.Nullable"]=PS["Data.Nullable"]||{});(function(a){var b=PS.Prelude;a[">=>"]=function(a){return function(f){return function(d){return function(e){return b[">>="](a)(f(e))(d)}}}}})(PS["Control.Bind"]=PS["Control.Bind"]||{});(function(a){a.unsafeInterleaveEff=function(a){return a}})(PS["Control.Monad.Eff.Unsafe"]=PS["Control.Monad.Eff.Unsafe"]||{});
(function(a){var b=PS["Control.Monad.Eff.Unsafe"],c=PS["Control.Monad.Eff"];a.unsafePerformEff=function(a){return c.runPure(b.unsafeInterleaveEff(a))};a.unsafeInterleaveEff=b.unsafeInterleaveEff})(PS["Control.Monad.Eff.Unsafe"]=PS["Control.Monad.Eff.Unsafe"]||{});
(function(a){var b=PS["Control.Monad.Eff.Unsafe"],c=PS["Control.Monad.Eff.Exception"],f=function(a){return b.unsafePerformEff(c.throwException(a))};a.unsafeThrow=function(a){return f(c.error(a))};a.unsafeThrowException=f})(PS["Control.Monad.Eff.Exception.Unsafe"]=PS["Control.Monad.Eff.Exception.Unsafe"]||{});(function(a){a.unsafeStringify=function(a){return JSON.stringify(a)}})(PS["Global.Unsafe"]=PS["Global.Unsafe"]||{});
(function(a){a.unsafeStringify=PS["Global.Unsafe"].unsafeStringify})(PS["Global.Unsafe"]=PS["Global.Unsafe"]||{});
(function(a){var b=PS.Prelude,c=PS["Data.Maybe"],f=PS["Data.Array"],d=PS["Data.Tuple"],e=PS["Data.Either"],g=PS["Data.Foreign"],m=PS["Data.Foreign.Index"],h=PS["Data.Function"],l=PS["Data.Nullable"],k=PS["Data.Generic"],q=PS["Data.Foldable"],u=PS["Data.Traversable"],w=PS["Data.List"],p=PS["Data.StrMap"],n=PS["Control.Bind"],t=PS["Control.Monad.Eff.Exception.Unsafe"],x=PS["Global.Unsafe"],A=PS["Type.Proxy"],r=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),
B=function(a){return function(e){var m=function(a){return function(n){if(n instanceof k.SNumber||n instanceof k.SInt||n instanceof k.SChar||n instanceof k.SString||n instanceof k.SBoolean)return g.toForeign(n.value0);if(a instanceof k.SigArray&&n instanceof k.SArray)return g.toForeign(b.map(b.functorArray)(function(c){return m(a.value0(b.unit))(c(b.unit))})(n.value0));if(a instanceof k.SigRecord&&n instanceof k.SRecord){var r=f.zipWith(function(a){return function(c){if(a.recLabel===c.recLabel)return new d.Tuple(a.recLabel,
m(a.recValue(b.unit))(c.recValue(b.unit)));if(b.otherwise)return t.unsafeThrow("Record fields do not match signature");throw Error("Failed pattern match at Data.Foreign.Generic line 117, column 5 - line 118, column 5: "+[a.constructor.name,c.constructor.name]);}})(f.sortBy(h.on(b.compare(b.ordString))(function(a){return a.recLabel}))(a.value0))(f.sortBy(h.on(b.compare(b.ordString))(function(a){return a.recLabel}))(n.value0));return g.toForeign(p.fromList(w.toList(q.foldableArray)(r)))}if(a instanceof
k.SigProd&&"Data.Maybe.Maybe"===a.value0&&n instanceof k.SProd&&"Data.Maybe.Nothing"===n.value0&&0===n.value1.length&&e.maybeAsNull)return g.toForeign(l.toNullable(c.Nothing.value));if(a instanceof k.SigProd&&"Data.Maybe.Maybe"===a.value0&&2===a.value1.length&&1===a.value1[0].sigValues.length&&n instanceof k.SProd&&"Data.Maybe.Just"===n.value0&&1===n.value1.length&&e.maybeAsNull||a instanceof k.SigProd&&1===a.value1.length&&1===a.value1[0].sigValues.length&&n instanceof k.SProd&&1===n.value1.length&&
e.unwrapNewtypes)return m(a.value1[0].sigValues[0](b.unit))(n.value1[0](b.unit));if(a instanceof k.SigProd&&n instanceof k.SProd){r=q.find(q.foldableArray)(function(a){return a.sigConstructor===n.value0})(a.value1);if(r instanceof c.Nothing)return t.unsafeThrow("No signature for data constructor "+n.value0);if(r instanceof c.Just)return r=f.zipWith(function(a){return function(c){return m(a(b.unit))(c(b.unit))}})(r.value0.sigValues)(n.value1),0===r.length?g.toForeign(p.fromList(w.singleton(new d.Tuple(e.sumEncoding.value0.tagFieldName,
g.toForeign(n.value0))))):1===r.length&&e.unwrapSingleArgumentConstructors?g.toForeign(p.fromList(w.toList(q.foldableArray)([new d.Tuple(e.sumEncoding.value0.tagFieldName,g.toForeign(n.value0)),new d.Tuple(e.sumEncoding.value0.contentsFieldName,r[0])]))):g.toForeign(p.fromList(w.toList(q.foldableArray)([new d.Tuple(e.sumEncoding.value0.tagFieldName,g.toForeign(n.value0)),new d.Tuple(e.sumEncoding.value0.contentsFieldName,g.toForeign(r))])));throw Error("Failed pattern match at Data.Foreign.Generic line 129, column 9 - line 141, column 3: "+
[r.constructor.name]);}return t.unsafeThrow("Invalid spine for signature")}};return function(b){return m(k.toSignature(a)(A.Proxy.value))(k.toSpine(a)(b))}}},z=function(a){return function(d){var h=function(a){return function(l){if(a instanceof k.SigNumber)return b.map(e.functorEither)(k.SNumber.create)(g.readNumber(l));if(a instanceof k.SigInt)return b.map(e.functorEither)(k.SInt.create)(g.readInt(l));if(a instanceof k.SigChar)return b.map(e.functorEither)(k.SChar.create)(g.readChar(l));if(a instanceof
k.SigString)return b.map(e.functorEither)(k.SString.create)(g.readString(l));if(a instanceof k.SigBoolean)return b.map(e.functorEither)(k.SBoolean.create)(g.readBoolean(l));if(a instanceof k.SigArray)return b.bind(e.bindEither)(g.readArray(l))(function(c){return b.bind(e.bindEither)(u["for"](e.applicativeEither)(u.traversableArray)(c)(function(c){return b.bind(e.bindEither)(h(a.value0(b.unit))(c))(function(a){return b["return"](e.applicativeEither)(b["const"](a))})}))(function(a){return b["return"](e.applicativeEither)(new k.SArray(a))})});
if(a instanceof k.SigRecord)return b.bind(e.bindEither)(u["for"](e.applicativeEither)(u.traversableArray)(a.value0)(function(a){return b.bind(e.bindEither)(m["!"](m.indexString)(l)(a.recLabel))(function(c){return b.bind(e.bindEither)(h(a.recValue(b.unit))(c))(function(c){return b["return"](e.applicativeEither)({recLabel:a.recLabel,recValue:b["const"](c)})})})}))(function(a){return b["return"](e.applicativeEither)(new k.SRecord(a))});if(a instanceof k.SigProd&&1===a.value1.length&&1===a.value1[0].sigValues.length&&
d.unwrapNewtypes)return b.bind(e.bindEither)(h(a.value1[0].sigValues[0](b.unit))(l))(function(c){return b["return"](e.applicativeEither)(new k.SProd(a.value1[0].sigConstructor,[function(a){return c}]))});if(a instanceof k.SigProd&&"Data.Maybe.Maybe"===a.value0&&2===a.value1.length&&1===a.value1[0].sigValues.length&&d.maybeAsNull){var n=g.isNull(l)||g.isUndefined(l);if(n)return b["return"](e.applicativeEither)(new k.SProd("Data.Maybe.Nothing",[]));if(!n)return b.bind(e.bindEither)(h(a.value1[0].sigValues[0](b.unit))(l))(function(a){return b["return"](e.applicativeEither)(new k.SProd("Data.Maybe.Just",
[function(b){return a}]))});throw Error("Failed pattern match at Data.Foreign.Generic line 84, column 5 - line 88, column 3: "+[n.constructor.name]);}if(a instanceof k.SigProd)return b.bind(e.bindEither)(b[">>="](e.bindEither)(m.prop(d.sumEncoding.value0.tagFieldName)(l))(g.readString))(function(n){var r=q.find(q.foldableArray)(function(a){return a.sigConstructor===n})(a.value1);if(r instanceof c.Nothing)return new e.Left(new g.TypeMismatch("one of "+b.show(b.showArray(b.showString))(b.map(b.functorArray)(function(a){return a.sigConstructor})(a.value1)),
n));if(r instanceof c.Just&&0===r.value0.sigValues.length)return b["return"](e.applicativeEither)(new k.SProd(n,[]));if(r instanceof c.Just&&1===r.value0.sigValues.length&&d.unwrapSingleArgumentConstructors)return b.bind(e.bindEither)(m.prop(d.sumEncoding.value0.contentsFieldName)(l))(function(a){return b.bind(e.bindEither)(h(r.value0.sigValues[0](b.unit))(a))(function(a){return b["return"](e.applicativeEither)(new k.SProd(n,[function(b){return a}]))})});if(r instanceof c.Just)return b.bind(e.bindEither)(b[">>="](e.bindEither)(m.prop(d.sumEncoding.value0.contentsFieldName)(l))(g.readArray))(function(a){return b.bind(e.bindEither)(f.zipWithA(e.applicativeEither)(function(a){return h(a(b.unit))})(r.value0.sigValues)(a))(function(a){return b["return"](e.applicativeEither)(new k.SProd(n,
b.map(b.functorArray)(b["const"])(a)))})});throw Error("Failed pattern match at Data.Foreign.Generic line 92, column 9 - line 105, column 1: "+[r.constructor.name]);});throw Error("Failed pattern match at Data.Foreign.Generic line 63, column 3 - line 64, column 3: "+[a.constructor.name,l.constructor.name]);}},l=function(b){b=k.fromSpine(a)(b);if(b instanceof c.Nothing)return t.unsafeThrow("Invalid spine for signature");if(b instanceof c.Just)return b.value0;throw Error("Failed pattern match at Data.Foreign.Generic line 58, column 5 - line 62, column 3: "+
[b.constructor.name]);};return function(c){return b.map(e.functorEither)(l)(h(k.toSignature(a)(A.Proxy.value))(c))}}},v={sumEncoding:new r({tagFieldName:"tag",contentsFieldName:"contents"}),unwrapNewtypes:!1,unwrapSingleArgumentConstructors:!0,maybeAsNull:!0};a.TaggedObject=r;a.toJSONGeneric=function(a){return function(b){return function(c){return x.unsafeStringify(B(a)(b)(c))}}};a.readJSONGeneric=function(a){return function(b){return n[">=>"](e.bindEither)(g.parseJSON)(z(a)(b))}};a.toForeignGeneric=
B;a.readGeneric=z;a.defaultOptions=v})(PS["Data.Foreign.Generic"]=PS["Data.Foreign.Generic"]||{});(function(a){a.parseIntImpl=function(a){return function(c){return function(f){return/^(\-|\+)?([0-9]+)$/.test(f)?a(Number(f)):c}}};a.toString=function(a){return a.toString()};a.tupleRegexImpl=function(a){return function(c){return function(f){var d=/^\((.*)\,(.*)\)$/;return function(e){e=e.match(d);return e[1]&&e[2]?c(a(e[1])(e[2])):f}}}}})(PS["Data.Serializable"]=PS["Data.Serializable"]||{});
(function(a){var b=PS["Data.Serializable"],c=PS.Prelude,f=PS["Control.Monad.Eff.Exception"],d=PS["Data.Maybe"],e=PS["Data.Either"],g=PS["Data.Date"],m=PS["Data.Tuple"],h=PS["Data.String"],l=PS["Data.Traversable"],k=PS["App.Model.Date"],q=function(a,b){this.deserialize=a;this.serialize=b},u=new q(function(a){var b="unit"===a;if(b)return new e.Right(c.unit);if(!b)return e.Left.create(f.error("Unable to deserialize "+(a+" to Unit")));throw Error("Failed pattern match at Data.Serializable line 76, column 19 - line 79, column 1: "+
[b.constructor.name]);},function(a){return"unit"}),w=new q(function(a){return e.Right.create(c.id(c.categoryFn)(a))},c.id(c.categoryFn)),k=new q(function(a){return d.maybe(e.Left.create(f.error("Unable to deserialize "+(a+" to Date"))))(e.Right.create)(g.fromStringStrict(a))},k.iso8601),p=b.parseIntImpl(d.Just.create)(d.Nothing.value),n=new q(function(a){return d.maybe(e.Left.create(f.error("Unable to deserialize "+(a+" to Int"))))(e.Right.create)(p(a))},b.toString);a.Serializable=q;a.deserialize=
function(a){return a.deserialize};a.serialize=function(a){return a.serialize};a.serializableInt=n;a.serializableString=w;a.serializableDate=k;a.serializableTuple=function(a){return function(g){return new q(function(h){return c.bind(e.bindEither)(d.maybe(e.Left.create(f.error("Unable to deserialize "+(h+" to Tuple"))))(e.Right.create)(b.tupleRegexImpl(m.Tuple.create)(d.Just.create)(d.Nothing.value)(h)))(function(b){return c.bind(e.bindEither)((0,a.deserialize)(b.value0))(function(a){return c.bind(e.bindEither)((0,g.deserialize)(b.value1))(function(b){return c["return"](e.applicativeEither)(new m.Tuple(a,
b))})})})},function(b){return"("+((0,a.serialize)(b.value0)+(","+((0,g.serialize)(b.value1)+")")))})}};a.serializableUnit=u;a.serializableArray=function(a){return new q(function(b){return l.traverse(l.traversableArray)(e.applicativeEither)(a.deserialize)(h.split(";")(b))},function(b){return h.joinWith(";")(c["<$>"](c.functorArray)(a.serialize)(b))})}})(PS["Data.Serializable"]=PS["Data.Serializable"]||{});
(function(a){a.unsafeCoerce=function(a){return a}})(PS["Unsafe.Coerce"]=PS["Unsafe.Coerce"]||{});(function(a){a.unsafeCoerce=PS["Unsafe.Coerce"].unsafeCoerce})(PS["Unsafe.Coerce"]=PS["Unsafe.Coerce"]||{});(function(a){var b=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),c=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}();a.FileUploadEndpoint=b;a.Endpoint=c})(PS["Endpoint.Client"]=PS["Endpoint.Client"]||{});
(function(a){var b=PS["Network.HTTP.Method"],c=PS["Endpoint.Client"],f=new c.Endpoint({method:b.PUT.value,url:"/api/photobooths"}),d=new c.Endpoint({method:b.PUT.value,url:"/api/events"}),e=new c.Endpoint({method:b.POST.value,url:"/api/statistics"}),g=new c.Endpoint({method:b.POST.value,url:"/api/photobooths"}),m=new c.Endpoint({method:b.POST.value,url:"/api/events"}),h=new c.Endpoint({method:b.GET.value,url:"/api/statistics/cname"}),l=new c.Endpoint({method:b.GET.value,url:"/api/profiles/all"}),
k=new c.Endpoint({method:b.GET.value,url:"/api/profiles/files"}),q=new c.Endpoint({method:b.GET.value,url:"/api/photobooths/all"}),u=new c.Endpoint({method:b.GET.value,url:"/api/photobooths/cname"}),w=new c.Endpoint({method:b.GET.value,url:"/api/newfiles"}),p=new c.Endpoint({method:b.GET.value,url:"/api/newevents"}),n=new c.Endpoint({method:b.GET.value,url:"/api/events/paged"}),t=new c.Endpoint({method:b.GET.value,url:"/api/events/byids"}),x=new c.Endpoint({method:b.GET.value,url:"/api/events/cname"}),
b=new c.Endpoint({method:b.DELETE.value,url:"/api/photobooths"}),c=new c.FileUploadEndpoint({url:"/api/attachfiletoevent"});a.getProfileFiles=k;a.getProfiles=l;a.postStatistics=e;a.getStatistics=h;a.getNewFiles=w;a.getNewEvents=p;a.attachFile=c;a.getEventsByIds=t;a.getEventsPaged=n;a.putEvents=d;a.postEvents=m;a.getEvents=x;a.deletePhotobooth=b;a.putPhotobooths=f;a.postPhotobooths=g;a.getPhotobooths=q;a.getPhotobooth=u})(PS["App.Endpoint"]=PS["App.Endpoint"]||{});
(function(a){a.log=function(a){return function(){console.log(a);return{}}}})(PS["Control.Monad.Eff.Console"]=PS["Control.Monad.Eff.Console"]||{});(function(a){a.log=PS["Control.Monad.Eff.Console"].log})(PS["Control.Monad.Eff.Console"]=PS["Control.Monad.Eff.Console"]||{});(function(a){var b=require("path");a.normalize=b.normalize;a.concat=function(a){return b.join.apply(this,a)}})(PS["Node.Path"]=PS["Node.Path"]||{});
(function(a){var b=PS["Node.Path"];a.concat=b.concat;a.normalize=b.normalize})(PS["Node.Path"]=PS["Node.Path"]||{});(function(a){a.statsMethod=function(a,c){return c[a]()}})(PS["Node.FS.Stats"]=PS["Node.FS.Stats"]||{});(function(a){var b=PS["Node.FS.Stats"],c=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}();a.Stats=c;a.isDirectory=function(a){return b.statsMethod("isDirectory",a.value0)}})(PS["Node.FS.Stats"]=PS["Node.FS.Stats"]||{});
(function(a){a.fs=require("fs");a.handleCallbackImpl=function(a,c,f){return function(d,e){d?f(a(d))():f(c(e))()}}})(PS["Node.FS.Async"]=PS["Node.FS.Async"]||{});(function(a){a.mkEff=PS["Unsafe.Coerce"].unsafeCoerce})(PS["Node.FS.Internal"]=PS["Node.FS.Internal"]||{});
(function(a){var b=PS["Node.FS.Async"],c=PS.Prelude,f=PS["Data.Either"],d=PS["Node.FS.Stats"],e=PS["Node.FS.Internal"],g=function(a){return b.handleCallbackImpl(f.Left.create,f.Right.create,a)};a.readdir=function(a){return function(c){return e.mkEff(function(d){return b.fs.readdir(a,g(c))})}};a.stat=function(a){return function(h){return e.mkEff(function(e){return b.fs.stat(a,g(function(a){return h(c["<$>"](f.functorEither)(d.Stats.create)(a))}))})}}})(PS["Node.FS.Async"]=PS["Node.FS.Async"]||{});
(function(a){var b=PS["Data.Either"],c=PS["Control.Monad.Aff"],f=PS["Node.FS.Async"],d=function(a){return c.makeAff(function(c){return function(d){return a(b.either(c)(d))}})},e=function(a){return function(b){return d(a(b))}},g=e(f.stat),f=e(f.readdir);a.readdir=f;a.stat=g})(PS["Node.FS.Aff"]=PS["Node.FS.Aff"]||{});
(function(a){var b=PS["Data.Monoid"],c=PS["Unsafe.Coerce"],f=new PS.Prelude.Semigroup(function(a){return function(b){return c.unsafeCoerce(function(f){return c.unsafeCoerce(b)(c.unsafeCoerce(a)(f))})}}),b=new b.Monoid(function(){return f},c.unsafeCoerce(function(a){return a}));a.describe=function(a){return function(b){return c.unsafeCoerce(function(c){return c.describe(a,b)})}};a.requiresArg=function(a){return c.unsafeCoerce(function(b){return b.requiresArg(a)})};a.demand=function(a){return function(b){return c.unsafeCoerce(function(c){return c.demand(a,
b)})}};a.alias=function(a){return function(b){return c.unsafeCoerce(function(c){return c.alias(a,b)})}};a.example=function(a){return function(b){return c.unsafeCoerce(function(c){return c.example(a,b)})}};a.usage=function(a){return c.unsafeCoerce(function(b){return b.usage(a)})};a.semigroupYargsSetup=f;a.monoidYargsSetup=b})(PS["Node.Yargs.Setup"]=PS["Node.Yargs.Setup"]||{});
(function(a){a.yargs=function(){return require("yargs")};a.setupWith=function(a){return function(c){return function(){return a(c)}}};a.argv=function(a){return function(){return a.argv}}})(PS["Node.Yargs"]=PS["Node.Yargs"]||{});(function(a){var b=PS["Node.Yargs"],c=PS.Prelude,f=PS["Control.Monad.Eff"];a.runYargs=function(a){return c[">>="](f.bindEff)(c[">>="](f.bindEff)(b.yargs)(b.setupWith(a)))(b.argv)}})(PS["Node.Yargs"]=PS["Node.Yargs"]||{});
(function(a){var b=PS.Prelude,c=PS["Data.Foreign"],f=PS["Data.Foreign.Class"],d=PS["Data.Monoid"],e=PS["Data.Either"],g=PS["Data.Foldable"],m=PS["Node.Yargs"],h=PS["Node.Yargs.Setup"],l=PS["Control.Monad.Eff.Unsafe"],k=PS["Control.Monad.Eff.Exception"],q=PS["Control.Alt"],u=PS["Data.Foreign.Index"],w=function(a){this.arg=a},p=function(a){return a},n=new b.Functor(function(a){return function(c){return{setup:c.setup,read:function(d){return b["<$>"](e.functorEither)(a)(c.read(d))}}}}),t=new w(function(a){return{setup:d.mempty(h.monoidYargsSetup),
read:f.readProp(f.numberIsForeign)(u.indexString)(a)}});a.Arg=w;a.yarg=function(a){return function(c){return function(f){return function(k){return function(m){return function(l){var n=p((0,a.arg)(c)),t=b["<>"](h.semigroupYargsSetup)(n.setup),u=b["<>"](h.semigroupYargsSetup)(g.foldMap(g.foldableArray)(h.monoidYargsSetup)(function(a){return h.alias(c)(a)})(f)),w=b["<>"](h.semigroupYargsSetup)(g.foldMap(e.foldableEither)(h.monoidYargsSetup)(function(a){return h.demand(c)(a)})(m)),F=b["<>"](h.semigroupYargsSetup)(g.foldMap(g.foldableMaybe)(h.monoidYargsSetup)(function(a){return h.describe(c)(a)})(k));
if(l)l=h.requiresArg(c);else{if(l)throw Error("Failed pattern match at Node.Yargs.Applicative line 96, column 17 - line 101, column 8: "+[l.constructor.name]);l=d.mempty(h.monoidYargsSetup)}return{setup:t(u(w(F(l)))),read:function(){return m instanceof e.Left?function(a){return q["<|>"](e.altEither)(n.read(a))(b.pure(e.applicativeEither)(m.value0))}:n.read}()}}}}}}};a.arg=function(a){return a.arg};a.runY=function(a){return function(d){return function(){var f=m.runYargs(b["<>"](h.semigroupYargsSetup)(a)(d.setup))(),
f=d.read(f);if(f instanceof e.Left)return k.throwException(k.error(b.show(c.showForeignError)(f.value0)))();if(f instanceof e.Right)return l.unsafeInterleaveEff(f.value0)();throw Error("Failed pattern match at Node.Yargs.Applicative line 51, column 3 - line 55, column 1: "+[f.constructor.name]);}}};a.functorY=n;a.argNumber=t})(PS["Node.Yargs.Applicative"]=PS["Node.Yargs.Applicative"]||{});
(function(a){a.makeApp=function(){var a=require("express")(),b=require("compression");a.use(b());return a};a.listen=function(a){return function(b){return function(){var d=require("http").createServer(a);d.listen(b);return d}}};a.get=function(a){return function(b){return function(d){return function(e){return function(){var g=function(a,b){return e(a)(b)()};a.get.apply(a,d?[b,d,g]:[b,g])}}}}};a["delete"]=function(a){return function(b){return function(d){return function(e){return function(){var g=function(a,
b){return e(a)(b)()};a["delete"].apply(a,d?[b,d,g]:[b,g])}}}}};a.post=function(a){return function(b){return function(d){return function(e){return function(){var g=function(a,b){return e(a)(b)()};a.post.apply(a,d?[b,d,g]:[b,g])}}}}};a.put=function(a){return function(b){return function(d){return function(e){return function(){var g=function(a,b){return e(a)(b)()};a.put.apply(a,d?[b,d,g]:[b,g])}}}}};a.hostStatic=function(a){return function(b){return function(){a.use(require("express")["static"](b))}}};
var b=require("body-parser");a.bufferParser=b.raw({type:"*/*",limit:"5MB"});a.rawParser=b.text({type:"*/*"});a.noParser=null;a.mkConvert=function(a){return function(b){return function(d){return a(d.url)(d.body?d.body:b)(d.params)(d.path)(d.query)(d.headers)}}};a.mkBufferConvert=function(a){return function(b){return a(b.url)(b.body)(b.params)(b.path)(b.query)(b.headers)}};a.sendStr=function(a){return function(b){return function(){a.send(b)}}};a.sendBuffer=function(a){return function(b){return function(){a.send(b)}}};
a.getParamsImpl=function(a){return function(b){var d=/\?params=(.*)$/;return function(e){e=e.match(d);return e[1]?a(e[1]):b}}}})(PS["Server.Core"]=PS["Server.Core"]||{});
(function(a){var b=PS["Server.Core"],c=PS.Prelude,f=PS["Control.Monad.Eff.Console"],d=PS["Control.Monad.Aff"],e=PS["Control.Monad.Eff.Exception"],g=PS["Control.Monad.Error.Class"],m=PS["Data.Either"],h=PS["Data.Foreign.Generic"],l=PS["Data.Generic"],k=PS["Data.Serializable"],q=PS["Data.Maybe"],u=PS["Network.HTTP.Method"],w=PS["Data.Foreign"],p=function(a){return function(b){return function(d){return m.either(function(a){return g.throwError(b)(e.error(c.show(w.showForeignError)(a)))})(function(a){var e=
c["return"](b["__superclass_Prelude.Monad_0"]()["__superclass_Prelude.Applicative_0"]()),f={},g;for(g in d)d.hasOwnProperty(g)&&(f[g]=d[g]);f.body=a;return e(f)})(h.readJSONGeneric(a)(h.defaultOptions)(d.body))}}},n=b.getParamsImpl(q.Just.create)(q.Nothing.value),t=function(a){return function(b){return function(d){return m.either(g.throwError(b))(c["return"](b["__superclass_Prelude.Monad_0"]()["__superclass_Prelude.Applicative_0"]()))(q.maybe(m.Left.create(e.error("No params found")))(function(b){return k.deserialize(a)(b)})(n(d.url)))}}},
x=b.mkBufferConvert(function(a){return function(b){return function(c){return function(d){return function(e){return function(f){return{url:a,body:b,params:c,path:d,query:e,headers:f}}}}}}}),A=b.mkConvert(function(a){return function(b){return function(c){return function(d){return function(e){return function(f){return{url:a,body:b,params:c,path:d,query:e,headers:f}}}}}}})(h.toJSONGeneric(l.genericUnit)(h.defaultOptions)(c.unit));a.hostFileUploadEndpoint=function(a){return function(g){return function(k){return function(m){return function(l){return b.post(k)(m.value0.url)(b.bufferParser)(function(k){return function(n){return d.runAff(function(a){return function(){f.log("Failed hostFileUploadEndpoint on "+
(m.value0.url+e.message(a)))();return b.sendStr(n)(e.message(a))()}})(function(a){return b.sendStr(n)(h.toJSONGeneric(g)(h.defaultOptions)(a))})(function(){var b=x(k);return c[">>="](d.bindAff)(t(a)(d.monadErrorAff)(b))(function(a){return l(a)(b)})}())}})}}}}};a.hostFile=function(a){return function(g){return function(h){return b.get(a)(g)(b.noParser)(function(a){return function(g){return d.runAff(function(a){return function(){f.log("Failed hostFile "+e.message(a))();return b.sendStr(g)(e.message(a))()}})(function(a){return b.sendBuffer(g)(a)})(c[">>="](d.bindAff)(p(l.genericUnit)(d.monadErrorAff)(A(a)))(h))}})}}};
a.hostEndpoint=function(a){return function(g){return function(k){return function(m){return function(l){return function(n){var q=function(m){return function(q){return d.runAff(function(a){return function(){f.log("Failed hostEndpoint on "+(l.value0.url+e.message(a)))();return b.sendStr(q)(e.message(a))()}})(function(a){return b.sendStr(q)(h.toJSONGeneric(k)(h.defaultOptions)(a))})(function(){var b=A(m);return c.bind(d.bindAff)(t(a)(d.monadErrorAff)(b))(function(a){return c.bind(d.bindAff)(p(g)(d.monadErrorAff)(b))(function(b){return n(a)(b)})})}())}},
w=function(a){return function(b){return a(m)(l.value0.url)(b)(q)}};if(l.value0.method instanceof u.GET)return w(b.get)(b.noParser);if(l.value0.method instanceof u.POST)return w(b.post)(b.rawParser);if(l.value0.method instanceof u.PUT)return w(b.put)(b.rawParser);if(l.value0.method instanceof u.DELETE)return w(b["delete"])(b.noParser);throw Error("Failed pattern match at Server.Core line 61, column 3 - line 66, column 3: "+[l.value0.method.constructor.name]);}}}}}};a.hostStatic=b.hostStatic;a.listen=
b.listen;a.makeApp=b.makeApp})(PS["Server.Core"]=PS["Server.Core"]||{});
(function(a){var b=PS.Prelude,c=PS["Control.Monad.Eff.Exception"],f=PS["Control.Monad.Eff.Console"],d=PS["Control.Monad.Aff"],e=PS["Control.Monad.Error.Class"],g=PS["Data.Date"],m=PS["Data.Array"],h=PS["Data.StrMap"],l=PS["Data.Tuple"],k=PS["Data.Maybe"],q=PS["Data.Traversable"],u=PS["Data.Either"],w=PS["Data.Int"],p=PS["Node.Path"],n=PS["Node.FS.Aff"],t=PS["Node.FS.Stats"],x=PS["Node.Yargs.Setup"],A=PS["Node.Yargs.Applicative"],r=PS["Server.Core"],B=PS["App.Endpoint"],z=PS["App.DB"],v=PS["Data.Serializable"],
y=PS["Data.Generic"],E=PS["App.Model.Photobooth"],D=PS["App.Model.Event"],G=PS["App.Model.Statistic"],F=PS["App.Model.SavedFile"],C=PS["Database.AnyDB"].withConnection(z.mainConnectionInfo),I=function(a){return function(b){return e.throwError(a)(c.error(b))}},x=b["<>"](x.semigroupYargsSetup)(x.usage("$0 -p port"))(x.example("$0 -p 8080")("Run photobooth server!")),M=function(a){return function(c){return function(d){return k.maybe(I(a)(c+": Invalid int provided"))(b["return"](a["__superclass_Prelude.Monad_0"]()["__superclass_Prelude.Applicative_0"]()))(z.safeParseInt(d))}}},
J=function(a){return function(b){return function(d){return function(f){return function(g){return k.maybe(e.throwError(a)(c.error(b+(": No "+(d+" provided")))))(f)(h.lookup(d)(g.params))}}}}},K=function(a){return b[">>="](d.bindAff)(n.readdir(p.concat(["profiles",a.value0,a.value1])))(function(c){return b["return"](d.applicativeAff)(b["<$>"](b.functorArray)(function(b){return p.concat([a.value0,a.value1,b])})(c))})},L=function(){var a=p.normalize("./profiles");return b.bind(d.bindAff)(n.readdir(a))(function(c){return b.bind(d.bindAff)(b.flip(m.filterM(d.monadAff))(c)(function(c){return b[">>="](d.bindAff)(n.stat(p.concat([a,
c])))(function(a){return b["return"](d.applicativeAff)(t.isDirectory(a))})}))(function(c){return b.flip(q.traverse(q.traversableArray)(d.applicativeAff))(c)(function(c){return b[">>="](d.bindAff)(n.readdir(p.concat([a,c])))(function(a){return b["return"](d.applicativeAff)(new l.Tuple(c,a))})})})})}(),H=function(a){var c=w.ceil(a);return function(){g.now();var a=r.makeApp();r.hostEndpoint(v.serializableString)(y.genericUnit)(y.genericMaybe(E.genericPhotobooth))(a)(B.getPhotobooth)(function(a){return function(b){return C(function(b){return z.queryPhotobooth(b)(a)})}})();
r.hostEndpoint(v.serializableUnit)(y.genericUnit)(y.genericArray(E.genericPhotobooth))(a)(B.getPhotobooths)(function(a){return function(a){return C(z.allPhotobooths)}})();r.hostEndpoint(v.serializableUnit)(E.genericPhotobooth)(E.genericPhotobooth)(a)(B.postPhotobooths)(function(a){return function(a){return C(function(b){return z.newPB(b)(a.body)})}})();r.hostEndpoint(v.serializableUnit)(E.genericPhotobooth)(E.genericPhotobooth)(a)(B.putPhotobooths)(function(a){return function(a){return C(function(b){return z.updatePB(b)(a.body)})}})();
r.hostEndpoint(v.serializableString)(y.genericUnit)(y.genericUnit)(a)(B.deletePhotobooth)(function(a){return function(b){return C(function(b){return z.deletePB(b)(a)})}})();r.hostEndpoint(v.serializableString)(y.genericUnit)(y.genericArray(D.genericEvent))(a)(B.getEvents)(function(a){return function(b){return C(function(b){return z.queryEvents(b)(a)})}})();r.hostEndpoint(v.serializableUnit)(D.genericEvent)(D.genericEvent)(a)(B.postEvents)(function(a){return function(a){return C(function(b){return z.newEvent(b)(a.body)})}})();
r.hostEndpoint(v.serializableUnit)(D.genericEvent)(D.genericEvent)(a)(B.putEvents)(function(a){return function(a){return C(function(b){return z.updateEvent(b)(a.body)})}})();r.hostEndpoint(v.serializableTuple(v.serializableString)(v.serializableInt))(y.genericUnit)(y.genericArray(D.genericEvent))(a)(B.getEventsPaged)(function(a){return function(b){return C(function(b){return z.queryEventsPaged(b)(a.value1)(a.value0)})}})();r.hostEndpoint(v.serializableArray(v.serializableInt))(y.genericUnit)(y.genericArray(D.genericEvent))(a)(B.getEventsByIds)(function(a){return function(b){return C(function(b){return z.queryEventsByIds(b)(a)})}})();
r.hostEndpoint(v.serializableTuple(v.serializableString)(v.serializableDate))(y.genericUnit)(y.genericArray(D.genericPartialEvent))(a)(B.getNewEvents)(function(a){return function(b){return C(function(b){return z.queryNewEvents(b)(a)})}})();r.hostEndpoint(v.serializableUnit)(y.genericUnit)(y.genericArray(y.genericTuple(y.genericString)(y.genericArray(y.genericString))))(a)(B.getProfiles)(function(a){return function(a){return L}})();r.hostEndpoint(v.serializableString)(y.genericUnit)(G.genericAllStatistics)(a)(B.getStatistics)(function(a){return function(b){return C(function(b){return z.queryAllStatistics(b)(a)})}})();
r.hostEndpoint(v.serializableTuple(v.serializableString)(v.serializableDate))(y.genericUnit)(y.genericArray(F.genericSavedFile))(a)(B.getNewFiles)(function(a){return function(b){return C(function(b){return z.queryNewFiles(b)(a)})}})();r.hostEndpoint(v.serializableUnit)(G.genericAllStatistics)(y.genericUnit)(a)(B.postStatistics)(function(a){return function(a){return C(function(b){return z.addStatistics(b)(a.body)})}})();r.hostEndpoint(v.serializableTuple(v.serializableString)(v.serializableString))(y.genericUnit)(y.genericArray(y.genericString))(a)(B.getProfileFiles)(function(a){return function(b){return K(a)}})();
r.hostFileUploadEndpoint(v.serializableTuple(v.serializableInt)(v.serializableString))(F.genericSavedFile)(a)(B.attachFile)(function(a){return function(b){return C(function(c){return z.saveFileToDb(c)(a)(b.body)})}})();r.hostFile(a)("/api/files/:id")(J(d.monadErrorAff)("GetFile")("id")(function(a){return b[">>="](d.bindAff)(M(d.monadErrorAff)("GetFile")(a))(function(a){return C(function(b){return z.getFileById(b)(a)})})}))();r.hostStatic(a)("static")();r.hostStatic(a)("profiles")();r.listen(a)(c)();
return f.log("Starting server on "+b.show(b.showInt)(c))()}},u=A.runY(x)(b["<$>"](A.functorY)(H)(A.yarg(A.argNumber)("p")(["port"])(new k.Just("Port"))(new u.Left(8080))(!1)));a.allProfiles=L;a.findProfileFiles=K;a.throwStr=I;a.safeParseIntE=M;a.readParams1=J;a.server=H;a.main=u;a.setup=x;a.withServerConn=C})(PS.Main=PS.Main||{});PS.Main.main();
