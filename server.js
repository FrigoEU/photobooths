// Generated by psc-bundle 0.7.6.1
var PS = { };
(function(exports) {
  "use strict";

  //module App.DB

  exports.pInt = function pInt(nothing){
    return function(just){
      return function(str){
        var i = parseInt(str);
        if (isNaN(i)){
          return nothing;
        } else {
          return just(i);
        }
      };
    };
  };
 
})(PS["App.DB"] = PS["App.DB"] || {});
(function(exports) {
  /* global exports */
  "use strict";

  // module Prelude

  //- Functor --------------------------------------------------------------------

  exports.arrayMap = function (f) {
    return function (arr) {
      var l = arr.length;
      var result = new Array(l);
      for (var i = 0; i < l; i++) {
        result[i] = f(arr[i]);
      }
      return result;
    };
  };

  //- Eq -------------------------------------------------------------------------

  exports.refEq = function (r1) {
    return function (r2) {
      return r1 === r2;
    };
  };

  //- Ord ------------------------------------------------------------------------

  exports.unsafeCompareImpl = function (lt) {
    return function (eq) {
      return function (gt) {
        return function (x) {
          return function (y) {
            return x < y ? lt : x > y ? gt : eq;
          };
        };
      };
    };
  };

  //- Show -----------------------------------------------------------------------

  exports.showIntImpl = function (n) {
    return n.toString();
  };

  exports.showStringImpl = function (s) {
    return JSON.stringify(s);
  };

  exports.showArrayImpl = function (f) {
    return function (xs) {
      var ss = [];
      for (var i = 0, l = xs.length; i < l; i++) {
        ss[i] = f(xs[i]);
      }
      return "[" + ss.join(",") + "]";
    };
  };
 
})(PS["Prelude"] = PS["Prelude"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Prelude"];
  var LT = (function () {
      function LT() {

      };
      LT.value = new LT();
      return LT;
  })();
  var GT = (function () {
      function GT() {

      };
      GT.value = new GT();
      return GT;
  })();
  var EQ = (function () {
      function EQ() {

      };
      EQ.value = new EQ();
      return EQ;
  })();
  var Semigroupoid = function (compose) {
      this.compose = compose;
  };
  var Category = function (__superclass_Prelude$dotSemigroupoid_0, id) {
      this["__superclass_Prelude.Semigroupoid_0"] = __superclass_Prelude$dotSemigroupoid_0;
      this.id = id;
  };
  var Functor = function (map) {
      this.map = map;
  };
  var Apply = function (__superclass_Prelude$dotFunctor_0, apply) {
      this["__superclass_Prelude.Functor_0"] = __superclass_Prelude$dotFunctor_0;
      this.apply = apply;
  };
  var Applicative = function (__superclass_Prelude$dotApply_0, pure) {
      this["__superclass_Prelude.Apply_0"] = __superclass_Prelude$dotApply_0;
      this.pure = pure;
  };
  var Bind = function (__superclass_Prelude$dotApply_0, bind) {
      this["__superclass_Prelude.Apply_0"] = __superclass_Prelude$dotApply_0;
      this.bind = bind;
  };
  var Monad = function (__superclass_Prelude$dotApplicative_0, __superclass_Prelude$dotBind_1) {
      this["__superclass_Prelude.Applicative_0"] = __superclass_Prelude$dotApplicative_0;
      this["__superclass_Prelude.Bind_1"] = __superclass_Prelude$dotBind_1;
  };
  var Eq = function (eq) {
      this.eq = eq;
  };
  var Ord = function (__superclass_Prelude$dotEq_0, compare) {
      this["__superclass_Prelude.Eq_0"] = __superclass_Prelude$dotEq_0;
      this.compare = compare;
  };
  var Show = function (show) {
      this.show = show;
  };
  var unsafeCompare = $foreign.unsafeCompareImpl(LT.value)(EQ.value)(GT.value);
  var unit = {};
  var showString = new Show($foreign.showStringImpl);
  var showInt = new Show($foreign.showIntImpl);
  var show = function (dict) {
      return dict.show;
  };
  var showArray = function (__dict_Show_1) {
      return new Show($foreign.showArrayImpl(show(__dict_Show_1)));
  };                                                                     
  var semigroupoidFn = new Semigroupoid(function (f) {
      return function (g) {
          return function (x) {
              return f(g(x));
          };
      };
  });                 
  var pure = function (dict) {
      return dict.pure;
  };
  var $$return = function (__dict_Applicative_2) {
      return pure(__dict_Applicative_2);
  };
  var otherwise = true;
  var map = function (dict) {
      return dict.map;
  };
  var $less$dollar$greater = function (__dict_Functor_5) {
      return map(__dict_Functor_5);
  };
  var id = function (dict) {
      return dict.id;
  };
  var functorArray = new Functor($foreign.arrayMap);
  var flip = function (f) {
      return function (b) {
          return function (a) {
              return f(a)(b);
          };
      };
  }; 
  var eqString = new Eq($foreign.refEq);
  var ordString = new Ord(function () {
      return eqString;
  }, unsafeCompare);
  var eq = function (dict) {
      return dict.eq;
  };
  var $eq$eq = function (__dict_Eq_7) {
      return eq(__dict_Eq_7);
  };
  var $$const = function (a) {
      return function (_3) {
          return a;
      };
  };
  var $$void = function (__dict_Functor_12) {
      return function (fa) {
          return $less$dollar$greater(__dict_Functor_12)($$const(unit))(fa);
      };
  };
  var compose = function (dict) {
      return dict.compose;
  };
  var $greater$greater$greater = function (__dict_Semigroupoid_15) {
      return flip(compose(__dict_Semigroupoid_15));
  };
  var compare = function (dict) {
      return dict.compare;
  };
  var categoryFn = new Category(function () {
      return semigroupoidFn;
  }, function (x) {
      return x;
  });
  var bind = function (dict) {
      return dict.bind;
  };
  var $greater$greater$eq = function (__dict_Bind_24) {
      return bind(__dict_Bind_24);
  }; 
  var apply = function (dict) {
      return dict.apply;
  };
  var $less$times$greater = function (__dict_Apply_25) {
      return apply(__dict_Apply_25);
  };
  var liftA1 = function (__dict_Applicative_26) {
      return function (f) {
          return function (a) {
              return $less$times$greater(__dict_Applicative_26["__superclass_Prelude.Apply_0"]())(pure(__dict_Applicative_26)(f))(a);
          };
      };
  }; 
  var append = function (dict) {
      return dict.append;
  };
  var $less$greater = function (__dict_Semigroup_28) {
      return append(__dict_Semigroup_28);
  };
  var ap = function (__dict_Monad_30) {
      return function (f) {
          return function (a) {
              return bind(__dict_Monad_30["__superclass_Prelude.Bind_1"]())(f)(function (_2) {
                  return bind(__dict_Monad_30["__superclass_Prelude.Bind_1"]())(a)(function (_1) {
                      return $$return(__dict_Monad_30["__superclass_Prelude.Applicative_0"]())(_2(_1));
                  });
              });
          };
      };
  };
  exports["LT"] = LT;
  exports["GT"] = GT;
  exports["EQ"] = EQ;
  exports["Show"] = Show;
  exports["Ord"] = Ord;
  exports["Eq"] = Eq;
  exports["Monad"] = Monad;
  exports["Bind"] = Bind;
  exports["Applicative"] = Applicative;
  exports["Apply"] = Apply;
  exports["Functor"] = Functor;
  exports["Category"] = Category;
  exports["Semigroupoid"] = Semigroupoid;
  exports["show"] = show;
  exports["unsafeCompare"] = unsafeCompare;
  exports["compare"] = compare;
  exports["=="] = $eq$eq;
  exports["eq"] = eq;
  exports["<>"] = $less$greater;
  exports["append"] = append;
  exports["ap"] = ap;
  exports["return"] = $$return;
  exports[">>="] = $greater$greater$eq;
  exports["bind"] = bind;
  exports["liftA1"] = liftA1;
  exports["pure"] = pure;
  exports["<*>"] = $less$times$greater;
  exports["apply"] = apply;
  exports["void"] = $$void;
  exports["<$>"] = $less$dollar$greater;
  exports["map"] = map;
  exports["id"] = id;
  exports[">>>"] = $greater$greater$greater;
  exports["compose"] = compose;
  exports["otherwise"] = otherwise;
  exports["const"] = $$const;
  exports["flip"] = flip;
  exports["unit"] = unit;
  exports["semigroupoidFn"] = semigroupoidFn;
  exports["categoryFn"] = categoryFn;
  exports["functorArray"] = functorArray;
  exports["eqString"] = eqString;
  exports["ordString"] = ordString;
  exports["showInt"] = showInt;
  exports["showString"] = showString;
  exports["showArray"] = showArray;;
 
})(PS["Prelude"] = PS["Prelude"] || {});
(function(exports) {
  /* global exports */
  "use strict";

  exports.error = function (msg) {
    return new Error(msg);
  };

  exports.message = function (e) {
    return e.message;
  };

  exports.throwException = function (e) {
    return function () {
      throw e;
    };
  };
 
})(PS["Control.Monad.Eff.Exception"] = PS["Control.Monad.Eff.Exception"] || {});
(function(exports) {
  /* global exports */
  "use strict";

  // module Control.Monad.Eff

  exports.returnE = function (a) {
    return function () {
      return a;
    };
  };

  exports.bindE = function (a) {
    return function (f) {
      return function () {
        return f(a())();
      };
    };
  };

  exports.runPure = function (f) {
    return f();
  };
 
})(PS["Control.Monad.Eff"] = PS["Control.Monad.Eff"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Control.Monad.Eff"];
  var Prelude = PS["Prelude"];     
  var monadEff = new Prelude.Monad(function () {
      return applicativeEff;
  }, function () {
      return bindEff;
  });
  var bindEff = new Prelude.Bind(function () {
      return applyEff;
  }, $foreign.bindE);
  var applyEff = new Prelude.Apply(function () {
      return functorEff;
  }, Prelude.ap(monadEff));
  var applicativeEff = new Prelude.Applicative(function () {
      return applyEff;
  }, $foreign.returnE);
  var functorEff = new Prelude.Functor(Prelude.liftA1(applicativeEff));
  exports["functorEff"] = functorEff;
  exports["applyEff"] = applyEff;
  exports["applicativeEff"] = applicativeEff;
  exports["bindEff"] = bindEff;
  exports["monadEff"] = monadEff;
  exports["runPure"] = $foreign.runPure;;
 
})(PS["Control.Monad.Eff"] = PS["Control.Monad.Eff"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Control.Monad.Eff.Exception"];
  var Prelude = PS["Prelude"];
  var Control_Monad_Eff = PS["Control.Monad.Eff"];
  exports["throwException"] = $foreign.throwException;
  exports["message"] = $foreign.message;
  exports["error"] = $foreign.error;;
 
})(PS["Control.Monad.Eff.Exception"] = PS["Control.Monad.Eff.Exception"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var Prelude = PS["Prelude"];
  var mempty = function (dict) {
      return dict.mempty;
  };
  exports["mempty"] = mempty;;
 
})(PS["Data.Monoid"] = PS["Data.Monoid"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var Prelude = PS["Prelude"];
  var Control_Alt = PS["Control.Alt"];
  var Control_Alternative = PS["Control.Alternative"];
  var Control_Extend = PS["Control.Extend"];
  var Control_MonadPlus = PS["Control.MonadPlus"];
  var Control_Plus = PS["Control.Plus"];
  var Data_Functor_Invariant = PS["Data.Functor.Invariant"];
  var Data_Monoid = PS["Data.Monoid"];     
  var Nothing = (function () {
      function Nothing() {

      };
      Nothing.value = new Nothing();
      return Nothing;
  })();
  var Just = (function () {
      function Just(value0) {
          this.value0 = value0;
      };
      Just.create = function (value0) {
          return new Just(value0);
      };
      return Just;
  })();
  var maybe = function (b) {
      return function (f) {
          return function (_0) {
              if (_0 instanceof Nothing) {
                  return b;
              };
              if (_0 instanceof Just) {
                  return f(_0.value0);
              };
              throw new Error("Failed pattern match at Data.Maybe line 26, column 1 - line 27, column 1: " + [ b.constructor.name, f.constructor.name, _0.constructor.name ]);
          };
      };
  };                                                
  var functorMaybe = new Prelude.Functor(function (fn) {
      return function (_2) {
          if (_2 instanceof Just) {
              return new Just(fn(_2.value0));
          };
          return Nothing.value;
      };
  });
  var fromMaybe = function (a) {
      return maybe(a)(Prelude.id(Prelude.categoryFn));
  };
  var applyMaybe = new Prelude.Apply(function () {
      return functorMaybe;
  }, function (_3) {
      return function (x) {
          if (_3 instanceof Just) {
              return Prelude["<$>"](functorMaybe)(_3.value0)(x);
          };
          if (_3 instanceof Nothing) {
              return Nothing.value;
          };
          throw new Error("Failed pattern match at Data.Maybe line 121, column 1 - line 145, column 1: " + [ _3.constructor.name, x.constructor.name ]);
      };
  });
  var bindMaybe = new Prelude.Bind(function () {
      return applyMaybe;
  }, function (_5) {
      return function (k) {
          if (_5 instanceof Just) {
              return k(_5.value0);
          };
          if (_5 instanceof Nothing) {
              return Nothing.value;
          };
          throw new Error("Failed pattern match at Data.Maybe line 180, column 1 - line 199, column 1: " + [ _5.constructor.name, k.constructor.name ]);
      };
  });
  var applicativeMaybe = new Prelude.Applicative(function () {
      return applyMaybe;
  }, Just.create);
  exports["Nothing"] = Nothing;
  exports["Just"] = Just;
  exports["fromMaybe"] = fromMaybe;
  exports["maybe"] = maybe;
  exports["functorMaybe"] = functorMaybe;
  exports["applyMaybe"] = applyMaybe;
  exports["applicativeMaybe"] = applicativeMaybe;
  exports["bindMaybe"] = bindMaybe;;
 
})(PS["Data.Maybe"] = PS["Data.Maybe"] || {});
(function(exports) {
  /* global exports */
  "use strict";

  // module Data.Foldable

  exports.foldrArray = function (f) {
    return function (init) {
      return function (xs) {
        var acc = init;
        var len = xs.length;
        for (var i = len - 1; i >= 0; i--) {
          acc = f(xs[i])(acc);
        }
        return acc;
      };
    };
  };

  exports.foldlArray = function (f) {
    return function (init) {
      return function (xs) {
        var acc = init;
        var len = xs.length;
        for (var i = 0; i < len; i++) {
          acc = f(acc)(xs[i]);
        }
        return acc;
      };
    };
  };
 
})(PS["Data.Foldable"] = PS["Data.Foldable"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var Prelude = PS["Prelude"];
  var $times$greater = function (__dict_Apply_1) {
      return function (a) {
          return function (b) {
              return Prelude["<*>"](__dict_Apply_1)(Prelude["<$>"](__dict_Apply_1["__superclass_Prelude.Functor_0"]())(Prelude["const"](Prelude.id(Prelude.categoryFn)))(a))(b);
          };
      };
  };
  exports["*>"] = $times$greater;;
 
})(PS["Control.Apply"] = PS["Control.Apply"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Data.Foldable"];
  var Prelude = PS["Prelude"];
  var Control_Apply = PS["Control.Apply"];
  var Data_Maybe = PS["Data.Maybe"];
  var Data_Maybe_First = PS["Data.Maybe.First"];
  var Data_Maybe_Last = PS["Data.Maybe.Last"];
  var Data_Monoid = PS["Data.Monoid"];
  var Data_Monoid_Additive = PS["Data.Monoid.Additive"];
  var Data_Monoid_Conj = PS["Data.Monoid.Conj"];
  var Data_Monoid_Disj = PS["Data.Monoid.Disj"];
  var Data_Monoid_Dual = PS["Data.Monoid.Dual"];
  var Data_Monoid_Endo = PS["Data.Monoid.Endo"];
  var Data_Monoid_Multiplicative = PS["Data.Monoid.Multiplicative"];     
  var Foldable = function (foldMap, foldl, foldr) {
      this.foldMap = foldMap;
      this.foldl = foldl;
      this.foldr = foldr;
  };
  var foldr = function (dict) {
      return dict.foldr;
  };
  var traverse_ = function (__dict_Applicative_0) {
      return function (__dict_Foldable_1) {
          return function (f) {
              return foldr(__dict_Foldable_1)(function (_109) {
                  return Control_Apply["*>"](__dict_Applicative_0["__superclass_Prelude.Apply_0"]())(f(_109));
              })(Prelude.pure(__dict_Applicative_0)(Prelude.unit));
          };
      };
  };
  var for_ = function (__dict_Applicative_2) {
      return function (__dict_Foldable_3) {
          return Prelude.flip(traverse_(__dict_Applicative_2)(__dict_Foldable_3));
      };
  };
  var foldl = function (dict) {
      return dict.foldl;
  }; 
  var foldMapDefaultR = function (__dict_Foldable_26) {
      return function (__dict_Monoid_27) {
          return function (f) {
              return function (xs) {
                  return foldr(__dict_Foldable_26)(function (x) {
                      return function (acc) {
                          return Prelude["<>"](__dict_Monoid_27["__superclass_Prelude.Semigroup_0"]())(f(x))(acc);
                      };
                  })(Data_Monoid.mempty(__dict_Monoid_27))(xs);
              };
          };
      };
  };
  var foldableArray = new Foldable(function (__dict_Monoid_28) {
      return foldMapDefaultR(foldableArray)(__dict_Monoid_28);
  }, $foreign.foldlArray, $foreign.foldrArray);
  var foldMap = function (dict) {
      return dict.foldMap;
  };
  var find = function (__dict_Foldable_37) {
      return function (p) {
          return foldl(__dict_Foldable_37)(function (r) {
              return function (x) {
                  var _108 = p(x);
                  if (_108) {
                      return new Data_Maybe.Just(x);
                  };
                  if (!_108) {
                      return r;
                  };
                  throw new Error("Failed pattern match at Data.Foldable line 233, column 1 - line 234, column 1: " + [ _108.constructor.name ]);
              };
          })(Data_Maybe.Nothing.value);
      };
  };
  exports["Foldable"] = Foldable;
  exports["find"] = find;
  exports["for_"] = for_;
  exports["traverse_"] = traverse_;
  exports["foldMapDefaultR"] = foldMapDefaultR;
  exports["foldMap"] = foldMap;
  exports["foldl"] = foldl;
  exports["foldr"] = foldr;
  exports["foldableArray"] = foldableArray;;
 
})(PS["Data.Foldable"] = PS["Data.Foldable"] || {});
(function(exports) {
  /* global exports */
  "use strict";

  // module Data.Traversable

  // jshint maxparams: 3

  exports.traverseArrayImpl = function () {
    function Cont (fn) {
      this.fn = fn;
    }

    var emptyList = {};

    var ConsCell = function (head, tail) {
      this.head = head;
      this.tail = tail;
    };

    function consList (x) {
      return function (xs) {
        return new ConsCell(x, xs);
      };
    }

    function listToArray (list) {
      var arr = [];
      while (list !== emptyList) {
        arr.push(list.head);
        list = list.tail;
      }
      return arr;
    }

    return function (apply) {
      return function (map) {
        return function (pure) {
          return function (f) {
            var buildFrom = function (x, ys) {
              return apply(map(consList)(f(x)))(ys);
            };

            var go = function (acc, currentLen, xs) {
              if (currentLen === 0) {
                return acc;
              } else {
                var last = xs[currentLen - 1];
                return new Cont(function () {
                  return go(buildFrom(last, acc), currentLen - 1, xs);
                });
              }
            };

            return function (array) {
              var result = go(pure(emptyList), array.length, array);
              while (result instanceof Cont) {
                result = result.fn();
              }

              return map(listToArray)(result);
            };
          };
        };
      };
    };
  }();
 
})(PS["Data.Traversable"] = PS["Data.Traversable"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Data.Traversable"];
  var Prelude = PS["Prelude"];
  var Data_Foldable = PS["Data.Foldable"];
  var Data_Maybe = PS["Data.Maybe"];
  var Data_Maybe_First = PS["Data.Maybe.First"];
  var Data_Maybe_Last = PS["Data.Maybe.Last"];
  var Data_Monoid_Additive = PS["Data.Monoid.Additive"];
  var Data_Monoid_Conj = PS["Data.Monoid.Conj"];
  var Data_Monoid_Disj = PS["Data.Monoid.Disj"];
  var Data_Monoid_Dual = PS["Data.Monoid.Dual"];
  var Data_Monoid_Multiplicative = PS["Data.Monoid.Multiplicative"];
  var Traversable = function (__superclass_Data$dotFoldable$dotFoldable_1, __superclass_Prelude$dotFunctor_0, sequence, traverse) {
      this["__superclass_Data.Foldable.Foldable_1"] = __superclass_Data$dotFoldable$dotFoldable_1;
      this["__superclass_Prelude.Functor_0"] = __superclass_Prelude$dotFunctor_0;
      this.sequence = sequence;
      this.traverse = traverse;
  };
  var traverse = function (dict) {
      return dict.traverse;
  };
  var sequenceDefault = function (__dict_Traversable_12) {
      return function (__dict_Applicative_13) {
          return function (tma) {
              return traverse(__dict_Traversable_12)(__dict_Applicative_13)(Prelude.id(Prelude.categoryFn))(tma);
          };
      };
  };
  var traversableArray = new Traversable(function () {
      return Data_Foldable.foldableArray;
  }, function () {
      return Prelude.functorArray;
  }, function (__dict_Applicative_15) {
      return sequenceDefault(traversableArray)(__dict_Applicative_15);
  }, function (__dict_Applicative_14) {
      return $foreign.traverseArrayImpl(Prelude.apply(__dict_Applicative_14["__superclass_Prelude.Apply_0"]()))(Prelude.map((__dict_Applicative_14["__superclass_Prelude.Apply_0"]())["__superclass_Prelude.Functor_0"]()))(Prelude.pure(__dict_Applicative_14));
  });
  var sequence = function (dict) {
      return dict.sequence;
  }; 
  var $$for = function (__dict_Applicative_26) {
      return function (__dict_Traversable_27) {
          return function (x) {
              return function (f) {
                  return traverse(__dict_Traversable_27)(__dict_Applicative_26)(f)(x);
              };
          };
      };
  };
  exports["Traversable"] = Traversable;
  exports["for"] = $$for;
  exports["sequenceDefault"] = sequenceDefault;
  exports["sequence"] = sequence;
  exports["traverse"] = traverse;
  exports["traversableArray"] = traversableArray;;
 
})(PS["Data.Traversable"] = PS["Data.Traversable"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var Prelude = PS["Prelude"];
  var Control_Alt = PS["Control.Alt"];
  var Control_Extend = PS["Control.Extend"];
  var Data_Bifoldable = PS["Data.Bifoldable"];
  var Data_Bifunctor = PS["Data.Bifunctor"];
  var Data_Bitraversable = PS["Data.Bitraversable"];
  var Data_Foldable = PS["Data.Foldable"];
  var Data_Monoid = PS["Data.Monoid"];
  var Data_Traversable = PS["Data.Traversable"];     
  var Left = (function () {
      function Left(value0) {
          this.value0 = value0;
      };
      Left.create = function (value0) {
          return new Left(value0);
      };
      return Left;
  })();
  var Right = (function () {
      function Right(value0) {
          this.value0 = value0;
      };
      Right.create = function (value0) {
          return new Right(value0);
      };
      return Right;
  })();
  var functorEither = new Prelude.Functor(function (f) {
      return function (_2) {
          if (_2 instanceof Left) {
              return new Left(_2.value0);
          };
          if (_2 instanceof Right) {
              return new Right(f(_2.value0));
          };
          throw new Error("Failed pattern match at Data.Either line 52, column 1 - line 56, column 1: " + [ f.constructor.name, _2.constructor.name ]);
      };
  });
  var either = function (f) {
      return function (g) {
          return function (_1) {
              if (_1 instanceof Left) {
                  return f(_1.value0);
              };
              if (_1 instanceof Right) {
                  return g(_1.value0);
              };
              throw new Error("Failed pattern match at Data.Either line 28, column 1 - line 29, column 1: " + [ f.constructor.name, g.constructor.name, _1.constructor.name ]);
          };
      };
  }; 
  var applyEither = new Prelude.Apply(function () {
      return functorEither;
  }, function (_4) {
      return function (r) {
          if (_4 instanceof Left) {
              return new Left(_4.value0);
          };
          if (_4 instanceof Right) {
              return Prelude["<$>"](functorEither)(_4.value0)(r);
          };
          throw new Error("Failed pattern match at Data.Either line 92, column 1 - line 116, column 1: " + [ _4.constructor.name, r.constructor.name ]);
      };
  });
  var bindEither = new Prelude.Bind(function () {
      return applyEither;
  }, either(function (e) {
      return function (_0) {
          return new Left(e);
      };
  })(function (a) {
      return function (f) {
          return f(a);
      };
  }));
  var applicativeEither = new Prelude.Applicative(function () {
      return applyEither;
  }, Right.create);
  exports["Left"] = Left;
  exports["Right"] = Right;
  exports["either"] = either;
  exports["functorEither"] = functorEither;
  exports["applyEither"] = applyEither;
  exports["applicativeEither"] = applicativeEither;
  exports["bindEither"] = bindEither;;
 
})(PS["Data.Either"] = PS["Data.Either"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var Prelude = PS["Prelude"];
  var Data_Maybe = PS["Data.Maybe"];
  var Data_Either = PS["Data.Either"];     
  var MonadError = function (__superclass_Prelude$dotMonad_0, catchError, throwError) {
      this["__superclass_Prelude.Monad_0"] = __superclass_Prelude$dotMonad_0;
      this.catchError = catchError;
      this.throwError = throwError;
  };
  var throwError = function (dict) {
      return dict.throwError;
  };                          
  var catchError = function (dict) {
      return dict.catchError;
  };
  exports["MonadError"] = MonadError;
  exports["catchError"] = catchError;
  exports["throwError"] = throwError;;
 
})(PS["Control.Monad.Error.Class"] = PS["Control.Monad.Error.Class"] || {});
(function(exports) {
  /* global exports */
  "use strict";

  exports._makeAff = function (cb) {
    return function(success, error) {
      return cb(function(e) {
        return function() {
          error(e);
        };
      })(function(v) {
        return function() {
          try {
            success(v);
          } catch (e) {
            error(e);
          }
        };
      })();
    }
  }

  exports._pure = function (nonCanceler, v) {
    return function(success, error) {
      try {
        success(v);
      } catch (e) {
        error(e);
      }

      return nonCanceler;
    };
  }

  exports._throwError = function (nonCanceler, e) {
    return function(success, error) {
      error(e);

      return nonCanceler;
    };
  }

  exports._fmap = function (f, aff) {
    return function(success, error) {
      return aff(function(v) {
        try {
          success(f(v));
        } catch (e) {
          error(e);
        }
      }, error);
    };
  }

  exports._bind = function (alwaysCanceler, aff, f) {
    return function(success, error) {
      var canceler1, canceler2;

      var isCanceled    = false;
      var requestCancel = false;

      var onCanceler = function(){};

      canceler1 = aff(function(v) {
        if (requestCancel) {
          isCanceled = true;

          return alwaysCanceler;
        } else {
          canceler2 = f(v)(success, error);

          onCanceler(canceler2);

          return canceler2;
        }
      }, error);

      return function(e) {
        return function(s, f) {
          requestCancel = true;

          if (canceler2 !== undefined) {
            return canceler2(e)(s, f);
          } else {
            return canceler1(e)(function(bool) {
              if (bool || isCanceled) {
                try {
                  s(true);
                } catch (e) {
                  f(e);
                }
              } else {
                onCanceler = function(canceler) {
                  canceler(e)(s, f);
                };
              }
            }, f);
          }
        };
      };
    };
  }

  exports._attempt = function (Left, Right, aff) {
    return function(success, error) {
      return aff(function(v) {
        try {
          success(Right(v));
        } catch (e) {
          error(e);
        }
      }, function(e) {
        try {
          success(Left(e));
        } catch (e) {
          error(e);
        }
      });
    };
  }

  exports._runAff = function (errorT, successT, aff) {
    return function() {
      return aff(function(v) {
        try {
          successT(v)();
        } catch (e) {
          errorT(e)();
        }
      }, function(e) {
        errorT(e)();
      });
    };
  }

  exports._liftEff = function (nonCanceler, e) {
    return function(success, error) {
      try {
        success(e());
      } catch (e) {
        error(e);
      }

      return nonCanceler;
    };
  }
 
})(PS["Control.Monad.Aff"] = PS["Control.Monad.Aff"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var Prelude = PS["Prelude"];
  var Control_Monad_Eff = PS["Control.Monad.Eff"];     
  var MonadEff = function (__superclass_Prelude$dotMonad_0, liftEff) {
      this["__superclass_Prelude.Monad_0"] = __superclass_Prelude$dotMonad_0;
      this.liftEff = liftEff;
  };                                 
  var liftEff = function (dict) {
      return dict.liftEff;
  };
  exports["MonadEff"] = MonadEff;
  exports["liftEff"] = liftEff;;
 
})(PS["Control.Monad.Eff.Class"] = PS["Control.Monad.Eff.Class"] || {});
(function(exports) {
  /* global exports */
  "use strict";

  exports.runFn4 = function (fn) {
    return function (a) {
      return function (b) {
        return function (c) {
          return function (d) {
            return fn(a, b, c, d);
          };
        };
      };
    };
  };
 
})(PS["Data.Function"] = PS["Data.Function"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Data.Function"];
  var Prelude = PS["Prelude"];     
  var on = function (f) {
      return function (g) {
          return function (x) {
              return function (y) {
                  return f(g(x))(g(y));
              };
          };
      };
  };
  exports["on"] = on;
  exports["runFn4"] = $foreign.runFn4;;
 
})(PS["Data.Function"] = PS["Data.Function"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Control.Monad.Aff"];
  var Prelude = PS["Prelude"];
  var Control_Alt = PS["Control.Alt"];
  var Control_Alternative = PS["Control.Alternative"];
  var Control_Monad_Cont_Class = PS["Control.Monad.Cont.Class"];
  var Control_Monad_Eff = PS["Control.Monad.Eff"];
  var Control_Monad_Eff_Class = PS["Control.Monad.Eff.Class"];
  var Control_Monad_Eff_Exception = PS["Control.Monad.Eff.Exception"];
  var Control_Monad_Error_Class = PS["Control.Monad.Error.Class"];
  var Control_Monad_Rec_Class = PS["Control.Monad.Rec.Class"];
  var Control_MonadPlus = PS["Control.MonadPlus"];
  var Control_Plus = PS["Control.Plus"];
  var Data_Either = PS["Data.Either"];
  var Data_Function = PS["Data.Function"];
  var Data_Monoid = PS["Data.Monoid"];
  var runAff = function (ex) {
      return function (f) {
          return function (aff) {
              return $foreign._runAff(ex, f, aff);
          };
      };
  };
  var makeAff$prime = function (h) {
      return $foreign._makeAff(h);
  };
  var functorAff = new Prelude.Functor(function (f) {
      return function (fa) {
          return $foreign._fmap(f, fa);
      };
  });
  var attempt = function (aff) {
      return $foreign._attempt(Data_Either.Left.create, Data_Either.Right.create, aff);
  };
  var applyAff = new Prelude.Apply(function () {
      return functorAff;
  }, function (ff) {
      return function (fa) {
          return $foreign._bind(alwaysCanceler, ff, function (f) {
              return Prelude["<$>"](functorAff)(f)(fa);
          });
      };
  });
  var applicativeAff = new Prelude.Applicative(function () {
      return applyAff;
  }, function (v) {
      return $foreign._pure(nonCanceler, v);
  });
  var nonCanceler = Prelude["const"](Prelude.pure(applicativeAff)(false));
  var alwaysCanceler = Prelude["const"](Prelude.pure(applicativeAff)(true));
  var makeAff = function (h) {
      return makeAff$prime(function (e) {
          return function (a) {
              return Prelude["<$>"](Control_Monad_Eff.functorEff)(Prelude["const"](nonCanceler))(h(e)(a));
          };
      });
  };                                                       
  var bindAff = new Prelude.Bind(function () {
      return applyAff;
  }, function (fa) {
      return function (f) {
          return $foreign._bind(alwaysCanceler, fa, f);
      };
  });
  var monadAff = new Prelude.Monad(function () {
      return applicativeAff;
  }, function () {
      return bindAff;
  });
  var monadEffAff = new Control_Monad_Eff_Class.MonadEff(function () {
      return monadAff;
  }, function (eff) {
      return $foreign._liftEff(nonCanceler, eff);
  });
  var monadErrorAff = new Control_Monad_Error_Class.MonadError(function () {
      return monadAff;
  }, function (aff) {
      return function (ex) {
          return Prelude[">>="](bindAff)(attempt(aff))(Data_Either.either(ex)(Prelude.pure(applicativeAff)));
      };
  }, function (e) {
      return $foreign._throwError(nonCanceler, e);
  });
  var $$finally = function (aff1) {
      return function (aff2) {
          return Prelude.bind(bindAff)(attempt(aff1))(function (_0) {
              return Prelude.bind(bindAff)(aff2)(function () {
                  return Data_Either.either(Control_Monad_Error_Class.throwError(monadErrorAff))(Prelude.pure(applicativeAff))(_0);
              });
          });
      };
  };
  exports["runAff"] = runAff;
  exports["nonCanceler"] = nonCanceler;
  exports["makeAff"] = makeAff;
  exports["finally"] = $$finally;
  exports["attempt"] = attempt;
  exports["functorAff"] = functorAff;
  exports["applyAff"] = applyAff;
  exports["applicativeAff"] = applicativeAff;
  exports["bindAff"] = bindAff;
  exports["monadAff"] = monadAff;
  exports["monadEffAff"] = monadEffAff;
  exports["monadErrorAff"] = monadErrorAff;;
 
})(PS["Control.Monad.Aff"] = PS["Control.Monad.Aff"] || {});
(function(exports) {
  /* global exports */
  "use strict";

  exports.nowImpl = function (ctor) {
    return function () {
      return ctor(new Date());
    };
  };

  exports.jsDateConstructor = function (x) {
    return new Date(x);
  };

  // jshint maxparams: 2
  exports.jsDateMethod = function (method, date) {
    return date[method]();
  };

  // jshint maxparams: 3
  exports.strictJsDate = function (just, nothing, s) {
    var epoch = Date.parse(s);
    if (isNaN(epoch)) return nothing;
    var date = new Date(epoch);
    var s2 = date.toISOString();
    var idx = s2.indexOf(s);
    return idx < 0 ? nothing : just(date);
  };
 
})(PS["Data.Date"] = PS["Data.Date"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var Prelude = PS["Prelude"];
  var Milliseconds = function (x) {
      return x;
  };
  exports["Milliseconds"] = Milliseconds;;
 
})(PS["Data.Time"] = PS["Data.Time"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var Prelude = PS["Prelude"];
  var Control_Biapplicative = PS["Control.Biapplicative"];
  var Control_Biapply = PS["Control.Biapply"];
  var Control_Comonad = PS["Control.Comonad"];
  var Control_Extend = PS["Control.Extend"];
  var Control_Lazy = PS["Control.Lazy"];
  var Data_Bifoldable = PS["Data.Bifoldable"];
  var Data_Bifunctor = PS["Data.Bifunctor"];
  var Data_Bitraversable = PS["Data.Bitraversable"];
  var Data_Foldable = PS["Data.Foldable"];
  var Data_Functor_Invariant = PS["Data.Functor.Invariant"];
  var Data_Maybe = PS["Data.Maybe"];
  var Data_Maybe_First = PS["Data.Maybe.First"];
  var Data_Monoid = PS["Data.Monoid"];
  var Data_Traversable = PS["Data.Traversable"];     
  var Tuple = (function () {
      function Tuple(value0, value1) {
          this.value0 = value0;
          this.value1 = value1;
      };
      Tuple.create = function (value0) {
          return function (value1) {
              return new Tuple(value0, value1);
          };
      };
      return Tuple;
  })();
  var snd = function (_4) {
      return _4.value1;
  };                                                                                                    
  var fst = function (_3) {
      return _3.value0;
  };
  exports["Tuple"] = Tuple;
  exports["snd"] = snd;
  exports["fst"] = fst;;
 
})(PS["Data.Tuple"] = PS["Data.Tuple"] || {});
(function(exports) {
  /* global exports */
  "use strict";

  exports.replicate = function (n) {
    return function (v) {
      if (n < 1) return [];
      var r = new Array(n);
      for (var i = 0; i < n; i++) r[i] = v;
      return r;
    };
  };

  //------------------------------------------------------------------------------
  // Array size ------------------------------------------------------------------
  //------------------------------------------------------------------------------

  exports.length = function (xs) {
    return xs.length;
  };

  //------------------------------------------------------------------------------
  // Extending arrays ------------------------------------------------------------
  //------------------------------------------------------------------------------

  exports.cons = function (e) {
    return function (l) {
      return [e].concat(l);
    };
  };

  //------------------------------------------------------------------------------
  // Non-indexed reads -----------------------------------------------------------
  //------------------------------------------------------------------------------

  exports["uncons'"] = function (empty) {
    return function (next) {
      return function (xs) {
        return xs.length === 0 ? empty({}) : next(xs[0])(xs.slice(1));
      };
    };
  };

  //------------------------------------------------------------------------------
  // Indexed operations ----------------------------------------------------------
  //------------------------------------------------------------------------------

  exports.indexImpl = function (just) {
    return function (nothing) {
      return function (xs) {
        return function (i) {
          return i < 0 || i >= xs.length ? nothing :  just(xs[i]);
        };
      };
    };
  };

  exports.concat = function (xss) {
    var result = [];
    for (var i = 0, l = xss.length; i < l; i++) {
      var xs = xss[i];
      for (var j = 0, m = xs.length; j < m; j++) {
        result.push(xs[j]);
      }
    }
    return result;
  };

  exports.filter = function (f) {
    return function (xs) {
      return xs.filter(f);
    };
  };

  //------------------------------------------------------------------------------
  // Sorting ---------------------------------------------------------------------
  //------------------------------------------------------------------------------

  exports.sortImpl = function (f) {
    return function (l) {
      /* jshint maxparams: 2 */
      return l.slice().sort(function (x, y) {
        return f(x)(y);
      });
    };
  };

  //------------------------------------------------------------------------------
  // Subarrays -------------------------------------------------------------------
  //------------------------------------------------------------------------------

  exports.slice = function (s) {
    return function (e) {
      return function (l) {
        return l.slice(s, e);
      };
    };
  };

  //------------------------------------------------------------------------------
  // Zipping ---------------------------------------------------------------------
  //------------------------------------------------------------------------------

  exports.zipWith = function (f) {
    return function (xs) {
      return function (ys) {
        var l = xs.length < ys.length ? xs.length : ys.length;
        var result = new Array(l);
        for (var i = 0; i < l; i++) {
          result[i] = f(xs[i])(ys[i]);
        }
        return result;
      };
    };
  };
 
})(PS["Data.Array"] = PS["Data.Array"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Data.Array"];
  var Prelude = PS["Prelude"];
  var Control_Alt = PS["Control.Alt"];
  var Control_Alternative = PS["Control.Alternative"];
  var Control_Lazy = PS["Control.Lazy"];
  var Control_MonadPlus = PS["Control.MonadPlus"];
  var Control_Plus = PS["Control.Plus"];
  var Data_Foldable = PS["Data.Foldable"];
  var Data_Functor_Invariant = PS["Data.Functor.Invariant"];
  var Data_Maybe = PS["Data.Maybe"];
  var Data_Monoid = PS["Data.Monoid"];
  var Data_Traversable = PS["Data.Traversable"];
  var Data_Tuple = PS["Data.Tuple"];
  var Data_Maybe_Unsafe = PS["Data.Maybe.Unsafe"];     
  var $colon = $foreign.cons;   
  var zipWithA = function (__dict_Applicative_0) {
      return function (f) {
          return function (xs) {
              return function (ys) {
                  return Data_Traversable.sequence(Data_Traversable.traversableArray)(__dict_Applicative_0)($foreign.zipWith(f)(xs)(ys));
              };
          };
      };
  };
  var zip = $foreign.zipWith(Data_Tuple.Tuple.create);
  var sortBy = function (comp) {
      return function (xs) {
          var comp$prime = function (x) {
              return function (y) {
                  var _25 = comp(x)(y);
                  if (_25 instanceof Prelude.GT) {
                      return 1;
                  };
                  if (_25 instanceof Prelude.EQ) {
                      return 0;
                  };
                  if (_25 instanceof Prelude.LT) {
                      return -1;
                  };
                  throw new Error("Failed pattern match at Data.Array line 391, column 3 - line 396, column 1: " + [ _25.constructor.name ]);
              };
          };
          return $foreign.sortImpl(comp$prime)(xs);
      };
  };
  var sort = function (__dict_Ord_1) {
      return function (xs) {
          return sortBy(Prelude.compare(__dict_Ord_1))(xs);
      };
  };
  var index = $foreign.indexImpl(Data_Maybe.Just.create)(Data_Maybe.Nothing.value);
  var $bang$bang = index;
  var filterM = function (__dict_Monad_13) {
      return function (p) {
          return $foreign["uncons'"](function (_8) {
              return Prelude.pure(__dict_Monad_13["__superclass_Prelude.Applicative_0"]())([  ]);
          })(function (x) {
              return function (xs) {
                  return Prelude.bind(__dict_Monad_13["__superclass_Prelude.Bind_1"]())(p(x))(function (_4) {
                      return Prelude.bind(__dict_Monad_13["__superclass_Prelude.Bind_1"]())(filterM(__dict_Monad_13)(p)(xs))(function (_3) {
                          return Prelude["return"](__dict_Monad_13["__superclass_Prelude.Applicative_0"]())((function () {
                              if (_4) {
                                  return $colon(x)(_3);
                              };
                              if (!_4) {
                                  return _3;
                              };
                              throw new Error("Failed pattern match: " + [ _4.constructor.name ]);
                          })());
                      });
                  });
              };
          });
      };
  };
  exports["zip"] = zip;
  exports["zipWithA"] = zipWithA;
  exports["sortBy"] = sortBy;
  exports["sort"] = sort;
  exports["filterM"] = filterM;
  exports["index"] = index;
  exports["!!"] = $bang$bang;
  exports["zipWith"] = $foreign.zipWith;
  exports["filter"] = $foreign.filter;
  exports["length"] = $foreign.length;
  exports["replicate"] = $foreign.replicate;;
 
})(PS["Data.Array"] = PS["Data.Array"] || {});
(function(exports) {
  /* global exports */
  "use strict";

  exports._toChar = function (just) {
    return function (nothing) {
      return function (s) {
        return s.length === 1 ? just(s) : nothing;
      };
    };
  };

  exports.length = function (s) {
    return s.length;
  };

  exports.joinWith = function (s) {
    return function (xs) {
      return xs.join(s);
    };
  };
 
})(PS["Data.String"] = PS["Data.String"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Data.String"];
  var Prelude = PS["Prelude"];
  var Data_Char = PS["Data.Char"];
  var Data_Maybe = PS["Data.Maybe"];
  var Data_Monoid = PS["Data.Monoid"];
  var Data_String_Unsafe = PS["Data.String.Unsafe"];
  var toChar = $foreign._toChar(Data_Maybe.Just.create)(Data_Maybe.Nothing.value);
  exports["toChar"] = toChar;
  exports["joinWith"] = $foreign.joinWith;;
 
})(PS["Data.String"] = PS["Data.String"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var Proxy = (function () {
      function Proxy() {

      };
      Proxy.value = new Proxy();
      return Proxy;
  })();
  exports["Proxy"] = Proxy;;
 
})(PS["Type.Proxy"] = PS["Type.Proxy"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Data.Generic"];
  var Prelude = PS["Prelude"];
  var Data_Either = PS["Data.Either"];
  var Data_Maybe = PS["Data.Maybe"];
  var Data_Tuple = PS["Data.Tuple"];
  var Data_Traversable = PS["Data.Traversable"];
  var Data_Foldable = PS["Data.Foldable"];
  var Data_Array = PS["Data.Array"];
  var Data_String = PS["Data.String"];
  var Type_Proxy = PS["Type.Proxy"];     
  var SProd = (function () {
      function SProd(value0, value1) {
          this.value0 = value0;
          this.value1 = value1;
      };
      SProd.create = function (value0) {
          return function (value1) {
              return new SProd(value0, value1);
          };
      };
      return SProd;
  })();
  var SRecord = (function () {
      function SRecord(value0) {
          this.value0 = value0;
      };
      SRecord.create = function (value0) {
          return new SRecord(value0);
      };
      return SRecord;
  })();
  var SNumber = (function () {
      function SNumber(value0) {
          this.value0 = value0;
      };
      SNumber.create = function (value0) {
          return new SNumber(value0);
      };
      return SNumber;
  })();
  var SBoolean = (function () {
      function SBoolean(value0) {
          this.value0 = value0;
      };
      SBoolean.create = function (value0) {
          return new SBoolean(value0);
      };
      return SBoolean;
  })();
  var SInt = (function () {
      function SInt(value0) {
          this.value0 = value0;
      };
      SInt.create = function (value0) {
          return new SInt(value0);
      };
      return SInt;
  })();
  var SString = (function () {
      function SString(value0) {
          this.value0 = value0;
      };
      SString.create = function (value0) {
          return new SString(value0);
      };
      return SString;
  })();
  var SChar = (function () {
      function SChar(value0) {
          this.value0 = value0;
      };
      SChar.create = function (value0) {
          return new SChar(value0);
      };
      return SChar;
  })();
  var SArray = (function () {
      function SArray(value0) {
          this.value0 = value0;
      };
      SArray.create = function (value0) {
          return new SArray(value0);
      };
      return SArray;
  })();
  var SigProd = (function () {
      function SigProd(value0, value1) {
          this.value0 = value0;
          this.value1 = value1;
      };
      SigProd.create = function (value0) {
          return function (value1) {
              return new SigProd(value0, value1);
          };
      };
      return SigProd;
  })();
  var SigRecord = (function () {
      function SigRecord(value0) {
          this.value0 = value0;
      };
      SigRecord.create = function (value0) {
          return new SigRecord(value0);
      };
      return SigRecord;
  })();
  var SigNumber = (function () {
      function SigNumber() {

      };
      SigNumber.value = new SigNumber();
      return SigNumber;
  })();
  var SigBoolean = (function () {
      function SigBoolean() {

      };
      SigBoolean.value = new SigBoolean();
      return SigBoolean;
  })();
  var SigInt = (function () {
      function SigInt() {

      };
      SigInt.value = new SigInt();
      return SigInt;
  })();
  var SigString = (function () {
      function SigString() {

      };
      SigString.value = new SigString();
      return SigString;
  })();
  var SigChar = (function () {
      function SigChar() {

      };
      SigChar.value = new SigChar();
      return SigChar;
  })();
  var SigArray = (function () {
      function SigArray(value0) {
          this.value0 = value0;
      };
      SigArray.create = function (value0) {
          return new SigArray(value0);
      };
      return SigArray;
  })();
  var Generic = function (fromSpine, toSignature, toSpine) {
      this.fromSpine = fromSpine;
      this.toSignature = toSignature;
      this.toSpine = toSpine;
  };
  var toSpine = function (dict) {
      return dict.toSpine;
  };
  var toSignature = function (dict) {
      return dict.toSignature;
  };
  var genericUnit = new Generic(function (_24) {
      if (_24 instanceof SProd && (_24.value0 === "Prelude.Unit" && _24.value1.length === 0)) {
          return new Data_Maybe.Just(Prelude.unit);
      };
      return Data_Maybe.Nothing.value;
  }, function (x) {
      return new SigProd("Prelude.Unit", [ {
          sigConstructor: "Prelude.Unit", 
          sigValues: [  ]
      } ]);
  }, function (x) {
      return new SProd("Prelude.Unit", [  ]);
  });
  var genericString = new Generic(function (_10) {
      if (_10 instanceof SString) {
          return new Data_Maybe.Just(_10.value0);
      };
      return Data_Maybe.Nothing.value;
  }, function (_9) {
      return SigString.value;
  }, function (x) {
      return new SString(x);
  });
  var genericNumber = new Generic(function (_6) {
      if (_6 instanceof SNumber) {
          return new Data_Maybe.Just(_6.value0);
      };
      return Data_Maybe.Nothing.value;
  }, function (_5) {
      return SigNumber.value;
  }, function (x) {
      return new SNumber(x);
  });
  var genericInt = new Generic(function (_8) {
      if (_8 instanceof SInt) {
          return new Data_Maybe.Just(_8.value0);
      };
      return Data_Maybe.Nothing.value;
  }, function (_7) {
      return SigInt.value;
  }, function (x) {
      return new SInt(x);
  });
  var fromSpine = function (dict) {
      return dict.fromSpine;
  };
  var anyProxy = Type_Proxy.Proxy.value;
  var genericArray = function (__dict_Generic_3) {
      return new Generic(function (_15) {
          if (_15 instanceof SArray) {
              return Data_Traversable.traverse(Data_Traversable.traversableArray)(Data_Maybe.applicativeMaybe)(function (_177) {
                  return fromSpine(__dict_Generic_3)((function (_1) {
                      return _1(Prelude.unit);
                  })(_177));
              })(_15.value0);
          };
          return Data_Maybe.Nothing.value;
      }, function (x) {
          var lowerProxy = function (_16) {
              return anyProxy;
          };
          return new SigArray(function (unit) {
              return toSignature(__dict_Generic_3)(lowerProxy(x));
          });
      }, function (xs) {
          return new SArray(Prelude["<$>"](Prelude.functorArray)(function (x) {
              return function (y) {
                  return toSpine(__dict_Generic_3)(x);
              };
          })(xs));
      });
  };
  var genericMaybe = function (__dict_Generic_6) {
      return new Generic(function (_22) {
          if (_22 instanceof SProd && (_22.value0 === "Data.Maybe.Just" && _22.value1.length === 1)) {
              return Prelude["<$>"](Data_Maybe.functorMaybe)(Data_Maybe.Just.create)(fromSpine(__dict_Generic_6)(_22.value1[0](Prelude.unit)));
          };
          if (_22 instanceof SProd && (_22.value0 === "Data.Maybe.Nothing" && _22.value1.length === 0)) {
              return Prelude["return"](Data_Maybe.applicativeMaybe)(Data_Maybe.Nothing.value);
          };
          return Data_Maybe.Nothing.value;
      }, function (x) {
          var mbProxy = function (_23) {
              return anyProxy;
          };
          return new SigProd("Data.Maybe.Maybe", [ {
              sigConstructor: "Data.Maybe.Just", 
              sigValues: [ function (u) {
                  return toSignature(__dict_Generic_6)(mbProxy(x));
              } ]
          }, {
              sigConstructor: "Data.Maybe.Nothing", 
              sigValues: [  ]
          } ]);
      }, function (_21) {
          if (_21 instanceof Data_Maybe.Just) {
              return new SProd("Data.Maybe.Just", [ function (u) {
                  return toSpine(__dict_Generic_6)(_21.value0);
              } ]);
          };
          if (_21 instanceof Data_Maybe.Nothing) {
              return new SProd("Data.Maybe.Nothing", [  ]);
          };
          throw new Error("Failed pattern match at Data.Generic line 136, column 1 - line 153, column 1: " + [ _21.constructor.name ]);
      });
  };
  var genericTuple = function (__dict_Generic_7) {
      return function (__dict_Generic_8) {
          return new Generic(function (_18) {
              if (_18 instanceof SProd && (_18.value0 === "Data.Tuple.Tuple" && _18.value1.length === 2)) {
                  return Prelude["<*>"](Data_Maybe.applyMaybe)(Prelude["<$>"](Data_Maybe.functorMaybe)(Data_Tuple.Tuple.create)(fromSpine(__dict_Generic_7)(_18.value1[0](Prelude.unit))))(fromSpine(__dict_Generic_8)(_18.value1[1](Prelude.unit)));
              };
              return Data_Maybe.Nothing.value;
          }, function (x) {
              var sndProxy = function (_20) {
                  return anyProxy;
              };
              var fstProxy = function (_19) {
                  return anyProxy;
              };
              return new SigProd("Data.Tuple.Tuple", [ {
                  sigConstructor: "Data.Tuple.Tuple", 
                  sigValues: [ function (u) {
                      return toSignature(__dict_Generic_7)(fstProxy(x));
                  }, function (u) {
                      return toSignature(__dict_Generic_8)(sndProxy(x));
                  } ]
              } ]);
          }, function (_17) {
              return new SProd("Data.Tuple.Tuple", [ function (u) {
                  return toSpine(__dict_Generic_7)(_17.value0);
              }, function (u) {
                  return toSpine(__dict_Generic_8)(_17.value1);
              } ]);
          });
      };
  };
  exports["SigProd"] = SigProd;
  exports["SigRecord"] = SigRecord;
  exports["SigNumber"] = SigNumber;
  exports["SigBoolean"] = SigBoolean;
  exports["SigInt"] = SigInt;
  exports["SigString"] = SigString;
  exports["SigChar"] = SigChar;
  exports["SigArray"] = SigArray;
  exports["SProd"] = SProd;
  exports["SRecord"] = SRecord;
  exports["SNumber"] = SNumber;
  exports["SBoolean"] = SBoolean;
  exports["SInt"] = SInt;
  exports["SString"] = SString;
  exports["SChar"] = SChar;
  exports["SArray"] = SArray;
  exports["Generic"] = Generic;
  exports["fromSpine"] = fromSpine;
  exports["toSignature"] = toSignature;
  exports["toSpine"] = toSpine;
  exports["genericNumber"] = genericNumber;
  exports["genericInt"] = genericInt;
  exports["genericString"] = genericString;
  exports["genericArray"] = genericArray;
  exports["genericTuple"] = genericTuple;
  exports["genericMaybe"] = genericMaybe;
  exports["genericUnit"] = genericUnit;;
 
})(PS["Data.Generic"] = PS["Data.Generic"] || {});
(function(exports) {
  /* globals exports */
  "use strict";     

  exports.isNaN = isNaN;                          
 
})(PS["Global"] = PS["Global"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Global"];
  exports["isNaN"] = $foreign.isNaN;;
 
})(PS["Global"] = PS["Global"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Data.Date"];
  var Prelude = PS["Prelude"];
  var Control_Monad_Eff = PS["Control.Monad.Eff"];
  var Data_Enum = PS["Data.Enum"];
  var Data_Function = PS["Data.Function"];
  var Data_Maybe = PS["Data.Maybe"];
  var Data_Time = PS["Data.Time"];
  var Data_Generic = PS["Data.Generic"];
  var Global = PS["Global"];
  var DateTime = function (x) {
      return x;
  };
  var toEpochMilliseconds = function (_1) {
      return $foreign.jsDateMethod("getTime", _1);
  }; 
  var now = $foreign.nowImpl(DateTime);
  var fromJSDate = function (d) {
      var _44 = Global.isNaN($foreign.jsDateMethod("getTime", d));
      if (_44) {
          return Data_Maybe.Nothing.value;
      };
      if (!_44) {
          return new Data_Maybe.Just(d);
      };
      throw new Error("Failed pattern match at Data.Date line 58, column 1 - line 59, column 1: " + [ _44.constructor.name ]);
  };
  var fromStringStrict = function (s) {
      return Prelude[">>="](Data_Maybe.bindMaybe)($foreign.strictJsDate(Data_Maybe.Just.create, Data_Maybe.Nothing.value, s))(fromJSDate);
  };
  var fromEpochMilliseconds = function (_65) {
      return fromJSDate($foreign.jsDateConstructor(_65));
  };
  var genericDate = new Data_Generic.Generic(function (_8) {
      if (_8 instanceof Data_Generic.SProd && (_8.value0 === "Data.Date.Date" && _8.value1.length === 1)) {
          return Data_Maybe.maybe(Data_Maybe.Nothing.value)(function (_66) {
              return fromEpochMilliseconds(Data_Time.Milliseconds(_66));
          })(Data_Generic.fromSpine(Data_Generic.genericNumber)(_8.value1[0](Prelude.unit)));
      };
      return Data_Maybe.Nothing.value;
  }, function (_7) {
      return new Data_Generic.SigProd("Data.Date.Date", [ {
          sigConstructor: "Data.Date.Date", 
          sigValues: [ Prelude["const"](Data_Generic.SigNumber.value) ]
      } ]);
  }, function (d) {
      var _49 = toEpochMilliseconds(d);
      return new Data_Generic.SProd("Data.Date.Date", [ function (u) {
          return new Data_Generic.SNumber(_49);
      } ]);
  });
  exports["now"] = now;
  exports["fromStringStrict"] = fromStringStrict;
  exports["toEpochMilliseconds"] = toEpochMilliseconds;
  exports["fromEpochMilliseconds"] = fromEpochMilliseconds;
  exports["fromJSDate"] = fromJSDate;
  exports["genericDate"] = genericDate;;
 
})(PS["Data.Date"] = PS["Data.Date"] || {});
(function(exports) {
  /* global exports */
  "use strict";

  // module Data.Foreign

  // jshint maxparams: 3
  exports.parseJSONImpl = function (left, right, str) {
    try {
      return right(JSON.parse(str));
    } catch (e) {
      return left(e.toString());
    }
  };

  // jshint maxparams: 1
  exports.toForeign = function (value) {
    return value;
  };

  exports.unsafeFromForeign = function (value) {
    return value;
  };

  exports.typeOf = function (value) {
    return typeof value;
  };

  exports.tagOf = function (value) {
    return Object.prototype.toString.call(value).slice(8, -1);
  };

  exports.isNull = function (value) {
    return value === null;
  };

  exports.isUndefined = function (value) {
    return value === undefined;
  };

  exports.isArray = Array.isArray || function (value) {
    return Object.prototype.toString.call(value) === "[object Array]";
  };
 
})(PS["Data.Foreign"] = PS["Data.Foreign"] || {});
(function(exports) {
  /* global exports */
  "use strict";

  // module Data.Int

  exports.fromNumberImpl = function (just) {
    return function (nothing) {
      return function (n) {
        /* jshint bitwise: false */
        return (n | 0) === n ? just(n) : nothing;
      };
    };
  };

  exports.toNumber = function (n) {
    return n;
  };
 
})(PS["Data.Int"] = PS["Data.Int"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Data.Int"];
  var Prelude = PS["Prelude"];
  var Data_Int_Bits = PS["Data.Int.Bits"];
  var Data_Maybe = PS["Data.Maybe"];
  var Data_Maybe_Unsafe = PS["Data.Maybe.Unsafe"];
  var $$Math = PS["Math"];                                                                   
  var fromNumber = $foreign.fromNumberImpl(Data_Maybe.Just.create)(Data_Maybe.Nothing.value);
  exports["fromNumber"] = fromNumber;
  exports["toNumber"] = $foreign.toNumber;;
 
})(PS["Data.Int"] = PS["Data.Int"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Data.Foreign"];
  var Prelude = PS["Prelude"];
  var Data_Either = PS["Data.Either"];
  var Data_Maybe = PS["Data.Maybe"];
  var Data_Function = PS["Data.Function"];
  var Data_Int = PS["Data.Int"];
  var Data_String = PS["Data.String"];     
  var TypeMismatch = (function () {
      function TypeMismatch(value0, value1) {
          this.value0 = value0;
          this.value1 = value1;
      };
      TypeMismatch.create = function (value0) {
          return function (value1) {
              return new TypeMismatch(value0, value1);
          };
      };
      return TypeMismatch;
  })();
  var ErrorAtIndex = (function () {
      function ErrorAtIndex(value0, value1) {
          this.value0 = value0;
          this.value1 = value1;
      };
      ErrorAtIndex.create = function (value0) {
          return function (value1) {
              return new ErrorAtIndex(value0, value1);
          };
      };
      return ErrorAtIndex;
  })();
  var ErrorAtProperty = (function () {
      function ErrorAtProperty(value0, value1) {
          this.value0 = value0;
          this.value1 = value1;
      };
      ErrorAtProperty.create = function (value0) {
          return function (value1) {
              return new ErrorAtProperty(value0, value1);
          };
      };
      return ErrorAtProperty;
  })();
  var JSONError = (function () {
      function JSONError(value0) {
          this.value0 = value0;
      };
      JSONError.create = function (value0) {
          return new JSONError(value0);
      };
      return JSONError;
  })();
  var unsafeReadTagged = function (tag) {
      return function (value) {
          if (Prelude["=="](Prelude.eqString)($foreign.tagOf(value))(tag)) {
              return Prelude.pure(Data_Either.applicativeEither)($foreign.unsafeFromForeign(value));
          };
          return new Data_Either.Left(new TypeMismatch(tag, $foreign.tagOf(value)));
      };
  };
  var showForeignError = new Prelude.Show(function (_0) {
      if (_0 instanceof TypeMismatch) {
          return "Type mismatch: expected " + (_0.value0 + (", found " + _0.value1));
      };
      if (_0 instanceof ErrorAtIndex) {
          return "Error at array index " + (Prelude.show(Prelude.showInt)(_0.value0) + (": " + Prelude.show(showForeignError)(_0.value1)));
      };
      if (_0 instanceof ErrorAtProperty) {
          return "Error at property " + (Prelude.show(Prelude.showString)(_0.value0) + (": " + Prelude.show(showForeignError)(_0.value1)));
      };
      if (_0 instanceof JSONError) {
          return "JSON error: " + _0.value0;
      };
      throw new Error("Failed pattern match: " + [ _0.constructor.name ]);
  });
  var readString = unsafeReadTagged("String");
  var readNumber = unsafeReadTagged("Number");
  var readInt = function (value) {
      var error = Data_Either.Left.create(new TypeMismatch("Int", $foreign.tagOf(value)));
      var fromNumber = function (_30) {
          return Data_Maybe.maybe(error)(Prelude.pure(Data_Either.applicativeEither))(Data_Int.fromNumber(_30));
      };
      return Data_Either.either(Prelude["const"](error))(fromNumber)(readNumber(value));
  };
  var readChar = function (value) {
      var error = Data_Either.Left.create(new TypeMismatch("Char", $foreign.tagOf(value)));
      var fromString = function (_31) {
          return Data_Maybe.maybe(error)(Prelude.pure(Data_Either.applicativeEither))(Data_String.toChar(_31));
      };
      return Data_Either.either(Prelude["const"](error))(fromString)(readString(value));
  };
  var readBoolean = unsafeReadTagged("Boolean");
  var readArray = function (value) {
      if ($foreign.isArray(value)) {
          return Prelude.pure(Data_Either.applicativeEither)($foreign.unsafeFromForeign(value));
      };
      return new Data_Either.Left(new TypeMismatch("array", $foreign.tagOf(value)));
  };
  var parseJSON = function (json) {
      return $foreign.parseJSONImpl(function (_32) {
          return Data_Either.Left.create(JSONError.create(_32));
      }, Data_Either.Right.create, json);
  };
  exports["TypeMismatch"] = TypeMismatch;
  exports["ErrorAtIndex"] = ErrorAtIndex;
  exports["ErrorAtProperty"] = ErrorAtProperty;
  exports["JSONError"] = JSONError;
  exports["readArray"] = readArray;
  exports["readInt"] = readInt;
  exports["readNumber"] = readNumber;
  exports["readBoolean"] = readBoolean;
  exports["readChar"] = readChar;
  exports["readString"] = readString;
  exports["unsafeReadTagged"] = unsafeReadTagged;
  exports["parseJSON"] = parseJSON;
  exports["showForeignError"] = showForeignError;
  exports["isUndefined"] = $foreign.isUndefined;
  exports["isNull"] = $foreign.isNull;
  exports["typeOf"] = $foreign.typeOf;
  exports["unsafeFromForeign"] = $foreign.unsafeFromForeign;
  exports["toForeign"] = $foreign.toForeign;;
 
})(PS["Data.Foreign"] = PS["Data.Foreign"] || {});
(function(exports) {
  /* global exports */
  "use strict";

  // module Data.Foreign.Index

  // jshint maxparams: 4
  exports.unsafeReadPropImpl = function (f, s, key, value) {
    return value == null ? f : s(value[key]);
  };

  // jshint maxparams: 2
  exports.unsafeHasOwnProperty = function (prop, value) {
    return Object.prototype.hasOwnProperty.call(value, prop);
  };

  exports.unsafeHasProperty = function (prop, value) {
    return prop in value;
  };
 
})(PS["Data.Foreign.Index"] = PS["Data.Foreign.Index"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Data.Foreign.Index"];
  var Prelude = PS["Prelude"];
  var Data_Either = PS["Data.Either"];
  var Data_Foreign = PS["Data.Foreign"];
  var Data_Function = PS["Data.Function"];
  var Data_Int = PS["Data.Int"];     
  var Index = function (errorAt, hasOwnProperty, hasProperty, ix) {
      this.errorAt = errorAt;
      this.hasOwnProperty = hasOwnProperty;
      this.hasProperty = hasProperty;
      this.ix = ix;
  };
  var unsafeReadProp = function (k) {
      return function (value) {
          return $foreign.unsafeReadPropImpl(new Data_Either.Left(new Data_Foreign.TypeMismatch("object", Data_Foreign.typeOf(value))), Prelude.pure(Data_Either.applicativeEither), k, value);
      };
  };
  var prop = unsafeReadProp;
  var ix = function (dict) {
      return dict.ix;
  };
  var $bang = function (__dict_Index_0) {
      return ix(__dict_Index_0);
  };                         
  var hasPropertyImpl = function (p) {
      return function (value) {
          if (Data_Foreign.isNull(value)) {
              return false;
          };
          if (Data_Foreign.isUndefined(value)) {
              return false;
          };
          if (Prelude["=="](Prelude.eqString)(Data_Foreign.typeOf(value))("object") || Prelude["=="](Prelude.eqString)(Data_Foreign.typeOf(value))("function")) {
              return $foreign.unsafeHasProperty(p, value);
          };
          return false;
      };
  };
  var hasProperty = function (dict) {
      return dict.hasProperty;
  };
  var hasOwnPropertyImpl = function (p) {
      return function (value) {
          if (Data_Foreign.isNull(value)) {
              return false;
          };
          if (Data_Foreign.isUndefined(value)) {
              return false;
          };
          if (Prelude["=="](Prelude.eqString)(Data_Foreign.typeOf(value))("object") || Prelude["=="](Prelude.eqString)(Data_Foreign.typeOf(value))("function")) {
              return $foreign.unsafeHasOwnProperty(p, value);
          };
          return false;
      };
  };                                                                                                                   
  var indexString = new Index(Data_Foreign.ErrorAtProperty.create, hasOwnPropertyImpl, hasPropertyImpl, Prelude.flip(prop));
  var hasOwnProperty = function (dict) {
      return dict.hasOwnProperty;
  };
  var errorAt = function (dict) {
      return dict.errorAt;
  };
  exports["Index"] = Index;
  exports["errorAt"] = errorAt;
  exports["hasOwnProperty"] = hasOwnProperty;
  exports["hasProperty"] = hasProperty;
  exports["!"] = $bang;
  exports["ix"] = ix;
  exports["prop"] = prop;
  exports["indexString"] = indexString;;
 
})(PS["Data.Foreign.Index"] = PS["Data.Foreign.Index"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var Prelude = PS["Prelude"];
  var Data_Array = PS["Data.Array"];
  var Data_Either = PS["Data.Either"];
  var Data_Foreign = PS["Data.Foreign"];
  var Data_Foreign_Index = PS["Data.Foreign.Index"];
  var Data_Foreign_Null = PS["Data.Foreign.Null"];
  var Data_Foreign_NullOrUndefined = PS["Data.Foreign.NullOrUndefined"];
  var Data_Foreign_Undefined = PS["Data.Foreign.Undefined"];
  var Data_Int = PS["Data.Int"];
  var Data_Traversable = PS["Data.Traversable"];     
  var IsForeign = function (read) {
      this.read = read;
  };
  var stringIsForeign = new IsForeign(Data_Foreign.readString);
  var read = function (dict) {
      return dict.read;
  };
  var readWith = function (__dict_IsForeign_1) {
      return function (f) {
          return function (value) {
              return Data_Either.either(function (_0) {
                  return Data_Either.Left.create(f(_0));
              })(Data_Either.Right.create)(read(__dict_IsForeign_1)(value));
          };
      };
  };
  var readProp = function (__dict_IsForeign_2) {
      return function (__dict_Index_3) {
          return function (prop) {
              return function (value) {
                  return Prelude[">>="](Data_Either.bindEither)(Data_Foreign_Index["!"](__dict_Index_3)(value)(prop))(readWith(__dict_IsForeign_2)(Data_Foreign_Index.errorAt(__dict_Index_3)(prop)));
              };
          };
      };
  };
  var intIsForeign = new IsForeign(Data_Foreign.readInt);
  var foreignIsForeign = new IsForeign(function (f) {
      return Prelude["return"](Data_Either.applicativeEither)(f);
  });
  exports["IsForeign"] = IsForeign;
  exports["readProp"] = readProp;
  exports["readWith"] = readWith;
  exports["read"] = read;
  exports["foreignIsForeign"] = foreignIsForeign;
  exports["stringIsForeign"] = stringIsForeign;
  exports["intIsForeign"] = intIsForeign;;
 
})(PS["Data.Foreign.Class"] = PS["Data.Foreign.Class"] || {});
(function(exports) {
  "use strict";

  // module Database.AnyDB
  /* eslint-env node*/
  /* eslint "no-underscore-dangle": 0 */

  exports.connect_ = function connect_(conString) {
    return function(success, error) {
      var anyDB = require("any-db");
      anyDB.createConnection(conString, function(err, con) {
        if (err) {
          error(err);
        } else {
          success(con);
        }
      });
    };
  };

  exports.runQuery_ = function runQuery_(queryStr) {
    return function(con) {
      return function(success, error) {
        con.query(queryStr, function(err, result) {
          if (err) {
            error(err);
          } else {
            success(result.rows);
          }
        });
      };
    };
  };

  exports.runQuery = function runQuery(queryStr) {
    return function(params) {
      return function(con) {
        return function(success, error) {
          con.query(queryStr, params, function(err, result) {
            if (err) {return error(err); }
            success(result.rows);
          });
        };
      };
    };
  };

  exports.close = function close(con) {
    return function() {
      con.end();
    };
  };
 
})(PS["Database.AnyDB"] = PS["Database.AnyDB"] || {});
(function(exports) {
  "use strict";

  // module Database.AnyDB.SqlValue
  /* eslint-env node*/

  exports.unsafeToSqlValue = function unsafeToSqlValue(x) {
    return x;
  };                          
 
})(PS["Database.AnyDB.SqlValue"] = PS["Database.AnyDB.SqlValue"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Database.AnyDB.SqlValue"];
  var Prelude = PS["Prelude"];
  var Data_Int = PS["Data.Int"];
  var Data_Maybe = PS["Data.Maybe"];
  var Data_Date = PS["Data.Date"];
  var Node_Buffer = PS["Node.Buffer"];     
  var IsSqlValue = function (toSql) {
      this.toSql = toSql;
  };
  var toSql = function (dict) {
      return dict.toSql;
  };
  var isSqlValueString = new IsSqlValue($foreign.unsafeToSqlValue);
  var isSqlValueInt = new IsSqlValue(function (_3) {
      return $foreign.unsafeToSqlValue(Data_Int.toNumber(_3));
  });
  var isSqlValueDate = new IsSqlValue($foreign.unsafeToSqlValue);
  var isSqlValueBuffer = new IsSqlValue($foreign.unsafeToSqlValue);
  exports["IsSqlValue"] = IsSqlValue;
  exports["toSql"] = toSql;
  exports["isSqlValueString"] = isSqlValueString;
  exports["isSqlValueInt"] = isSqlValueInt;
  exports["isSqlValueBuffer"] = isSqlValueBuffer;
  exports["isSqlValueDate"] = isSqlValueDate;;
 
})(PS["Database.AnyDB.SqlValue"] = PS["Database.AnyDB.SqlValue"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Database.AnyDB"];
  var Prelude = PS["Prelude"];
  var Control_Alt = PS["Control.Alt"];
  var Control_Monad_Eff = PS["Control.Monad.Eff"];
  var Control_Monad_Trans = PS["Control.Monad.Trans"];
  var Data_Either = PS["Data.Either"];
  var Data_Array = PS["Data.Array"];
  var Data_Foreign = PS["Data.Foreign"];
  var Data_Foreign_Class = PS["Data.Foreign.Class"];
  var Data_Maybe = PS["Data.Maybe"];
  var Control_Monad_Aff = PS["Control.Monad.Aff"];
  var Control_Monad_Eff_Class = PS["Control.Monad.Eff.Class"];
  var Control_Monad_Eff_Exception = PS["Control.Monad.Eff.Exception"];
  var Control_Monad_Error_Class = PS["Control.Monad.Error.Class"];
  var Data_Traversable = PS["Data.Traversable"];
  var Database_AnyDB_SqlValue = PS["Database.AnyDB.SqlValue"];     
  var Query = function (x) {
      return x;
  };
  var Postgres = (function () {
      function Postgres(value0) {
          this.value0 = value0;
      };
      Postgres.create = function (value0) {
          return new Postgres(value0);
      };
      return Postgres;
  })();
  var Sqlite3 = (function () {
      function Sqlite3(value0) {
          this.value0 = value0;
      };
      Sqlite3.create = function (value0) {
          return new Sqlite3(value0);
      };
      return Sqlite3;
  })();
  var mkConnectionString = function (_7) {
      if (_7 instanceof Postgres) {
          return "postgres://" + (_7.value0.user + (":" + (_7.value0.password + ("@" + (_7.value0.host + (":" + (Prelude.show(Prelude.showInt)(_7.value0.port) + ("/" + _7.value0.db))))))));
      };
      if (_7 instanceof Sqlite3) {
          return "sqlite3://" + (function () {
              if (_7.value0.memory) {
                  return ":memory:";
              };
              if (!_7.value0.memory) {
                  return _7.value0.filename;
              };
              throw new Error("Failed pattern match at Database.AnyDB line 64, column 1 - line 65, column 1: " + [ _7.value0.memory.constructor.name ]);
          })();
      };
      throw new Error("Failed pattern match at Database.AnyDB line 64, column 1 - line 65, column 1: " + [ _7.constructor.name ]);
  };
  var liftError = function (err) {
      return Control_Monad_Error_Class.throwError(Control_Monad_Aff.monadErrorAff)(Control_Monad_Eff_Exception.error(Prelude.show(Data_Foreign.showForeignError)(err)));
  };
  var query = function (__dict_IsForeign_1) {
      return function (_10) {
          return function (params) {
              return function (con) {
                  return Prelude.bind(Control_Monad_Aff.bindAff)($foreign.runQuery(_10)(params)(con))(function (_0) {
                      return Data_Either.either(liftError)(Prelude.pure(Control_Monad_Aff.applicativeAff))(Data_Traversable.sequence(Data_Traversable.traversableArray)(Data_Either.applicativeEither)(Prelude["<$>"](Prelude.functorArray)(Data_Foreign_Class.read(__dict_IsForeign_1))(_0)));
                  });
              };
          };
      };
  };
  var queryOne = function (__dict_IsForeign_2) {
      return function (_12) {
          return function (params) {
              return function (con) {
                  return Prelude.bind(Control_Monad_Aff.bindAff)($foreign.runQuery(_12)(params)(con))(function (_2) {
                      return Data_Maybe.maybe(Prelude.pure(Control_Monad_Aff.applicativeAff)(Data_Maybe.Nothing.value))(Data_Either.either(liftError)(function (_53) {
                          return Prelude.pure(Control_Monad_Aff.applicativeAff)(Data_Maybe.Just.create(_53));
                      }))(Prelude["<$>"](Data_Maybe.functorMaybe)(Data_Foreign_Class.read(__dict_IsForeign_2))(Data_Array["!!"](_2)(0)));
                  });
              };
          };
      };
  };
  var queryOne_ = function (__dict_IsForeign_3) {
      return function (_13) {
          return function (con) {
              return Prelude.bind(Control_Monad_Aff.bindAff)($foreign.runQuery_(_13)(con))(function (_3) {
                  return Data_Maybe.maybe(Prelude.pure(Control_Monad_Aff.applicativeAff)(Data_Maybe.Nothing.value))(Data_Either.either(liftError)(function (_54) {
                      return Prelude.pure(Control_Monad_Aff.applicativeAff)(Data_Maybe.Just.create(_54));
                  }))(Prelude["<$>"](Data_Maybe.functorMaybe)(Data_Foreign_Class.read(__dict_IsForeign_3))(Data_Array["!!"](_3)(0)));
              });
          };
      };
  };
  var query_ = function (__dict_IsForeign_5) {
      return function (_11) {
          return function (con) {
              return Prelude.bind(Control_Monad_Aff.bindAff)($foreign.runQuery_(_11)(con))(function (_1) {
                  return Data_Either.either(liftError)(Prelude.pure(Control_Monad_Aff.applicativeAff))(Data_Traversable.sequence(Data_Traversable.traversableArray)(Data_Either.applicativeEither)(Prelude["<$>"](Prelude.functorArray)(Data_Foreign_Class.read(__dict_IsForeign_5))(_1)));
              });
          };
      };
  };
  var execute_ = function (_9) {
      return function (con) {
          return Prelude["void"](Control_Monad_Aff.functorAff)($foreign.runQuery_(_9)(con));
      };
  };
  var execute = function (_8) {
      return function (params) {
          return function (con) {
              return Prelude["void"](Control_Monad_Aff.functorAff)($foreign.runQuery(_8)(params)(con));
          };
      };
  }; 
  var connect = function (_56) {
      return $foreign.connect_(mkConnectionString(_56));
  };
  var withConnection = function (info) {
      return function (p) {
          return Prelude.bind(Control_Monad_Aff.bindAff)(connect(info))(function (_6) {
              return Control_Monad_Aff["finally"](p(_6))(Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)($foreign.close(_6)));
          });
      };
  };
  exports["Postgres"] = Postgres;
  exports["Sqlite3"] = Sqlite3;
  exports["Query"] = Query;
  exports["withConnection"] = withConnection;
  exports["queryOne_"] = queryOne_;
  exports["queryOne"] = queryOne;
  exports["query_"] = query_;
  exports["query"] = query;
  exports["execute_"] = execute_;
  exports["execute"] = execute;
  exports["connect"] = connect;
  exports["mkConnectionString"] = mkConnectionString;;
 
})(PS["Database.AnyDB"] = PS["Database.AnyDB"] || {});
(function(exports) {
  /* global exports */
  "use strict";

  exports._copyEff = function (m) {
    return function () {
      var r = {};
      for (var k in m) {
        if (m.hasOwnProperty(k)) {
          r[k] = m[k];
        }
      }
      return r;
    };
  };

  exports.empty = {};

  exports.runST = function (f) {
    return f;
  };

  // jshint maxparams: 4
  exports._lookup = function (no, yes, k, m) {
    return k in m ? yes(m[k]) : no;
  };

  function _collect (f) {
    return function (m) {
      var r = [];
      for (var k in m) {
        if (m.hasOwnProperty(k)) {
          r.push(f(k)(m[k]));
        }
      }
      return r;
    };
  }

  exports._collect = _collect;

  exports.keys = Object.keys || _collect(function (k) {
    return function () { return k; };
  });
 
})(PS["Data.StrMap"] = PS["Data.StrMap"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var Prelude = PS["Prelude"];
  var Control_Alt = PS["Control.Alt"];
  var Control_Alternative = PS["Control.Alternative"];
  var Control_Lazy = PS["Control.Lazy"];
  var Control_MonadPlus = PS["Control.MonadPlus"];
  var Control_Plus = PS["Control.Plus"];
  var Data_Foldable = PS["Data.Foldable"];
  var Data_Maybe = PS["Data.Maybe"];
  var Data_Monoid = PS["Data.Monoid"];
  var Data_Traversable = PS["Data.Traversable"];
  var Data_Tuple = PS["Data.Tuple"];
  var Data_Unfoldable = PS["Data.Unfoldable"];     
  var Nil = (function () {
      function Nil() {

      };
      Nil.value = new Nil();
      return Nil;
  })();
  var Cons = (function () {
      function Cons(value0, value1) {
          this.value0 = value0;
          this.value1 = value1;
      };
      Cons.create = function (value0) {
          return function (value1) {
              return new Cons(value0, value1);
          };
      };
      return Cons;
  })();
  var toList = function (__dict_Foldable_2) {
      return Data_Foldable.foldr(__dict_Foldable_2)(Cons.create)(Nil.value);
  };
  var singleton = function (a) {
      return new Cons(a, Nil.value);
  };
  var foldableList = new Data_Foldable.Foldable(function (__dict_Monoid_16) {
      return function (f) {
          return Data_Foldable.foldl(foldableList)(function (acc) {
              return function (_319) {
                  return Prelude.append(__dict_Monoid_16["__superclass_Prelude.Semigroup_0"]())(acc)(f(_319));
              };
          })(Data_Monoid.mempty(__dict_Monoid_16));
      };
  }, (function () {
      var go = function (__copy_o) {
          return function (__copy_b) {
              return function (__copy__66) {
                  var o = __copy_o;
                  var b = __copy_b;
                  var _66 = __copy__66;
                  tco: while (true) {
                      var b_1 = b;
                      if (_66 instanceof Nil) {
                          return b_1;
                      };
                      if (_66 instanceof Cons) {
                          var __tco_o = o;
                          var __tco_b = o(b)(_66.value0);
                          var __tco__66 = _66.value1;
                          o = __tco_o;
                          b = __tco_b;
                          _66 = __tco__66;
                          continue tco;
                      };
                      throw new Error("Failed pattern match: " + [ o.constructor.name, b.constructor.name, _66.constructor.name ]);
                  };
              };
          };
      };
      return go;
  })(), function (o) {
      return function (b) {
          return function (_65) {
              if (_65 instanceof Nil) {
                  return b;
              };
              if (_65 instanceof Cons) {
                  return o(_65.value0)(Data_Foldable.foldr(foldableList)(o)(b)(_65.value1));
              };
              throw new Error("Failed pattern match: " + [ o.constructor.name, b.constructor.name, _65.constructor.name ]);
          };
      };
  });
  exports["Nil"] = Nil;
  exports["Cons"] = Cons;
  exports["singleton"] = singleton;
  exports["toList"] = toList;
  exports["foldableList"] = foldableList;;
 
})(PS["Data.List"] = PS["Data.List"] || {});
(function(exports) {
  /* global exports */
  "use strict";

  // module Data.StrMap.ST

  exports["new"] = function () {
    return {};
  };

  exports.poke = function (m) {
    return function (k) {
      return function (v) {
        return function () {
          m[k] = v;
          return m;
        };
      };
    };
  };
 
})(PS["Data.StrMap.ST"] = PS["Data.StrMap.ST"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Data.StrMap.ST"];
  var Prelude = PS["Prelude"];
  var Control_Monad_Eff = PS["Control.Monad.Eff"];
  var Control_Monad_ST = PS["Control.Monad.ST"];
  var Data_Maybe = PS["Data.Maybe"];
  exports["poke"] = $foreign.poke;
  exports["new"] = $foreign["new"];;
 
})(PS["Data.StrMap.ST"] = PS["Data.StrMap.ST"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Data.StrMap"];
  var Prelude = PS["Prelude"];
  var Control_Monad_Eff = PS["Control.Monad.Eff"];
  var Data_Foldable = PS["Data.Foldable"];
  var Data_Function = PS["Data.Function"];
  var Data_Maybe = PS["Data.Maybe"];
  var Data_Monoid = PS["Data.Monoid"];
  var Data_Traversable = PS["Data.Traversable"];
  var Data_Tuple = PS["Data.Tuple"];
  var Data_List = PS["Data.List"];
  var Control_Monad_ST = PS["Control.Monad.ST"];
  var Data_StrMap_ST = PS["Data.StrMap.ST"];
  var thawST = $foreign._copyEff;
  var pureST = function (f) {
      return Control_Monad_Eff.runPure($foreign.runST(f));
  };
  var mutate = function (f) {
      return function (m) {
          return pureST(function __do() {
              var _0 = thawST(m)();
              f(_0)();
              return Prelude["return"](Control_Monad_Eff.applicativeEff)(_0)();
          });
      };
  };                                                                                 
  var lookup = Data_Function.runFn4($foreign._lookup)(Data_Maybe.Nothing.value)(Data_Maybe.Just.create);
  var insert = function (k) {
      return function (v) {
          return mutate(function (s) {
              return Data_StrMap_ST.poke(s)(k)(v);
          });
      };
  };
  var fromList = function (l) {
      return pureST(function __do() {
          var _2 = Data_StrMap_ST["new"]();
          Data_Foldable.for_(Control_Monad_Eff.applicativeEff)(Data_List.foldableList)(l)(function (_7) {
              return Data_StrMap_ST.poke(_2)(_7.value0)(_7.value1);
          })();
          return Prelude["return"](Control_Monad_Eff.applicativeEff)(_2)();
      });
  };
  exports["thawST"] = thawST;
  exports["fromList"] = fromList;
  exports["lookup"] = lookup;
  exports["insert"] = insert;
  exports["keys"] = $foreign.keys;
  exports["empty"] = $foreign.empty;;
 
})(PS["Data.StrMap"] = PS["Data.StrMap"] || {});
(function(exports) {
  "use strict";

  //module App.Model.StrMap

  exports._collect = function _collect (f) {
    return function (m) {
      var r = [];
      for (var k in m) {
        if (m.hasOwnProperty(k)) {
          r.push(f(k)(m[k]));
        }
      }
      return r;
    };
  };
 
})(PS["App.Model.StrMap"] = PS["App.Model.StrMap"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["App.Model.StrMap"];
  var Prelude = PS["Prelude"];
  var Data_StrMap = PS["Data.StrMap"];
  var Data_Tuple = PS["Data.Tuple"];
  var Data_Foldable = PS["Data.Foldable"];
  var Data_Monoid = PS["Data.Monoid"];
  var Data_Array = PS["Data.Array"];     
  var toArray = $foreign._collect(Data_Tuple.Tuple.create);
  var fromArray = Data_Foldable.foldl(Data_Foldable.foldableArray)(function (acc) {
      return function (_0) {
          return Data_StrMap.insert(_0.value0)(_0.value1)(acc);
      };
  })(Data_StrMap.empty);
  exports["fromArray"] = fromArray;
  exports["toArray"] = toArray;;
 
})(PS["App.Model.StrMap"] = PS["App.Model.StrMap"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var Prelude = PS["Prelude"];
  var Data_String = PS["Data.String"];
  var Database_AnyDB = PS["Database.AnyDB"];
  var Data_Array = PS["Data.Array"];
  var Data_Tuple = PS["Data.Tuple"];
  var Data_StrMap = PS["Data.StrMap"];
  var App_Model_StrMap = PS["App.Model.StrMap"];     
  var Char = (function () {
      function Char() {

      };
      Char.value = new Char();
      return Char;
  })();
  var Integer = (function () {
      function Integer() {

      };
      Integer.value = new Integer();
      return Integer;
  })();
  var $$Date = (function () {
      function Date() {

      };
      Date.value = new Date();
      return Date;
  })();
  var Blob = (function () {
      function Blob() {

      };
      Blob.value = new Blob();
      return Blob;
  })();
  var PrimaryKey = (function () {
      function PrimaryKey() {

      };
      PrimaryKey.value = new PrimaryKey();
      return PrimaryKey;
  })();
  var Unique = (function () {
      function Unique() {

      };
      Unique.value = new Unique();
      return Unique;
  })();
  var ColumnDef = (function () {
      function ColumnDef(value0, value1) {
          this.value0 = value0;
          this.value1 = value1;
      };
      ColumnDef.create = function (value0) {
          return function (value1) {
              return new ColumnDef(value0, value1);
          };
      };
      return ColumnDef;
  })();
  var update = function (_6) {
      return function (i) {
          return function (fs) {
              return function (str) {
                  var sortedValues = Prelude.map(Prelude.functorArray)(Data_Tuple.snd)(Data_Array.sortBy(function (f1) {
                      return function (f2) {
                          return Prelude.compare(Prelude.ordString)(Data_Tuple.fst(f1))(Data_Tuple.fst(f2));
                      };
                  })(App_Model_StrMap.toArray(fs)));
                  var sortedKeys = Data_Array.sort(Prelude.ordString)(Data_StrMap.keys(fs));
                  var fields = Data_Array.zip(sortedKeys)(sortedValues);
                  return Database_AnyDB.Query("UPDATE " + (_6.name + (" SET " + (Data_String.joinWith(", ")(Prelude.map(Prelude.functorArray)(function (_1) {
                      return _1.value0 + (" = '" + (_1.value1 + "'"));
                  })(fields)) + (" WHERE id = " + (Prelude.show(Prelude.showInt)(i) + str))))));
              };
          };
      };
  }; 
  var selectStar = function (_8) {
      return function (s) {
          return Database_AnyDB.Query("SELECT * FROM " + (_8.name + (" " + s)));
      };
  };
  var selectStarId = function (t) {
      return function (i) {
          return selectStar(t)("WHERE id = " + Prelude.show(Prelude.showInt)(i));
      };
  };
  var selectLastInserted = function (t) {
      return selectStar(t)("WHERE id = last_insert_rowid()");
  };
  var parens = function (s) {
      return " (" + (s + ")");
  };
  var insert = function (_4) {
      return function (fs) {
          return function (repl) {
              return function (str) {
                  var sortedValues = Prelude.map(Prelude.functorArray)(Data_Tuple.snd)(Data_Array.sortBy(function (f1) {
                      return function (f2) {
                          return Prelude.compare(Prelude.ordString)(Data_Tuple.fst(f1))(Data_Tuple.fst(f2));
                      };
                  })(App_Model_StrMap.toArray(fs)));
                  var sortedKeys = Data_Array.sort(Prelude.ordString)(Data_StrMap.keys(fs));
                  return Database_AnyDB.Query("INSERT " + ((function () {
                      if (repl) {
                          return " or replace ";
                      };
                      if (!repl) {
                          return "";
                      };
                      throw new Error("Failed pattern match at SQL line 54, column 1 - line 55, column 1: " + [ repl.constructor.name ]);
                  })() + ("INTO " + (_4.name + (parens(Data_String.joinWith(", ")(sortedKeys)) + (" VALUES" + (parens(Data_String.joinWith(", ")(Prelude.map(Prelude.functorArray)(function (str_2) {
                      return "'" + (str_2 + "'");
                  })(sortedValues))) + (";" + str))))))));
              };
          };
      };
  };
  exports["Char"] = Char;
  exports["Integer"] = Integer;
  exports["Date"] = $$Date;
  exports["Blob"] = Blob;
  exports["PrimaryKey"] = PrimaryKey;
  exports["Unique"] = Unique;
  exports["ColumnDef"] = ColumnDef;
  exports["parens"] = parens;
  exports["selectLastInserted"] = selectLastInserted;
  exports["selectStarId"] = selectStarId;
  exports["selectStar"] = selectStar;
  exports["update"] = update;
  exports["insert"] = insert;;
 
})(PS["SQL"] = PS["SQL"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var Prelude = PS["Prelude"];
  var SQL = PS["SQL"];
  var Data_Foreign_Class = PS["Data.Foreign.Class"];
  var Data_Generic = PS["Data.Generic"];
  var Data_Maybe = PS["Data.Maybe"];
  var Data_Lens = PS["Data.Lens"];
  var Data_Tuple = PS["Data.Tuple"];
  var App_Model_StrMap = PS["App.Model.StrMap"];
  var Data_Either = PS["Data.Either"];
  var Data_Foreign_Index = PS["Data.Foreign.Index"];
  var Data_Lens_Lens = PS["Data.Lens.Lens"];     
  var Photobooth = (function () {
      function Photobooth(value0) {
          this.value0 = value0;
      };
      Photobooth.create = function (value0) {
          return new Photobooth(value0);
      };
      return Photobooth;
  })();
  var photoboothsTable = {
      name: "PHOTOBOOTHS", 
      columns: App_Model_StrMap.fromArray([ Data_Tuple.Tuple.create("id")(new SQL.ColumnDef(SQL.Integer.value, [ SQL.PrimaryKey.value ])), Data_Tuple.Tuple.create("computername")(new SQL.ColumnDef(SQL.Char.value, [ SQL.Unique.value ])), Data_Tuple.Tuple.create("alias")(new SQL.ColumnDef(SQL.Char.value, [  ])), Data_Tuple.Tuple.create("defaultprofile")(new SQL.ColumnDef(SQL.Char.value, [  ])), Data_Tuple.Tuple.create("updatedon")(new SQL.ColumnDef((SQL["Date"]).value, [  ])) ])
  };
  var photoboothIsForeign = new Data_Foreign_Class.IsForeign(function (obj) {
      return Prelude.bind(Data_Either.bindEither)(Prelude["<$>"](Data_Either.functorEither)(Data_Maybe.Just.create)(Data_Foreign_Class.readProp(Data_Foreign_Class.intIsForeign)(Data_Foreign_Index.indexString)("id")(obj)))(function (_3) {
          return Prelude.bind(Data_Either.bindEither)(Data_Foreign_Class.readProp(Data_Foreign_Class.stringIsForeign)(Data_Foreign_Index.indexString)("computername")(obj))(function (_2) {
              return Prelude.bind(Data_Either.bindEither)(Data_Foreign_Class.readProp(Data_Foreign_Class.stringIsForeign)(Data_Foreign_Index.indexString)("alias")(obj))(function (_1) {
                  return Prelude.bind(Data_Either.bindEither)(Data_Foreign_Class.readProp(Data_Foreign_Class.stringIsForeign)(Data_Foreign_Index.indexString)("defaultprofile")(obj))(function (_0) {
                      return Prelude["return"](Data_Either.applicativeEither)(new Photobooth({
                          id: _3, 
                          computername: _2, 
                          alias: _1, 
                          defaultprofile: _0
                      }));
                  });
              });
          });
      });
  });
  var genericPhotobooth = new Data_Generic.Generic(function ($dollarx) {
      if ($dollarx instanceof Data_Generic.SProd && ($dollarx.value0 === "App.Model.Photobooth.Photobooth" && $dollarx.value1.length === 1)) {
          return Prelude.apply(Data_Maybe.applyMaybe)(new Data_Maybe.Just(Photobooth.create))((function (r) {
              if (r instanceof Data_Generic.SRecord && r.value0.length === 4) {
                  return Prelude.apply(Data_Maybe.applyMaybe)(Prelude.apply(Data_Maybe.applyMaybe)(Prelude.apply(Data_Maybe.applyMaybe)(Prelude.apply(Data_Maybe.applyMaybe)(new Data_Maybe.Just(function (alias_1) {
                      return function (computername_1) {
                          return function (defaultprofile_1) {
                              return function (id_1) {
                                  return {
                                      alias: alias_1, 
                                      computername: computername_1, 
                                      defaultprofile: defaultprofile_1, 
                                      id: id_1
                                  };
                              };
                          };
                      };
                  }))(Data_Generic.fromSpine(Data_Generic.genericString)((r.value0[0]).recValue(Prelude.unit))))(Data_Generic.fromSpine(Data_Generic.genericString)((r.value0[1]).recValue(Prelude.unit))))(Data_Generic.fromSpine(Data_Generic.genericString)((r.value0[2]).recValue(Prelude.unit))))(Data_Generic.fromSpine(Data_Generic.genericMaybe(Data_Generic.genericInt))((r.value0[3]).recValue(Prelude.unit)));
              };
              return Data_Maybe.Nothing.value;
          })($dollarx.value1[0](Prelude.unit)));
      };
      return Data_Maybe.Nothing.value;
  }, function ($dollarq) {
      return new Data_Generic.SigProd("App.Model.Photobooth.Photobooth", [ {
          sigConstructor: "App.Model.Photobooth.Photobooth", 
          sigValues: [ function ($dollarq_1) {
              return new Data_Generic.SigRecord([ {
                  recLabel: "alias", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Generic.genericString)(Data_Generic.anyProxy);
                  }
              }, {
                  recLabel: "computername", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Generic.genericString)(Data_Generic.anyProxy);
                  }
              }, {
                  recLabel: "defaultprofile", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Generic.genericString)(Data_Generic.anyProxy);
                  }
              }, {
                  recLabel: "id", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Generic.genericMaybe(Data_Generic.genericInt))(Data_Generic.anyProxy);
                  }
              } ]);
          } ]
      } ]);
  }, function ($dollarx) {
      return new Data_Generic.SProd("App.Model.Photobooth.Photobooth", [ function ($dollarq) {
          return new Data_Generic.SRecord([ {
              recLabel: "alias", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Generic.genericString)($dollarx.value0.alias);
              }
          }, {
              recLabel: "computername", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Generic.genericString)($dollarx.value0.computername);
              }
          }, {
              recLabel: "defaultprofile", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Generic.genericString)($dollarx.value0.defaultprofile);
              }
          }, {
              recLabel: "id", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Generic.genericMaybe(Data_Generic.genericInt))($dollarx.value0.id);
              }
          } ]);
      } ]);
  });
  exports["Photobooth"] = Photobooth;
  exports["photoboothsTable"] = photoboothsTable;
  exports["genericPhotobooth"] = genericPhotobooth;
  exports["photoboothIsForeign"] = photoboothIsForeign;;
 
})(PS["App.Model.Photobooth"] = PS["App.Model.Photobooth"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var Prelude = PS["Prelude"];
  var SQL = PS["SQL"];
  var Data_Foreign_Class = PS["Data.Foreign.Class"];
  var Data_Generic = PS["Data.Generic"];
  var Data_Tuple = PS["Data.Tuple"];
  var App_Model_StrMap = PS["App.Model.StrMap"];
  var Data_Maybe = PS["Data.Maybe"];
  var Data_Either = PS["Data.Either"];
  var Data_Foreign_Index = PS["Data.Foreign.Index"];     
  var SavedFile = (function () {
      function SavedFile(value0) {
          this.value0 = value0;
      };
      SavedFile.create = function (value0) {
          return new SavedFile(value0);
      };
      return SavedFile;
  })();
  var savedFileTable = {
      name: "FILES", 
      columns: App_Model_StrMap.fromArray([ Data_Tuple.Tuple.create("id")(new SQL.ColumnDef(SQL.Integer.value, [ SQL.PrimaryKey.value ])), Data_Tuple.Tuple.create("name")(new SQL.ColumnDef(SQL.Char.value, [  ])), Data_Tuple.Tuple.create("eventid")(new SQL.ColumnDef(SQL.Integer.value, [  ])), Data_Tuple.Tuple.create("file")(new SQL.ColumnDef(SQL.Blob.value, [  ])), Data_Tuple.Tuple.create("updatedon")(new SQL.ColumnDef((SQL["Date"]).value, [  ])) ])
  };
  var savedFileIsForeign = new Data_Foreign_Class.IsForeign(function (obj) {
      return Prelude.bind(Data_Either.bindEither)(Data_Foreign_Class.readProp(Data_Foreign_Class.intIsForeign)(Data_Foreign_Index.indexString)("id")(obj))(function (_2) {
          return Prelude.bind(Data_Either.bindEither)(Data_Foreign_Class.readProp(Data_Foreign_Class.stringIsForeign)(Data_Foreign_Index.indexString)("name")(obj))(function (_1) {
              return Prelude.bind(Data_Either.bindEither)(Data_Foreign_Class.readProp(Data_Foreign_Class.intIsForeign)(Data_Foreign_Index.indexString)("eventid")(obj))(function (_0) {
                  return Prelude["return"](Data_Either.applicativeEither)(new SavedFile({
                      id: _2, 
                      name: _1, 
                      eventId: _0
                  }));
              });
          });
      });
  });
  var genericSavedFile = new Data_Generic.Generic(function ($dollarx) {
      if ($dollarx instanceof Data_Generic.SProd && ($dollarx.value0 === "App.Model.SavedFile.SavedFile" && $dollarx.value1.length === 1)) {
          return Prelude.apply(Data_Maybe.applyMaybe)(new Data_Maybe.Just(SavedFile.create))((function (r) {
              if (r instanceof Data_Generic.SRecord && r.value0.length === 3) {
                  return Prelude.apply(Data_Maybe.applyMaybe)(Prelude.apply(Data_Maybe.applyMaybe)(Prelude.apply(Data_Maybe.applyMaybe)(new Data_Maybe.Just(function (eventId_1) {
                      return function (id_1) {
                          return function (name_1) {
                              return {
                                  eventId: eventId_1, 
                                  id: id_1, 
                                  name: name_1
                              };
                          };
                      };
                  }))(Data_Generic.fromSpine(Data_Generic.genericInt)((r.value0[0]).recValue(Prelude.unit))))(Data_Generic.fromSpine(Data_Generic.genericInt)((r.value0[1]).recValue(Prelude.unit))))(Data_Generic.fromSpine(Data_Generic.genericString)((r.value0[2]).recValue(Prelude.unit)));
              };
              return Data_Maybe.Nothing.value;
          })($dollarx.value1[0](Prelude.unit)));
      };
      return Data_Maybe.Nothing.value;
  }, function ($dollarq) {
      return new Data_Generic.SigProd("App.Model.SavedFile.SavedFile", [ {
          sigConstructor: "App.Model.SavedFile.SavedFile", 
          sigValues: [ function ($dollarq_1) {
              return new Data_Generic.SigRecord([ {
                  recLabel: "eventId", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Generic.genericInt)(Data_Generic.anyProxy);
                  }
              }, {
                  recLabel: "id", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Generic.genericInt)(Data_Generic.anyProxy);
                  }
              }, {
                  recLabel: "name", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Generic.genericString)(Data_Generic.anyProxy);
                  }
              } ]);
          } ]
      } ]);
  }, function ($dollarx) {
      return new Data_Generic.SProd("App.Model.SavedFile.SavedFile", [ function ($dollarq) {
          return new Data_Generic.SRecord([ {
              recLabel: "eventId", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Generic.genericInt)($dollarx.value0.eventId);
              }
          }, {
              recLabel: "id", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Generic.genericInt)($dollarx.value0.id);
              }
          }, {
              recLabel: "name", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Generic.genericString)($dollarx.value0.name);
              }
          } ]);
      } ]);
  });
  exports["SavedFile"] = SavedFile;
  exports["savedFileTable"] = savedFileTable;
  exports["genericSavedFile"] = genericSavedFile;
  exports["savedFileIsForeign"] = savedFileIsForeign;;
 
})(PS["App.Model.SavedFile"] = PS["App.Model.SavedFile"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var Prelude = PS["Prelude"];
  var SQL = PS["SQL"];
  var Data_Foreign = PS["Data.Foreign"];
  var Data_Foreign_Class = PS["Data.Foreign.Class"];
  var Data_Generic = PS["Data.Generic"];
  var Data_Lens = PS["Data.Lens"];
  var Data_Tuple = PS["Data.Tuple"];
  var Data_Date = PS["Data.Date"];
  var Data_Maybe = PS["Data.Maybe"];
  var Data_Either = PS["Data.Either"];
  var App_Model_StrMap = PS["App.Model.StrMap"];
  var App_Model_SavedFile = PS["App.Model.SavedFile"];
  var Data_Foreign_Index = PS["Data.Foreign.Index"];
  var Data_Lens_Lens = PS["Data.Lens.Lens"];     
  var PartialEvent = (function () {
      function PartialEvent(value0) {
          this.value0 = value0;
      };
      PartialEvent.create = function (value0) {
          return new PartialEvent(value0);
      };
      return PartialEvent;
  })();
  var Event = (function () {
      function Event(value0) {
          this.value0 = value0;
      };
      Event.create = function (value0) {
          return new Event(value0);
      };
      return Event;
  })();
  var partialEventIsForeign = new Data_Foreign_Class.IsForeign(function (obj) {
      return Prelude.bind(Data_Either.bindEither)(Prelude["<$>"](Data_Either.functorEither)(Data_Maybe.Just.create)(Data_Foreign_Class.readProp(Data_Foreign_Class.intIsForeign)(Data_Foreign_Index.indexString)("id")(obj)))(function (_7) {
          return Prelude.bind(Data_Either.bindEither)(Data_Foreign_Class.readProp(Data_Foreign_Class.stringIsForeign)(Data_Foreign_Index.indexString)("computername")(obj))(function (_6) {
              return Prelude.bind(Data_Either.bindEither)(Data_Foreign_Class.readProp(Data_Foreign_Class.stringIsForeign)(Data_Foreign_Index.indexString)("name")(obj))(function (_5) {
                  return Prelude.bind(Data_Either.bindEither)(Data_Foreign_Class.readProp(Data_Foreign_Class.stringIsForeign)(Data_Foreign_Index.indexString)("datefrom")(obj))(function (_4) {
                      return Prelude.bind(Data_Either.bindEither)(Data_Maybe.maybe(Data_Either.Left.create(new Data_Foreign.TypeMismatch("ISO 8601 Date", _4)))(Data_Either.Right.create)(Data_Date.fromStringStrict(_4)))(function (_3) {
                          return Prelude.bind(Data_Either.bindEither)(Data_Foreign_Class.readProp(Data_Foreign_Class.stringIsForeign)(Data_Foreign_Index.indexString)("dateuntil")(obj))(function (_2) {
                              return Prelude.bind(Data_Either.bindEither)(Data_Maybe.maybe(Data_Either.Left.create(new Data_Foreign.TypeMismatch("ISO 8601 Date", _2)))(Data_Either.Right.create)(Data_Date.fromStringStrict(_2)))(function (_1) {
                                  return Prelude.bind(Data_Either.bindEither)(Data_Foreign_Class.readProp(Data_Foreign_Class.stringIsForeign)(Data_Foreign_Index.indexString)("profile")(obj))(function (_0) {
                                      return Prelude["return"](Data_Either.applicativeEither)(new PartialEvent({
                                          id: _7, 
                                          computername: _6, 
                                          name: _5, 
                                          datefrom: _3, 
                                          dateuntil: _1, 
                                          profile: _0
                                      }));
                                  });
                              });
                          });
                      });
                  });
              });
          });
      });
  });
  var mkEvent = function (_12) {
      return function (im) {
          return new Event({
              id: _12.value0.id, 
              computername: _12.value0.computername, 
              name: _12.value0.name, 
              datefrom: _12.value0.datefrom, 
              dateuntil: _12.value0.dateuntil, 
              profile: _12.value0.profile, 
              files: im
          });
      };
  };
  var genericPartialEvent = new Data_Generic.Generic(function ($dollarx) {
      if ($dollarx instanceof Data_Generic.SProd && ($dollarx.value0 === "App.Model.Event.PartialEvent" && $dollarx.value1.length === 1)) {
          return Prelude.apply(Data_Maybe.applyMaybe)(new Data_Maybe.Just(PartialEvent.create))((function (r) {
              if (r instanceof Data_Generic.SRecord && r.value0.length === 6) {
                  return Prelude.apply(Data_Maybe.applyMaybe)(Prelude.apply(Data_Maybe.applyMaybe)(Prelude.apply(Data_Maybe.applyMaybe)(Prelude.apply(Data_Maybe.applyMaybe)(Prelude.apply(Data_Maybe.applyMaybe)(Prelude.apply(Data_Maybe.applyMaybe)(new Data_Maybe.Just(function (computername_1) {
                      return function (datefrom_1) {
                          return function (dateuntil_1) {
                              return function (id_1) {
                                  return function (name_1) {
                                      return function (profile_1) {
                                          return {
                                              computername: computername_1, 
                                              datefrom: datefrom_1, 
                                              dateuntil: dateuntil_1, 
                                              id: id_1, 
                                              name: name_1, 
                                              profile: profile_1
                                          };
                                      };
                                  };
                              };
                          };
                      };
                  }))(Data_Generic.fromSpine(Data_Generic.genericString)((r.value0[0]).recValue(Prelude.unit))))(Data_Generic.fromSpine(Data_Date.genericDate)((r.value0[1]).recValue(Prelude.unit))))(Data_Generic.fromSpine(Data_Date.genericDate)((r.value0[2]).recValue(Prelude.unit))))(Data_Generic.fromSpine(Data_Generic.genericMaybe(Data_Generic.genericInt))((r.value0[3]).recValue(Prelude.unit))))(Data_Generic.fromSpine(Data_Generic.genericString)((r.value0[4]).recValue(Prelude.unit))))(Data_Generic.fromSpine(Data_Generic.genericString)((r.value0[5]).recValue(Prelude.unit)));
              };
              return Data_Maybe.Nothing.value;
          })($dollarx.value1[0](Prelude.unit)));
      };
      return Data_Maybe.Nothing.value;
  }, function ($dollarq) {
      return new Data_Generic.SigProd("App.Model.Event.PartialEvent", [ {
          sigConstructor: "App.Model.Event.PartialEvent", 
          sigValues: [ function ($dollarq_1) {
              return new Data_Generic.SigRecord([ {
                  recLabel: "computername", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Generic.genericString)(Data_Generic.anyProxy);
                  }
              }, {
                  recLabel: "datefrom", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Date.genericDate)(Data_Generic.anyProxy);
                  }
              }, {
                  recLabel: "dateuntil", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Date.genericDate)(Data_Generic.anyProxy);
                  }
              }, {
                  recLabel: "id", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Generic.genericMaybe(Data_Generic.genericInt))(Data_Generic.anyProxy);
                  }
              }, {
                  recLabel: "name", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Generic.genericString)(Data_Generic.anyProxy);
                  }
              }, {
                  recLabel: "profile", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Generic.genericString)(Data_Generic.anyProxy);
                  }
              } ]);
          } ]
      } ]);
  }, function ($dollarx) {
      return new Data_Generic.SProd("App.Model.Event.PartialEvent", [ function ($dollarq) {
          return new Data_Generic.SRecord([ {
              recLabel: "computername", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Generic.genericString)($dollarx.value0.computername);
              }
          }, {
              recLabel: "datefrom", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Date.genericDate)($dollarx.value0.datefrom);
              }
          }, {
              recLabel: "dateuntil", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Date.genericDate)($dollarx.value0.dateuntil);
              }
          }, {
              recLabel: "id", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Generic.genericMaybe(Data_Generic.genericInt))($dollarx.value0.id);
              }
          }, {
              recLabel: "name", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Generic.genericString)($dollarx.value0.name);
              }
          }, {
              recLabel: "profile", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Generic.genericString)($dollarx.value0.profile);
              }
          } ]);
      } ]);
  });
  var genericEvent = new Data_Generic.Generic(function ($dollarx) {
      if ($dollarx instanceof Data_Generic.SProd && ($dollarx.value0 === "App.Model.Event.Event" && $dollarx.value1.length === 1)) {
          return Prelude.apply(Data_Maybe.applyMaybe)(new Data_Maybe.Just(Event.create))((function (r) {
              if (r instanceof Data_Generic.SRecord && r.value0.length === 7) {
                  return Prelude.apply(Data_Maybe.applyMaybe)(Prelude.apply(Data_Maybe.applyMaybe)(Prelude.apply(Data_Maybe.applyMaybe)(Prelude.apply(Data_Maybe.applyMaybe)(Prelude.apply(Data_Maybe.applyMaybe)(Prelude.apply(Data_Maybe.applyMaybe)(Prelude.apply(Data_Maybe.applyMaybe)(new Data_Maybe.Just(function (computername_1) {
                      return function (datefrom_1) {
                          return function (dateuntil_1) {
                              return function (files_1) {
                                  return function (id_1) {
                                      return function (name_1) {
                                          return function (profile_1) {
                                              return {
                                                  computername: computername_1, 
                                                  datefrom: datefrom_1, 
                                                  dateuntil: dateuntil_1, 
                                                  files: files_1, 
                                                  id: id_1, 
                                                  name: name_1, 
                                                  profile: profile_1
                                              };
                                          };
                                      };
                                  };
                              };
                          };
                      };
                  }))(Data_Generic.fromSpine(Data_Generic.genericString)((r.value0[0]).recValue(Prelude.unit))))(Data_Generic.fromSpine(Data_Date.genericDate)((r.value0[1]).recValue(Prelude.unit))))(Data_Generic.fromSpine(Data_Date.genericDate)((r.value0[2]).recValue(Prelude.unit))))(Data_Generic.fromSpine(Data_Generic.genericArray(App_Model_SavedFile.genericSavedFile))((r.value0[3]).recValue(Prelude.unit))))(Data_Generic.fromSpine(Data_Generic.genericMaybe(Data_Generic.genericInt))((r.value0[4]).recValue(Prelude.unit))))(Data_Generic.fromSpine(Data_Generic.genericString)((r.value0[5]).recValue(Prelude.unit))))(Data_Generic.fromSpine(Data_Generic.genericString)((r.value0[6]).recValue(Prelude.unit)));
              };
              return Data_Maybe.Nothing.value;
          })($dollarx.value1[0](Prelude.unit)));
      };
      return Data_Maybe.Nothing.value;
  }, function ($dollarq) {
      return new Data_Generic.SigProd("App.Model.Event.Event", [ {
          sigConstructor: "App.Model.Event.Event", 
          sigValues: [ function ($dollarq_1) {
              return new Data_Generic.SigRecord([ {
                  recLabel: "computername", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Generic.genericString)(Data_Generic.anyProxy);
                  }
              }, {
                  recLabel: "datefrom", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Date.genericDate)(Data_Generic.anyProxy);
                  }
              }, {
                  recLabel: "dateuntil", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Date.genericDate)(Data_Generic.anyProxy);
                  }
              }, {
                  recLabel: "files", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Generic.genericArray(App_Model_SavedFile.genericSavedFile))(Data_Generic.anyProxy);
                  }
              }, {
                  recLabel: "id", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Generic.genericMaybe(Data_Generic.genericInt))(Data_Generic.anyProxy);
                  }
              }, {
                  recLabel: "name", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Generic.genericString)(Data_Generic.anyProxy);
                  }
              }, {
                  recLabel: "profile", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Generic.genericString)(Data_Generic.anyProxy);
                  }
              } ]);
          } ]
      } ]);
  }, function ($dollarx) {
      return new Data_Generic.SProd("App.Model.Event.Event", [ function ($dollarq) {
          return new Data_Generic.SRecord([ {
              recLabel: "computername", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Generic.genericString)($dollarx.value0.computername);
              }
          }, {
              recLabel: "datefrom", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Date.genericDate)($dollarx.value0.datefrom);
              }
          }, {
              recLabel: "dateuntil", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Date.genericDate)($dollarx.value0.dateuntil);
              }
          }, {
              recLabel: "files", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Generic.genericArray(App_Model_SavedFile.genericSavedFile))($dollarx.value0.files);
              }
          }, {
              recLabel: "id", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Generic.genericMaybe(Data_Generic.genericInt))($dollarx.value0.id);
              }
          }, {
              recLabel: "name", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Generic.genericString)($dollarx.value0.name);
              }
          }, {
              recLabel: "profile", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Generic.genericString)($dollarx.value0.profile);
              }
          } ]);
      } ]);
  });                                                                
  var eventsTable = {
      name: "EVENTS", 
      columns: App_Model_StrMap.fromArray([ Data_Tuple.Tuple.create("id")(new SQL.ColumnDef(SQL.Integer.value, [ SQL.PrimaryKey.value ])), Data_Tuple.Tuple.create("computername")(new SQL.ColumnDef(SQL.Char.value, [  ])), Data_Tuple.Tuple.create("name")(new SQL.ColumnDef(SQL.Char.value, [  ])), Data_Tuple.Tuple.create("datefrom")(new SQL.ColumnDef((SQL["Date"]).value, [  ])), Data_Tuple.Tuple.create("dateuntil")(new SQL.ColumnDef((SQL["Date"]).value, [  ])), Data_Tuple.Tuple.create("profile")(new SQL.ColumnDef(SQL.Char.value, [  ])), Data_Tuple.Tuple.create("updatedon")(new SQL.ColumnDef((SQL["Date"]).value, [  ])) ])
  };
  exports["PartialEvent"] = PartialEvent;
  exports["Event"] = Event;
  exports["eventsTable"] = eventsTable;
  exports["mkEvent"] = mkEvent;
  exports["genericEvent"] = genericEvent;
  exports["genericPartialEvent"] = genericPartialEvent;
  exports["partialEventIsForeign"] = partialEventIsForeign;;
 
})(PS["App.Model.Event"] = PS["App.Model.Event"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var Prelude = PS["Prelude"];
  var SQL = PS["SQL"];
  var Data_Foreign = PS["Data.Foreign"];
  var Data_Foreign_Class = PS["Data.Foreign.Class"];
  var Data_Generic = PS["Data.Generic"];
  var Data_Lens = PS["Data.Lens"];
  var Data_Tuple = PS["Data.Tuple"];
  var Data_Maybe = PS["Data.Maybe"];
  var Data_Date = PS["Data.Date"];
  var App_Model_StrMap = PS["App.Model.StrMap"];
  var Data_Either = PS["Data.Either"];
  var Data_Foreign_Index = PS["Data.Foreign.Index"];
  var Data_Lens_Lens = PS["Data.Lens.Lens"];     
  var MonthlyStatistic = (function () {
      function MonthlyStatistic(value0) {
          this.value0 = value0;
      };
      MonthlyStatistic.create = function (value0) {
          return new MonthlyStatistic(value0);
      };
      return MonthlyStatistic;
  })();
  var EventStatistic = (function () {
      function EventStatistic(value0) {
          this.value0 = value0;
      };
      EventStatistic.create = function (value0) {
          return new EventStatistic(value0);
      };
      return EventStatistic;
  })();
  var AllStatistics = (function () {
      function AllStatistics(value0) {
          this.value0 = value0;
      };
      AllStatistics.create = function (value0) {
          return new AllStatistics(value0);
      };
      return AllStatistics;
  })();
  var monthlyStatisticsTable = {
      name: "MONTHLYSTATISTICS", 
      columns: App_Model_StrMap.fromArray([ Data_Tuple.Tuple.create("computername")(new SQL.ColumnDef(SQL.Integer.value, [  ])), Data_Tuple.Tuple.create("month")(new SQL.ColumnDef(SQL.Integer.value, [  ])), Data_Tuple.Tuple.create("pictures")(new SQL.ColumnDef(SQL.Integer.value, [  ])), Data_Tuple.Tuple.create("prints")(new SQL.ColumnDef(SQL.Integer.value, [  ])), Data_Tuple.Tuple.create("updatedon")(new SQL.ColumnDef((SQL["Date"]).value, [  ])) ])
  };
  var monthlyStatisticIsForeign = new Data_Foreign_Class.IsForeign(function (obj) {
      return Prelude.bind(Data_Either.bindEither)(Data_Foreign_Class.readProp(Data_Foreign_Class.stringIsForeign)(Data_Foreign_Index.indexString)("computername")(obj))(function (_7) {
          return Prelude.bind(Data_Either.bindEither)(Data_Foreign_Class.readProp(Data_Foreign_Class.intIsForeign)(Data_Foreign_Index.indexString)("month")(obj))(function (_6) {
              return Prelude.bind(Data_Either.bindEither)(Data_Foreign_Class.readProp(Data_Foreign_Class.intIsForeign)(Data_Foreign_Index.indexString)("pictures")(obj))(function (_5) {
                  return Prelude.bind(Data_Either.bindEither)(Data_Foreign_Class.readProp(Data_Foreign_Class.intIsForeign)(Data_Foreign_Index.indexString)("prints")(obj))(function (_4) {
                      return Prelude["return"](Data_Either.applicativeEither)(new MonthlyStatistic({
                          computername: _7, 
                          month: _6, 
                          pictures: _5, 
                          prints: _4
                      }));
                  });
              });
          });
      });
  });
  var genericMonthlyStatistic = new Data_Generic.Generic(function ($dollarx) {
      if ($dollarx instanceof Data_Generic.SProd && ($dollarx.value0 === "App.Model.Statistic.MonthlyStatistic" && $dollarx.value1.length === 1)) {
          return Prelude.apply(Data_Maybe.applyMaybe)(new Data_Maybe.Just(MonthlyStatistic.create))((function (r) {
              if (r instanceof Data_Generic.SRecord && r.value0.length === 4) {
                  return Prelude.apply(Data_Maybe.applyMaybe)(Prelude.apply(Data_Maybe.applyMaybe)(Prelude.apply(Data_Maybe.applyMaybe)(Prelude.apply(Data_Maybe.applyMaybe)(new Data_Maybe.Just(function (computername_1) {
                      return function (month_1) {
                          return function (pictures_1) {
                              return function (prints_1) {
                                  return {
                                      computername: computername_1, 
                                      month: month_1, 
                                      pictures: pictures_1, 
                                      prints: prints_1
                                  };
                              };
                          };
                      };
                  }))(Data_Generic.fromSpine(Data_Generic.genericString)((r.value0[0]).recValue(Prelude.unit))))(Data_Generic.fromSpine(Data_Generic.genericInt)((r.value0[1]).recValue(Prelude.unit))))(Data_Generic.fromSpine(Data_Generic.genericInt)((r.value0[2]).recValue(Prelude.unit))))(Data_Generic.fromSpine(Data_Generic.genericInt)((r.value0[3]).recValue(Prelude.unit)));
              };
              return Data_Maybe.Nothing.value;
          })($dollarx.value1[0](Prelude.unit)));
      };
      return Data_Maybe.Nothing.value;
  }, function ($dollarq) {
      return new Data_Generic.SigProd("App.Model.Statistic.MonthlyStatistic", [ {
          sigConstructor: "App.Model.Statistic.MonthlyStatistic", 
          sigValues: [ function ($dollarq_1) {
              return new Data_Generic.SigRecord([ {
                  recLabel: "computername", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Generic.genericString)(Data_Generic.anyProxy);
                  }
              }, {
                  recLabel: "month", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Generic.genericInt)(Data_Generic.anyProxy);
                  }
              }, {
                  recLabel: "pictures", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Generic.genericInt)(Data_Generic.anyProxy);
                  }
              }, {
                  recLabel: "prints", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Generic.genericInt)(Data_Generic.anyProxy);
                  }
              } ]);
          } ]
      } ]);
  }, function ($dollarx) {
      return new Data_Generic.SProd("App.Model.Statistic.MonthlyStatistic", [ function ($dollarq) {
          return new Data_Generic.SRecord([ {
              recLabel: "computername", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Generic.genericString)($dollarx.value0.computername);
              }
          }, {
              recLabel: "month", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Generic.genericInt)($dollarx.value0.month);
              }
          }, {
              recLabel: "pictures", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Generic.genericInt)($dollarx.value0.pictures);
              }
          }, {
              recLabel: "prints", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Generic.genericInt)($dollarx.value0.prints);
              }
          } ]);
      } ]);
  });                                                                                      
  var genericEventStatistic = new Data_Generic.Generic(function ($dollarx) {
      if ($dollarx instanceof Data_Generic.SProd && ($dollarx.value0 === "App.Model.Statistic.EventStatistic" && $dollarx.value1.length === 1)) {
          return Prelude.apply(Data_Maybe.applyMaybe)(new Data_Maybe.Just(EventStatistic.create))((function (r) {
              if (r instanceof Data_Generic.SRecord && r.value0.length === 4) {
                  return Prelude.apply(Data_Maybe.applyMaybe)(Prelude.apply(Data_Maybe.applyMaybe)(Prelude.apply(Data_Maybe.applyMaybe)(Prelude.apply(Data_Maybe.applyMaybe)(new Data_Maybe.Just(function (computername_1) {
                      return function (eventId_1) {
                          return function (pictures_1) {
                              return function (prints_1) {
                                  return {
                                      computername: computername_1, 
                                      eventId: eventId_1, 
                                      pictures: pictures_1, 
                                      prints: prints_1
                                  };
                              };
                          };
                      };
                  }))(Data_Generic.fromSpine(Data_Generic.genericString)((r.value0[0]).recValue(Prelude.unit))))(Data_Generic.fromSpine(Data_Generic.genericInt)((r.value0[1]).recValue(Prelude.unit))))(Data_Generic.fromSpine(Data_Generic.genericInt)((r.value0[2]).recValue(Prelude.unit))))(Data_Generic.fromSpine(Data_Generic.genericInt)((r.value0[3]).recValue(Prelude.unit)));
              };
              return Data_Maybe.Nothing.value;
          })($dollarx.value1[0](Prelude.unit)));
      };
      return Data_Maybe.Nothing.value;
  }, function ($dollarq) {
      return new Data_Generic.SigProd("App.Model.Statistic.EventStatistic", [ {
          sigConstructor: "App.Model.Statistic.EventStatistic", 
          sigValues: [ function ($dollarq_1) {
              return new Data_Generic.SigRecord([ {
                  recLabel: "computername", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Generic.genericString)(Data_Generic.anyProxy);
                  }
              }, {
                  recLabel: "eventId", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Generic.genericInt)(Data_Generic.anyProxy);
                  }
              }, {
                  recLabel: "pictures", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Generic.genericInt)(Data_Generic.anyProxy);
                  }
              }, {
                  recLabel: "prints", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Generic.genericInt)(Data_Generic.anyProxy);
                  }
              } ]);
          } ]
      } ]);
  }, function ($dollarx) {
      return new Data_Generic.SProd("App.Model.Statistic.EventStatistic", [ function ($dollarq) {
          return new Data_Generic.SRecord([ {
              recLabel: "computername", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Generic.genericString)($dollarx.value0.computername);
              }
          }, {
              recLabel: "eventId", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Generic.genericInt)($dollarx.value0.eventId);
              }
          }, {
              recLabel: "pictures", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Generic.genericInt)($dollarx.value0.pictures);
              }
          }, {
              recLabel: "prints", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Generic.genericInt)($dollarx.value0.prints);
              }
          } ]);
      } ]);
  });                                                                                  
  var genericAllStatistics = new Data_Generic.Generic(function ($dollarx) {
      if ($dollarx instanceof Data_Generic.SProd && ($dollarx.value0 === "App.Model.Statistic.AllStatistics" && $dollarx.value1.length === 1)) {
          return Prelude.apply(Data_Maybe.applyMaybe)(new Data_Maybe.Just(AllStatistics.create))((function (r) {
              if (r instanceof Data_Generic.SRecord && r.value0.length === 2) {
                  return Prelude.apply(Data_Maybe.applyMaybe)(Prelude.apply(Data_Maybe.applyMaybe)(new Data_Maybe.Just(function (eventStatistics_1) {
                      return function (monthlyStatistics_1) {
                          return {
                              eventStatistics: eventStatistics_1, 
                              monthlyStatistics: monthlyStatistics_1
                          };
                      };
                  }))(Data_Generic.fromSpine(Data_Generic.genericArray(genericEventStatistic))((r.value0[0]).recValue(Prelude.unit))))(Data_Generic.fromSpine(Data_Generic.genericArray(genericMonthlyStatistic))((r.value0[1]).recValue(Prelude.unit)));
              };
              return Data_Maybe.Nothing.value;
          })($dollarx.value1[0](Prelude.unit)));
      };
      return Data_Maybe.Nothing.value;
  }, function ($dollarq) {
      return new Data_Generic.SigProd("App.Model.Statistic.AllStatistics", [ {
          sigConstructor: "App.Model.Statistic.AllStatistics", 
          sigValues: [ function ($dollarq_1) {
              return new Data_Generic.SigRecord([ {
                  recLabel: "eventStatistics", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Generic.genericArray(genericEventStatistic))(Data_Generic.anyProxy);
                  }
              }, {
                  recLabel: "monthlyStatistics", 
                  recValue: function ($dollarq_2) {
                      return Data_Generic.toSignature(Data_Generic.genericArray(genericMonthlyStatistic))(Data_Generic.anyProxy);
                  }
              } ]);
          } ]
      } ]);
  }, function ($dollarx) {
      return new Data_Generic.SProd("App.Model.Statistic.AllStatistics", [ function ($dollarq) {
          return new Data_Generic.SRecord([ {
              recLabel: "eventStatistics", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Generic.genericArray(genericEventStatistic))($dollarx.value0.eventStatistics);
              }
          }, {
              recLabel: "monthlyStatistics", 
              recValue: function ($dollarq_1) {
                  return Data_Generic.toSpine(Data_Generic.genericArray(genericMonthlyStatistic))($dollarx.value0.monthlyStatistics);
              }
          } ]);
      } ]);
  });                                                                                
  var eventStatisticsTable = {
      name: "EVENTSTATISTICS", 
      columns: App_Model_StrMap.fromArray([ Data_Tuple.Tuple.create("computername")(new SQL.ColumnDef(SQL.Char.value, [  ])), Data_Tuple.Tuple.create("eventid")(new SQL.ColumnDef(SQL.Integer.value, [  ])), Data_Tuple.Tuple.create("pictures")(new SQL.ColumnDef(SQL.Integer.value, [  ])), Data_Tuple.Tuple.create("prints")(new SQL.ColumnDef(SQL.Integer.value, [  ])), Data_Tuple.Tuple.create("updatedon")(new SQL.ColumnDef((SQL["Date"]).value, [  ])) ])
  };
  var eventStatisticIsForeign = new Data_Foreign_Class.IsForeign(function (obj) {
      return Prelude.bind(Data_Either.bindEither)(Data_Foreign_Class.readProp(Data_Foreign_Class.stringIsForeign)(Data_Foreign_Index.indexString)("computername")(obj))(function (_3) {
          return Prelude.bind(Data_Either.bindEither)(Data_Foreign_Class.readProp(Data_Foreign_Class.intIsForeign)(Data_Foreign_Index.indexString)("eventid")(obj))(function (_2) {
              return Prelude.bind(Data_Either.bindEither)(Data_Foreign_Class.readProp(Data_Foreign_Class.intIsForeign)(Data_Foreign_Index.indexString)("pictures")(obj))(function (_1) {
                  return Prelude.bind(Data_Either.bindEither)(Data_Foreign_Class.readProp(Data_Foreign_Class.intIsForeign)(Data_Foreign_Index.indexString)("prints")(obj))(function (_0) {
                      return Prelude["return"](Data_Either.applicativeEither)(new EventStatistic({
                          computername: _3, 
                          eventId: _2, 
                          pictures: _1, 
                          prints: _0
                      }));
                  });
              });
          });
      });
  });
  exports["AllStatistics"] = AllStatistics;
  exports["MonthlyStatistic"] = MonthlyStatistic;
  exports["EventStatistic"] = EventStatistic;
  exports["monthlyStatisticsTable"] = monthlyStatisticsTable;
  exports["eventStatisticsTable"] = eventStatisticsTable;
  exports["genericEventStatistic"] = genericEventStatistic;
  exports["eventStatisticIsForeign"] = eventStatisticIsForeign;
  exports["genericMonthlyStatistic"] = genericMonthlyStatistic;
  exports["monthlyStatisticIsForeign"] = monthlyStatisticIsForeign;
  exports["genericAllStatistics"] = genericAllStatistics;;
 
})(PS["App.Model.Statistic"] = PS["App.Model.Statistic"] || {});
(function(exports) {
  "use strict";

  //module App.Model.Date
  /*eslint-env node*/

  exports.iso8601 = function iso8601(d){
    return d.toISOString();
  };
 
})(PS["App.Model.Date"] = PS["App.Model.Date"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["App.Model.Date"];
  var Data_Date = PS["Data.Date"];
  exports["iso8601"] = $foreign.iso8601;;
 
})(PS["App.Model.Date"] = PS["App.Model.Date"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["App.DB"];
  var Prelude = PS["Prelude"];
  var Control_Monad_Eff_Exception = PS["Control.Monad.Eff.Exception"];
  var Control_Monad_Error_Class = PS["Control.Monad.Error.Class"];
  var Control_Monad_Aff = PS["Control.Monad.Aff"];
  var Data_Date = PS["Data.Date"];
  var Data_Array = PS["Data.Array"];
  var Data_String = PS["Data.String"];
  var Data_Tuple = PS["Data.Tuple"];
  var Data_Maybe = PS["Data.Maybe"];
  var Data_Traversable = PS["Data.Traversable"];
  var Data_Monoid = PS["Data.Monoid"];
  var Data_Foreign = PS["Data.Foreign"];
  var Data_Foreign_Class = PS["Data.Foreign.Class"];
  var Database_AnyDB = PS["Database.AnyDB"];
  var Database_AnyDB_SqlValue = PS["Database.AnyDB.SqlValue"];
  var Node_Buffer = PS["Node.Buffer"];
  var SQL = PS["SQL"];
  var App_Model_Photobooth = PS["App.Model.Photobooth"];
  var App_Model_Event = PS["App.Model.Event"];
  var App_Model_SavedFile = PS["App.Model.SavedFile"];
  var App_Model_Statistic = PS["App.Model.Statistic"];
  var App_Model_Date = PS["App.Model.Date"];
  var App_Model_StrMap = PS["App.Model.StrMap"];
  var App_Model_NetworkingState = PS["App.Model.NetworkingState"];
  var App_Model_WorkerState = PS["App.Model.WorkerState"];
  var Data_Either = PS["Data.Either"];
  var Data_Foreign_Index = PS["Data.Foreign.Index"];     
  var BufferForHttp = function (x) {
      return x;
  };
  var upsertMonthlyStatistic = function (_22) {
      return SQL.insert(App_Model_Statistic.monthlyStatisticsTable)(App_Model_StrMap.fromArray([ Data_Tuple.Tuple.create("month")(Prelude.show(Prelude.showInt)(_22.value0.month)), Data_Tuple.Tuple.create("computername")(_22.value0.computername), Data_Tuple.Tuple.create("pictures")(Prelude.show(Prelude.showInt)(_22.value0.pictures)), Data_Tuple.Tuple.create("prints")(Prelude.show(Prelude.showInt)(_22.value0.prints)) ]))(true)("");
  };
  var upsertEventStatistic = function (_21) {
      return SQL.insert(App_Model_Statistic.eventStatisticsTable)(App_Model_StrMap.fromArray([ Data_Tuple.Tuple.create("eventId")(Prelude.show(Prelude.showInt)(_21.value0.eventId)), Data_Tuple.Tuple.create("computername")(_21.value0.computername), Data_Tuple.Tuple.create("pictures")(Prelude.show(Prelude.showInt)(_21.value0.pictures)), Data_Tuple.Tuple.create("prints")(Prelude.show(Prelude.showInt)(_21.value0.prints)) ]))(true)("");
  };
  var updatePB = function (conn) {
      return function (_18) {
          if (_18.value0.id instanceof Data_Maybe.Nothing) {
              return Control_Monad_Error_Class.throwError(Control_Monad_Aff.monadErrorAff)(Control_Monad_Eff_Exception.error("updatePhotobooth impossible without id!"));
          };
          if (_18.value0.id instanceof Data_Maybe.Just) {
              var query = SQL.update(App_Model_Photobooth.photoboothsTable)(_18.value0.id.value0)(App_Model_StrMap.fromArray([ new Data_Tuple.Tuple("alias", _18.value0.alias), new Data_Tuple.Tuple("defaultprofile", _18.value0.defaultprofile) ]))("");
              return Prelude.bind(Control_Monad_Aff.bindAff)(Database_AnyDB.execute_(query)(conn))(function () {
                  return Prelude.bind(Control_Monad_Aff.bindAff)(Database_AnyDB.queryOne_(App_Model_Photobooth.photoboothIsForeign)(SQL.selectStarId(App_Model_Photobooth.photoboothsTable)(_18.value0.id.value0))(conn))(function (_4) {
                      return Data_Maybe.maybe(Control_Monad_Error_Class.throwError(Control_Monad_Aff.monadErrorAff)(Control_Monad_Eff_Exception.error("Failed to update Photobooth")))(Prelude["return"](Control_Monad_Aff.applicativeAff))(_4);
                  });
              });
          };
          throw new Error("Failed pattern match at App.DB line 169, column 1 - line 170, column 1: " + [ conn.constructor.name, _18.constructor.name ]);
      };
  };
  var unpack = function (_24) {
      return _24;
  };
  var selectFilesForEvents = function (is) {
      return function (conn) {
          var qs = Data_String.joinWith(", ")(Data_Array.replicate(Data_Array.length(is))("?"));
          return Database_AnyDB.query(App_Model_SavedFile.savedFileIsForeign)(SQL.selectStar(App_Model_SavedFile.savedFileTable)("WHERE eventid = (" + (qs + ")")))(Prelude.map(Prelude.functorArray)(Database_AnyDB_SqlValue.toSql(Database_AnyDB_SqlValue.isSqlValueInt))(is))(conn);
      };
  };
  var selectFilesForEvent = function (i) {
      return function (conn) {
          return Database_AnyDB.query(App_Model_SavedFile.savedFileIsForeign)(SQL.selectStar(App_Model_SavedFile.savedFileTable)("WHERE eventid = ?"))([ Database_AnyDB_SqlValue.toSql(Database_AnyDB_SqlValue.isSqlValueInt)(i) ])(conn);
      };
  };
  var updateEvent = function (conn) {
      return function (_19) {
          if (_19.value0.id instanceof Data_Maybe.Nothing) {
              return Control_Monad_Error_Class.throwError(Control_Monad_Aff.monadErrorAff)(Control_Monad_Eff_Exception.error("updateEvent impossible without id"));
          };
          if (_19.value0.id instanceof Data_Maybe.Just) {
              var query = SQL.update(App_Model_Event.eventsTable)(_19.value0.id.value0)(App_Model_StrMap.fromArray([ new Data_Tuple.Tuple("computername", _19.value0.computername), new Data_Tuple.Tuple("name", _19.value0.name), Data_Tuple.Tuple.create("datefrom")(App_Model_Date.iso8601(_19.value0.datefrom)), Data_Tuple.Tuple.create("dateuntil")(App_Model_Date.iso8601(_19.value0.dateuntil)), new Data_Tuple.Tuple("profile", _19.value0.profile) ]))("");
              return Prelude.bind(Control_Monad_Aff.bindAff)(Database_AnyDB.execute_(query)(conn))(function () {
                  return Prelude.bind(Control_Monad_Aff.bindAff)(Database_AnyDB.queryOne_(App_Model_Event.partialEventIsForeign)(SQL.selectStarId(App_Model_Event.eventsTable)(_19.value0.id.value0))(conn))(function (_5) {
                      if (_5 instanceof Data_Maybe.Nothing) {
                          return Control_Monad_Error_Class.throwError(Control_Monad_Aff.monadErrorAff)(Control_Monad_Eff_Exception.error("Failed to update Event"));
                      };
                      if (_5 instanceof Data_Maybe.Just && _5.value0.value0.id instanceof Data_Maybe.Nothing) {
                          return Prelude["return"](Control_Monad_Aff.applicativeAff)(App_Model_Event.mkEvent(_5.value0)([  ]));
                      };
                      if (_5 instanceof Data_Maybe.Just && _5.value0.value0.id instanceof Data_Maybe.Just) {
                          return Prelude[">>="](Control_Monad_Aff.bindAff)(selectFilesForEvent(_5.value0.value0.id.value0)(conn))(function (ims) {
                              return Prelude["return"](Control_Monad_Aff.applicativeAff)(App_Model_Event.mkEvent(_5.value0)(ims));
                          });
                      };
                      throw new Error("Failed pattern match at App.DB line 178, column 1 - line 179, column 1: " + [ _5.constructor.name ]);
                  });
              });
          };
          throw new Error("Failed pattern match at App.DB line 178, column 1 - line 179, column 1: " + [ conn.constructor.name, _19.constructor.name ]);
      };
  };
  var saveFileToDb = function (conn) {
      return function (eventId) {
          return function (name) {
              return function (buff) {
                  var query = Database_AnyDB.Query("INSERT INTO " + (App_Model_SavedFile.savedFileTable.name + " (name, eventid, File) VALUES (?, ?, ?)"));
                  return Prelude.bind(Control_Monad_Aff.bindAff)(Database_AnyDB.execute(query)([ Database_AnyDB_SqlValue.toSql(Database_AnyDB_SqlValue.isSqlValueString)(name), Database_AnyDB_SqlValue.toSql(Database_AnyDB_SqlValue.isSqlValueInt)(eventId), Database_AnyDB_SqlValue.toSql(Database_AnyDB_SqlValue.isSqlValueBuffer)(buff) ])(conn))(function () {
                      return Prelude.bind(Control_Monad_Aff.bindAff)(Database_AnyDB.queryOne_(App_Model_SavedFile.savedFileIsForeign)(SQL.selectLastInserted(App_Model_SavedFile.savedFileTable))(conn))(function (_6) {
                          return Data_Maybe.maybe(Control_Monad_Error_Class.throwError(Control_Monad_Aff.monadErrorAff)(Control_Monad_Eff_Exception.error("Failed to save File")))(Prelude["return"](Control_Monad_Aff.applicativeAff))(_6);
                      });
                  });
              };
          };
      };
  };
  var safeParseInt = function (str) {
      return $foreign.pInt(Data_Maybe.Nothing.value)(Data_Maybe.Just.create)(str);
  };
  var queryPhotobooth = function (conn) {
      return function (cname) {
          var q = Database_AnyDB.Query("Select * from PHOTOBOOTHS " + "where computername = ?");
          return Database_AnyDB.queryOne(App_Model_Photobooth.photoboothIsForeign)(q)([ Database_AnyDB_SqlValue.toSql(Database_AnyDB_SqlValue.isSqlValueString)(cname) ])(conn);
      };
  };
  var queryNewFiles = function (conn) {
      return function (cname) {
          return function (d) {
              var q = Database_AnyDB.Query("Select f.* from FILES f " + ("Join Events e on e.id = f.eventid " + ("where e.computername = ? " + "and f.updatedon > ? ")));
              return Database_AnyDB.query(App_Model_SavedFile.savedFileIsForeign)(q)([ Database_AnyDB_SqlValue.toSql(Database_AnyDB_SqlValue.isSqlValueString)(cname), Database_AnyDB_SqlValue.toSql(Database_AnyDB_SqlValue.isSqlValueDate)(d) ])(conn);
          };
      };
  };
  var queryNewEvents = function (conn) {
      return function (cname) {
          return function (d) {
              var q = Database_AnyDB.Query("Select * from EVENTS " + ("where computername = ? " + "and updatedon > ?"));
              return Database_AnyDB.query(App_Model_Event.partialEventIsForeign)(q)([ Database_AnyDB_SqlValue.toSql(Database_AnyDB_SqlValue.isSqlValueString)(cname), Database_AnyDB_SqlValue.toSql(Database_AnyDB_SqlValue.isSqlValueDate)(d) ])(conn);
          };
      };
  };
  var queryEvents = function (conn) {
      return function (cname) {
          return Prelude.bind(Control_Monad_Aff.bindAff)(Database_AnyDB.query(App_Model_Event.partialEventIsForeign)("Select * from EVENTS WHERE computername = ?")([ Database_AnyDB_SqlValue.toSql(Database_AnyDB_SqlValue.isSqlValueString)(cname) ])(conn))(function (_1) {
              var ids = Prelude["<$>"](Prelude.functorArray)(function (_12) {
                  return Data_Maybe.fromMaybe(-1)(_12.value0.id);
              })(_1);
              return Prelude.bind(Control_Monad_Aff.bindAff)((function () {
                  var _71 = Data_Array.length(ids) > -1;
                  if (_71) {
                      return selectFilesForEvents(ids)(conn);
                  };
                  if (!_71) {
                      return Prelude["return"](Control_Monad_Aff.applicativeAff)([  ]);
                  };
                  throw new Error("Failed pattern match at App.DB line 110, column 1 - line 111, column 1: " + [ _71.constructor.name ]);
              })())(function (_0) {
                  var createEvent = function (_26) {
                      return App_Model_Event.mkEvent(_26)(Data_Array.filter(function (_13) {
                          return _13.value0.eventId === Data_Maybe.fromMaybe(0)(_26.value0.id);
                      })(_0));
                  };
                  return Prelude["return"](Control_Monad_Aff.applicativeAff)(Prelude["<$>"](Prelude.functorArray)(createEvent)(_1));
              });
          });
      };
  };
  var queryAllStatistics = function (conn) {
      return function (cname) {
          return Prelude.bind(Control_Monad_Aff.bindAff)(Database_AnyDB.query(App_Model_Statistic.eventStatisticIsForeign)("select * from eventstatistics where computername = ?")([ Database_AnyDB_SqlValue.toSql(Database_AnyDB_SqlValue.isSqlValueString)(cname) ])(conn))(function (_8) {
              return Prelude.bind(Control_Monad_Aff.bindAff)(Database_AnyDB.query(App_Model_Statistic.monthlyStatisticIsForeign)("select * from monthlystatistics where computername = ?")([ Database_AnyDB_SqlValue.toSql(Database_AnyDB_SqlValue.isSqlValueString)(cname) ])(conn))(function (_7) {
                  return Prelude["return"](Control_Monad_Aff.applicativeAff)(new App_Model_Statistic.AllStatistics({
                      eventStatistics: _8, 
                      monthlyStatistics: _7
                  }));
              });
          });
      };
  };
  var insertPB = function (_14) {
      return SQL.insert(App_Model_Photobooth.photoboothsTable)(App_Model_StrMap.fromArray([ new Data_Tuple.Tuple("computername", _14.value0.computername), new Data_Tuple.Tuple("alias", _14.value0.alias), new Data_Tuple.Tuple("defaultprofile", _14.value0.defaultprofile) ]))(false)("");
  };
  var newPB = function (conn) {
      return function (pb) {
          return Prelude.bind(Control_Monad_Aff.bindAff)(Database_AnyDB.execute_(insertPB(pb))(conn))(function () {
              return Prelude.bind(Control_Monad_Aff.bindAff)(Database_AnyDB.queryOne_(App_Model_Photobooth.photoboothIsForeign)(SQL.selectLastInserted(App_Model_Photobooth.photoboothsTable))(conn))(function (_2) {
                  return Data_Maybe.maybe(Control_Monad_Error_Class.throwError(Control_Monad_Aff.monadErrorAff)(Control_Monad_Eff_Exception.error("Failed to create Photobooth")))(Prelude["return"](Control_Monad_Aff.applicativeAff))(_2);
              });
          });
      };
  };
  var insertEvent = function (_16) {
      return SQL.insert(App_Model_Event.eventsTable)(App_Model_StrMap.fromArray([ new Data_Tuple.Tuple("computername", _16.value0.computername), new Data_Tuple.Tuple("name", _16.value0.name), Data_Tuple.Tuple.create("datefrom")(App_Model_Date.iso8601(_16.value0.datefrom)), Data_Tuple.Tuple.create("dateuntil")(App_Model_Date.iso8601(_16.value0.dateuntil)), Data_Tuple.Tuple.create("profile")(_16.value0.profile) ]))(false)("");
  };
  var newEvent = function (conn) {
      return function (ev) {
          return Prelude.bind(Control_Monad_Aff.bindAff)(Database_AnyDB.execute_(insertEvent(ev))(conn))(function () {
              return Prelude.bind(Control_Monad_Aff.bindAff)(Database_AnyDB.queryOne_(App_Model_Event.partialEventIsForeign)(SQL.selectLastInserted(App_Model_Event.eventsTable))(conn))(function (_3) {
                  if (_3 instanceof Data_Maybe.Nothing) {
                      return Control_Monad_Error_Class.throwError(Control_Monad_Aff.monadErrorAff)(Control_Monad_Eff_Exception.error("Failed to create Event"));
                  };
                  if (_3 instanceof Data_Maybe.Just && _3.value0.value0.id instanceof Data_Maybe.Nothing) {
                      return Prelude["return"](Control_Monad_Aff.applicativeAff)(App_Model_Event.mkEvent(_3.value0)([  ]));
                  };
                  if (_3 instanceof Data_Maybe.Just && _3.value0.value0.id instanceof Data_Maybe.Just) {
                      return Prelude[">>="](Control_Monad_Aff.bindAff)(selectFilesForEvent(_3.value0.value0.id.value0)(conn))(function (ims) {
                          return Prelude["return"](Control_Monad_Aff.applicativeAff)(App_Model_Event.mkEvent(_3.value0)(ims));
                      });
                  };
                  throw new Error("Failed pattern match at App.DB line 141, column 1 - line 142, column 1: " + [ _3.constructor.name ]);
              });
          });
      };
  };
  var foreignBufferForHttp = new Data_Foreign_Class.IsForeign(function (obj) {
      return Prelude.bind(Data_Either.bindEither)(Data_Foreign_Class.readProp(Data_Foreign_Class.foreignIsForeign)(Data_Foreign_Index.indexString)("file")(obj))(function (_11) {
          return Prelude["return"](Data_Either.applicativeEither)(BufferForHttp(Data_Foreign.unsafeFromForeign(_11)));
      });
  });
  var getFileById = function (conn) {
      return function (id) {
          return Prelude[">>="](Control_Monad_Aff.bindAff)(Database_AnyDB.queryOne(foreignBufferForHttp)("select file from files where id = ?")([ Database_AnyDB_SqlValue.toSql(Database_AnyDB_SqlValue.isSqlValueInt)(id) ])(conn))(function (mf) {
              return Data_Maybe.maybe(Control_Monad_Error_Class.throwError(Control_Monad_Aff.monadErrorAff)(Control_Monad_Eff_Exception.error("No file found")))(Prelude[">>>"](Prelude.semigroupoidFn)(unpack)(Prelude["return"](Control_Monad_Aff.applicativeAff)))(mf);
          });
      };
  };
  var allPhotobooths = function (conn) {
      return Database_AnyDB.query_(App_Model_Photobooth.photoboothIsForeign)(SQL.selectStar(App_Model_Photobooth.photoboothsTable)(""))(conn);
  };
  var addStatistics = function (c) {
      return function (_23) {
          return Prelude.bind(Control_Monad_Aff.bindAff)(Data_Traversable.traverse(Data_Traversable.traversableArray)(Control_Monad_Aff.applicativeAff)(function (s) {
              return Database_AnyDB.execute_(upsertMonthlyStatistic(s))(c);
          })(_23.value0.monthlyStatistics))(function (_10) {
              return Prelude.bind(Control_Monad_Aff.bindAff)(Data_Traversable.traverse(Data_Traversable.traversableArray)(Control_Monad_Aff.applicativeAff)(function (s) {
                  return Database_AnyDB.execute_(upsertEventStatistic(s))(c);
              })(_23.value0.eventStatistics))(function (_9) {
                  return Prelude["return"](Control_Monad_Aff.applicativeAff)(Prelude.unit);
              });
          });
      };
  };
  exports["BufferForHttp"] = BufferForHttp;
  exports["getFileById"] = getFileById;
  exports["unpack"] = unpack;
  exports["addStatistics"] = addStatistics;
  exports["queryNewFiles"] = queryNewFiles;
  exports["queryPhotobooth"] = queryPhotobooth;
  exports["queryNewEvents"] = queryNewEvents;
  exports["safeParseInt"] = safeParseInt;
  exports["queryAllStatistics"] = queryAllStatistics;
  exports["upsertMonthlyStatistic"] = upsertMonthlyStatistic;
  exports["upsertEventStatistic"] = upsertEventStatistic;
  exports["selectFilesForEvents"] = selectFilesForEvents;
  exports["selectFilesForEvent"] = selectFilesForEvent;
  exports["saveFileToDb"] = saveFileToDb;
  exports["updateEvent"] = updateEvent;
  exports["updatePB"] = updatePB;
  exports["insertEvent"] = insertEvent;
  exports["newEvent"] = newEvent;
  exports["insertPB"] = insertPB;
  exports["newPB"] = newPB;
  exports["queryEvents"] = queryEvents;
  exports["allPhotobooths"] = allPhotobooths;
  exports["foreignBufferForHttp"] = foreignBufferForHttp;;
 
})(PS["App.DB"] = PS["App.DB"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var Prelude = PS["Prelude"];
  var GET = (function () {
      function GET() {

      };
      GET.value = new GET();
      return GET;
  })();
  var POST = (function () {
      function POST() {

      };
      POST.value = new POST();
      return POST;
  })();
  var PUT = (function () {
      function PUT() {

      };
      PUT.value = new PUT();
      return PUT;
  })();
  exports["GET"] = GET;
  exports["POST"] = POST;
  exports["PUT"] = PUT;;
 
})(PS["Network.HTTP.Method"] = PS["Network.HTTP.Method"] || {});
(function(exports) {
  /* global exports */
  "use strict";

  // module Data.Nullable

  exports["null"] = null;

  exports.notNull = function(x) {
      return x;
  }; 
 
})(PS["Data.Nullable"] = PS["Data.Nullable"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Data.Nullable"];
  var Prelude = PS["Prelude"];
  var Data_Maybe = PS["Data.Maybe"];
  var Data_Function = PS["Data.Function"];     
  var toNullable = Data_Maybe.maybe($foreign["null"])($foreign.notNull);
  exports["toNullable"] = toNullable;;
 
})(PS["Data.Nullable"] = PS["Data.Nullable"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var Prelude = PS["Prelude"];     
  var $greater$eq$greater = function (__dict_Bind_0) {
      return function (f) {
          return function (g) {
              return function (a) {
                  return Prelude[">>="](__dict_Bind_0)(f(a))(g);
              };
          };
      };
  };
  exports[">=>"] = $greater$eq$greater;;
 
})(PS["Control.Bind"] = PS["Control.Bind"] || {});
(function(exports) {
  /* global exports */
  "use strict";

  // module Control.Monad.Eff.Unsafe

  exports.unsafeInterleaveEff = function (f) {
    return f;
  };
 
})(PS["Control.Monad.Eff.Unsafe"] = PS["Control.Monad.Eff.Unsafe"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Control.Monad.Eff.Unsafe"];
  var Prelude = PS["Prelude"];
  var Control_Monad_Eff = PS["Control.Monad.Eff"];     
  var unsafePerformEff = function (_0) {
      return Control_Monad_Eff.runPure($foreign.unsafeInterleaveEff(_0));
  };
  exports["unsafePerformEff"] = unsafePerformEff;;
 
})(PS["Control.Monad.Eff.Unsafe"] = PS["Control.Monad.Eff.Unsafe"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var Prelude = PS["Prelude"];
  var Control_Monad_Eff_Unsafe = PS["Control.Monad.Eff.Unsafe"];
  var Control_Monad_Eff_Exception = PS["Control.Monad.Eff.Exception"];     
  var unsafeThrowException = function (_0) {
      return Control_Monad_Eff_Unsafe.unsafePerformEff(Control_Monad_Eff_Exception.throwException(_0));
  };
  var unsafeThrow = function (_1) {
      return unsafeThrowException(Control_Monad_Eff_Exception.error(_1));
  };
  exports["unsafeThrow"] = unsafeThrow;
  exports["unsafeThrowException"] = unsafeThrowException;;
 
})(PS["Control.Monad.Eff.Exception.Unsafe"] = PS["Control.Monad.Eff.Exception.Unsafe"] || {});
(function(exports) {
  /* globals exports, JSON */
  "use strict";

  // module Global.Unsafe

  exports.unsafeStringify = function (x) {
    return JSON.stringify(x);
  };
 
})(PS["Global.Unsafe"] = PS["Global.Unsafe"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Global.Unsafe"];
  exports["unsafeStringify"] = $foreign.unsafeStringify;;
 
})(PS["Global.Unsafe"] = PS["Global.Unsafe"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var Prelude = PS["Prelude"];
  var Data_Maybe = PS["Data.Maybe"];
  var Data_Array = PS["Data.Array"];
  var Data_Tuple = PS["Data.Tuple"];
  var Data_Either = PS["Data.Either"];
  var Data_Foreign = PS["Data.Foreign"];
  var Data_Foreign_Class = PS["Data.Foreign.Class"];
  var Data_Foreign_Index = PS["Data.Foreign.Index"];
  var Data_Function = PS["Data.Function"];
  var Data_Nullable = PS["Data.Nullable"];
  var Data_Generic = PS["Data.Generic"];
  var Data_Foldable = PS["Data.Foldable"];
  var Data_Traversable = PS["Data.Traversable"];
  var Data_List = PS["Data.List"];
  var Data_StrMap = PS["Data.StrMap"];
  var Control_Bind = PS["Control.Bind"];
  var Control_Monad_Eff_Exception_Unsafe = PS["Control.Monad.Eff.Exception.Unsafe"];
  var Global_Unsafe = PS["Global.Unsafe"];
  var Type_Proxy = PS["Type.Proxy"];     
  var TaggedObject = (function () {
      function TaggedObject(value0) {
          this.value0 = value0;
      };
      TaggedObject.create = function (value0) {
          return new TaggedObject(value0);
      };
      return TaggedObject;
  })();
  var toForeignGeneric = function (__dict_Generic_0) {
      return function (_21) {
          var go = function (_23) {
              return function (_24) {
                  if (_24 instanceof Data_Generic.SNumber) {
                      return Data_Foreign.toForeign(_24.value0);
                  };
                  if (_24 instanceof Data_Generic.SInt) {
                      return Data_Foreign.toForeign(_24.value0);
                  };
                  if (_24 instanceof Data_Generic.SChar) {
                      return Data_Foreign.toForeign(_24.value0);
                  };
                  if (_24 instanceof Data_Generic.SString) {
                      return Data_Foreign.toForeign(_24.value0);
                  };
                  if (_24 instanceof Data_Generic.SBoolean) {
                      return Data_Foreign.toForeign(_24.value0);
                  };
                  if (_23 instanceof Data_Generic.SigArray && _24 instanceof Data_Generic.SArray) {
                      return Data_Foreign.toForeign(Prelude.map(Prelude.functorArray)(function (_132) {
                          return go(_23.value0(Prelude.unit))((function (_3) {
                              return _3(Prelude.unit);
                          })(_132));
                      })(_24.value0));
                  };
                  if (_23 instanceof Data_Generic.SigRecord && _24 instanceof Data_Generic.SRecord) {
                      var pair = function (sig) {
                          return function (sp) {
                              if (Prelude["=="](Prelude.eqString)(sig.recLabel)(sp.recLabel)) {
                                  return new Data_Tuple.Tuple(sig.recLabel, go(sig.recValue(Prelude.unit))(sp.recValue(Prelude.unit)));
                              };
                              if (Prelude.otherwise) {
                                  return Control_Monad_Eff_Exception_Unsafe.unsafeThrow("Record fields do not match signature");
                              };
                              throw new Error("Failed pattern match at Data.Foreign.Generic line 117, column 5 - line 118, column 5: " + [ sig.constructor.name, sp.constructor.name ]);
                          };
                      };
                      var pairs = Data_Array.zipWith(pair)(Data_Array.sortBy(Data_Function.on(Prelude.compare(Prelude.ordString))(function (_1) {
                          return _1.recLabel;
                      }))(_23.value0))(Data_Array.sortBy(Data_Function.on(Prelude.compare(Prelude.ordString))(function (_2) {
                          return _2.recLabel;
                      }))(_24.value0));
                      return Data_Foreign.toForeign(Data_StrMap.fromList(Data_List.toList(Data_Foldable.foldableArray)(pairs)));
                  };
                  if (_23 instanceof Data_Generic.SigProd && (_23.value0 === "Data.Maybe.Maybe" && (_24 instanceof Data_Generic.SProd && (_24.value0 === "Data.Maybe.Nothing" && (_24.value1.length === 0 && _21.maybeAsNull))))) {
                      return Data_Foreign.toForeign(Data_Nullable.toNullable(Data_Maybe.Nothing.value));
                  };
                  if (_23 instanceof Data_Generic.SigProd && (_23.value0 === "Data.Maybe.Maybe" && (_23.value1.length === 2 && ((_23.value1[0]).sigValues.length === 1 && (_24 instanceof Data_Generic.SProd && (_24.value0 === "Data.Maybe.Just" && (_24.value1.length === 1 && _21.maybeAsNull))))))) {
                      return go((_23.value1[0]).sigValues[0](Prelude.unit))(_24.value1[0](Prelude.unit));
                  };
                  if (_23 instanceof Data_Generic.SigProd && (_23.value1.length === 1 && ((_23.value1[0]).sigValues.length === 1 && (_24 instanceof Data_Generic.SProd && (_24.value1.length === 1 && _21.unwrapNewtypes))))) {
                      return go((_23.value1[0]).sigValues[0](Prelude.unit))(_24.value1[0](Prelude.unit));
                  };
                  if (_23 instanceof Data_Generic.SigProd && _24 instanceof Data_Generic.SProd) {
                      var _62 = Data_Foldable.find(Data_Foldable.foldableArray)(function (alt) {
                          return Prelude["=="](Prelude.eqString)(alt.sigConstructor)(_24.value0);
                      })(_23.value1);
                      if (_62 instanceof Data_Maybe.Nothing) {
                          return Control_Monad_Eff_Exception_Unsafe.unsafeThrow("No signature for data constructor " + _24.value0);
                      };
                      if (_62 instanceof Data_Maybe.Just) {
                          var _63 = Data_Array.zipWith(function (sig) {
                              return function (sp) {
                                  return go(sig(Prelude.unit))(sp(Prelude.unit));
                              };
                          })(_62.value0.sigValues)(_24.value1);
                          if (_63.length === 0) {
                              return Data_Foreign.toForeign(Data_StrMap.fromList(Data_List.singleton(new Data_Tuple.Tuple(_21.sumEncoding.value0.tagFieldName, Data_Foreign.toForeign(_24.value0)))));
                          };
                          if (_63.length === 1 && _21.unwrapSingleArgumentConstructors) {
                              return Data_Foreign.toForeign(Data_StrMap.fromList(Data_List.toList(Data_Foldable.foldableArray)([ new Data_Tuple.Tuple(_21.sumEncoding.value0.tagFieldName, Data_Foreign.toForeign(_24.value0)), new Data_Tuple.Tuple(_21.sumEncoding.value0.contentsFieldName, _63[0]) ])));
                          };
                          return Data_Foreign.toForeign(Data_StrMap.fromList(Data_List.toList(Data_Foldable.foldableArray)([ new Data_Tuple.Tuple(_21.sumEncoding.value0.tagFieldName, Data_Foreign.toForeign(_24.value0)), new Data_Tuple.Tuple(_21.sumEncoding.value0.contentsFieldName, Data_Foreign.toForeign(_63)) ])));
                      };
                      throw new Error("Failed pattern match at Data.Foreign.Generic line 105, column 1 - line 106, column 1: " + [ _62.constructor.name ]);
                  };
                  return Control_Monad_Eff_Exception_Unsafe.unsafeThrow("Invalid spine for signature");
              };
          };
          return function (_133) {
              return go(Data_Generic.toSignature(__dict_Generic_0)(Type_Proxy.Proxy.value))(Data_Generic.toSpine(__dict_Generic_0)(_133));
          };
      };
  };
  var toJSONGeneric = function (__dict_Generic_1) {
      return function (opts) {
          return Prelude[">>>"](Prelude.semigroupoidFn)(toForeignGeneric(__dict_Generic_1)(opts))(Global_Unsafe.unsafeStringify);
      };
  };
  var readGeneric = function (__dict_Generic_2) {
      return function (_20) {
          var go = function (_22) {
              return function (f) {
                  if (_22 instanceof Data_Generic.SigNumber) {
                      return Prelude.map(Data_Either.functorEither)(Data_Generic.SNumber.create)(Data_Foreign.readNumber(f));
                  };
                  if (_22 instanceof Data_Generic.SigInt) {
                      return Prelude.map(Data_Either.functorEither)(Data_Generic.SInt.create)(Data_Foreign.readInt(f));
                  };
                  if (_22 instanceof Data_Generic.SigChar) {
                      return Prelude.map(Data_Either.functorEither)(Data_Generic.SChar.create)(Data_Foreign.readChar(f));
                  };
                  if (_22 instanceof Data_Generic.SigString) {
                      return Prelude.map(Data_Either.functorEither)(Data_Generic.SString.create)(Data_Foreign.readString(f));
                  };
                  if (_22 instanceof Data_Generic.SigBoolean) {
                      return Prelude.map(Data_Either.functorEither)(Data_Generic.SBoolean.create)(Data_Foreign.readBoolean(f));
                  };
                  if (_22 instanceof Data_Generic.SigArray) {
                      return Prelude.bind(Data_Either.bindEither)(Data_Foreign.readArray(f))(function (_6) {
                          return Prelude.bind(Data_Either.bindEither)(Data_Traversable["for"](Data_Either.applicativeEither)(Data_Traversable.traversableArray)(_6)(function (f_2) {
                              return Prelude.bind(Data_Either.bindEither)(go(_22.value0(Prelude.unit))(f_2))(function (_4) {
                                  return Prelude["return"](Data_Either.applicativeEither)(Prelude["const"](_4));
                              });
                          }))(function (_5) {
                              return Prelude["return"](Data_Either.applicativeEither)(new Data_Generic.SArray(_5));
                          });
                      });
                  };
                  if (_22 instanceof Data_Generic.SigRecord) {
                      return Prelude.bind(Data_Either.bindEither)(Data_Traversable["for"](Data_Either.applicativeEither)(Data_Traversable.traversableArray)(_22.value0)(function (prop) {
                          return Prelude.bind(Data_Either.bindEither)(Data_Foreign_Index["!"](Data_Foreign_Index.indexString)(f)(prop.recLabel))(function (_8) {
                              return Prelude.bind(Data_Either.bindEither)(go(prop.recValue(Prelude.unit))(_8))(function (_7) {
                                  return Prelude["return"](Data_Either.applicativeEither)({
                                      recLabel: prop.recLabel, 
                                      recValue: Prelude["const"](_7)
                                  });
                              });
                          });
                      }))(function (_9) {
                          return Prelude["return"](Data_Either.applicativeEither)(new Data_Generic.SRecord(_9));
                      });
                  };
                  if (_22 instanceof Data_Generic.SigProd && (_22.value1.length === 1 && ((_22.value1[0]).sigValues.length === 1 && _20.unwrapNewtypes))) {
                      return Prelude.bind(Data_Either.bindEither)(go((_22.value1[0]).sigValues[0](Prelude.unit))(f))(function (_10) {
                          return Prelude["return"](Data_Either.applicativeEither)(new Data_Generic.SProd((_22.value1[0]).sigConstructor, [ function (_17) {
                              return _10;
                          } ]));
                      });
                  };
                  if (_22 instanceof Data_Generic.SigProd && (_22.value0 === "Data.Maybe.Maybe" && (_22.value1.length === 2 && ((_22.value1[0]).sigValues.length === 1 && _20.maybeAsNull)))) {
                      var _97 = Data_Foreign.isNull(f) || Data_Foreign.isUndefined(f);
                      if (_97) {
                          return Prelude["return"](Data_Either.applicativeEither)(new Data_Generic.SProd("Data.Maybe.Nothing", [  ]));
                      };
                      if (!_97) {
                          return Prelude.bind(Data_Either.bindEither)(go((_22.value1[0]).sigValues[0](Prelude.unit))(f))(function (_11) {
                              return Prelude["return"](Data_Either.applicativeEither)(new Data_Generic.SProd("Data.Maybe.Just", [ function (_18) {
                                  return _11;
                              } ]));
                          });
                      };
                      throw new Error("Failed pattern match at Data.Foreign.Generic line 52, column 1 - line 53, column 1: " + [ _97.constructor.name ]);
                  };
                  if (_22 instanceof Data_Generic.SigProd) {
                      return Prelude.bind(Data_Either.bindEither)(Prelude[">>="](Data_Either.bindEither)(Data_Foreign_Index.prop(_20.sumEncoding.value0.tagFieldName)(f))(Data_Foreign.readString))(function (_16) {
                          var _108 = Data_Foldable.find(Data_Foldable.foldableArray)(function (alt) {
                              return Prelude["=="](Prelude.eqString)(alt.sigConstructor)(_16);
                          })(_22.value1);
                          if (_108 instanceof Data_Maybe.Nothing) {
                              return new Data_Either.Left(new Data_Foreign.TypeMismatch("one of " + Prelude.show(Prelude.showArray(Prelude.showString))(Prelude.map(Prelude.functorArray)(function (_0) {
                                  return _0.sigConstructor;
                              })(_22.value1)), _16));
                          };
                          if (_108 instanceof Data_Maybe.Just && _108.value0.sigValues.length === 0) {
                              return Prelude["return"](Data_Either.applicativeEither)(new Data_Generic.SProd(_16, [  ]));
                          };
                          if (_108 instanceof Data_Maybe.Just && (_108.value0.sigValues.length === 1 && _20.unwrapSingleArgumentConstructors)) {
                              return Prelude.bind(Data_Either.bindEither)(Data_Foreign_Index.prop(_20.sumEncoding.value0.contentsFieldName)(f))(function (_13) {
                                  return Prelude.bind(Data_Either.bindEither)(go(_108.value0.sigValues[0](Prelude.unit))(_13))(function (_12) {
                                      return Prelude["return"](Data_Either.applicativeEither)(new Data_Generic.SProd(_16, [ function (_19) {
                                          return _12;
                                      } ]));
                                  });
                              });
                          };
                          if (_108 instanceof Data_Maybe.Just) {
                              return Prelude.bind(Data_Either.bindEither)(Prelude[">>="](Data_Either.bindEither)(Data_Foreign_Index.prop(_20.sumEncoding.value0.contentsFieldName)(f))(Data_Foreign.readArray))(function (_15) {
                                  return Prelude.bind(Data_Either.bindEither)(Data_Array.zipWithA(Data_Either.applicativeEither)(function (k) {
                                      return go(k(Prelude.unit));
                                  })(_108.value0.sigValues)(_15))(function (_14) {
                                      return Prelude["return"](Data_Either.applicativeEither)(new Data_Generic.SProd(_16, Prelude.map(Prelude.functorArray)(Prelude["const"])(_14)));
                                  });
                              });
                          };
                          throw new Error("Failed pattern match at Data.Foreign.Generic line 52, column 1 - line 53, column 1: " + [ _108.constructor.name ]);
                      });
                  };
                  throw new Error("Failed pattern match at Data.Foreign.Generic line 52, column 1 - line 53, column 1: " + [ _22.constructor.name, f.constructor.name ]);
              };
          };
          var fromSpineUnsafe = function (sp) {
              var _126 = Data_Generic.fromSpine(__dict_Generic_2)(sp);
              if (_126 instanceof Data_Maybe.Nothing) {
                  return Control_Monad_Eff_Exception_Unsafe.unsafeThrow("Invalid spine for signature");
              };
              if (_126 instanceof Data_Maybe.Just) {
                  return _126.value0;
              };
              throw new Error("Failed pattern match at Data.Foreign.Generic line 52, column 1 - line 53, column 1: " + [ _126.constructor.name ]);
          };
          return function (_134) {
              return Prelude.map(Data_Either.functorEither)(fromSpineUnsafe)(go(Data_Generic.toSignature(__dict_Generic_2)(Type_Proxy.Proxy.value))(_134));
          };
      };
  };
  var readJSONGeneric = function (__dict_Generic_3) {
      return function (opts) {
          return Control_Bind[">=>"](Data_Either.bindEither)(Data_Foreign.parseJSON)(readGeneric(__dict_Generic_3)(opts));
      };
  };
  var defaultOptions = {
      sumEncoding: new TaggedObject({
          tagFieldName: "tag", 
          contentsFieldName: "contents"
      }), 
      unwrapNewtypes: false, 
      unwrapSingleArgumentConstructors: true, 
      maybeAsNull: true
  };
  exports["TaggedObject"] = TaggedObject;
  exports["toJSONGeneric"] = toJSONGeneric;
  exports["readJSONGeneric"] = readJSONGeneric;
  exports["toForeignGeneric"] = toForeignGeneric;
  exports["readGeneric"] = readGeneric;
  exports["defaultOptions"] = defaultOptions;;
 
})(PS["Data.Foreign.Generic"] = PS["Data.Foreign.Generic"] || {});
(function(exports) {
  "use strict";

  // module Unsafe.Coerce

  exports.unsafeCoerce = function(x) { return x; }
 
})(PS["Unsafe.Coerce"] = PS["Unsafe.Coerce"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Unsafe.Coerce"];
  exports["unsafeCoerce"] = $foreign.unsafeCoerce;;
 
})(PS["Unsafe.Coerce"] = PS["Unsafe.Coerce"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var Prelude = PS["Prelude"];
  var Control_Monad_Aff = PS["Control.Monad.Aff"];
  var Control_Monad_Error_Class = PS["Control.Monad.Error.Class"];
  var Control_Monad_Eff_Exception = PS["Control.Monad.Eff.Exception"];
  var Data_Either = PS["Data.Either"];
  var Data_Maybe = PS["Data.Maybe"];
  var Data_Foreign_Generic = PS["Data.Foreign.Generic"];
  var Data_Generic = PS["Data.Generic"];
  var Network_HTTP_Affjax = PS["Network.HTTP.Affjax"];
  var Network_HTTP_RequestHeader = PS["Network.HTTP.RequestHeader"];
  var Network_HTTP_MimeType_Common = PS["Network.HTTP.MimeType.Common"];
  var Network_HTTP_Method = PS["Network.HTTP.Method"];
  var Node_Buffer = PS["Node.Buffer"];
  var DOM_File_Types = PS["DOM.File.Types"];
  var Unsafe_Coerce = PS["Unsafe.Coerce"];
  var Data_Foreign = PS["Data.Foreign"];
  var Network_HTTP_Affjax_Request = PS["Network.HTTP.Affjax.Request"];
  var Network_HTTP_Affjax_Response = PS["Network.HTTP.Affjax.Response"];     
  var FileUploadEndpoint = (function () {
      function FileUploadEndpoint(value0) {
          this.value0 = value0;
      };
      FileUploadEndpoint.create = function (value0) {
          return new FileUploadEndpoint(value0);
      };
      return FileUploadEndpoint;
  })();
  var Endpoint = (function () {
      function Endpoint(value0) {
          this.value0 = value0;
      };
      Endpoint.create = function (value0) {
          return new Endpoint(value0);
      };
      return Endpoint;
  })();
  exports["FileUploadEndpoint"] = FileUploadEndpoint;
  exports["Endpoint"] = Endpoint;;
 
})(PS["Endpoint.Client"] = PS["Endpoint.Client"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var Prelude = PS["Prelude"];
  var Network_HTTP_Method = PS["Network.HTTP.Method"];
  var Data_Tuple = PS["Data.Tuple"];
  var Data_Date = PS["Data.Date"];
  var Data_Maybe = PS["Data.Maybe"];
  var App_Model_Photobooth = PS["App.Model.Photobooth"];
  var App_Model_Event = PS["App.Model.Event"];
  var App_Model_SavedFile = PS["App.Model.SavedFile"];
  var App_Model_Statistic = PS["App.Model.Statistic"];
  var App_Model_Date = PS["App.Model.Date"];
  var Endpoint_Client = PS["Endpoint.Client"];     
  var putPhotobooths = new Endpoint_Client.Endpoint({
      method: Network_HTTP_Method.PUT.value, 
      serverUrl: "/api/photobooths", 
      mkClientUrl: Prelude["const"]("/api/photobooths")
  });
  var putEvents = new Endpoint_Client.Endpoint({
      method: Network_HTTP_Method.PUT.value, 
      serverUrl: "/api/events", 
      mkClientUrl: Prelude["const"]("/api/events")
  });
  var postStatistics = new Endpoint_Client.Endpoint({
      method: Network_HTTP_Method.POST.value, 
      serverUrl: "/api/statistics", 
      mkClientUrl: Prelude["const"]("/api/statistics")
  });
  var postPhotobooths = new Endpoint_Client.Endpoint({
      method: Network_HTTP_Method.POST.value, 
      serverUrl: "/api/photobooths", 
      mkClientUrl: Prelude["const"]("/api/photobooths")
  });
  var postEvents = new Endpoint_Client.Endpoint({
      method: Network_HTTP_Method.POST.value, 
      serverUrl: "/api/events", 
      mkClientUrl: Prelude["const"]("/api/events")
  });
  var getStatistics = new Endpoint_Client.Endpoint({
      method: Network_HTTP_Method.GET.value, 
      serverUrl: "/api/statistics/:cname", 
      mkClientUrl: function (s) {
          return "/api/statistics/" + s;
      }
  });
  var getProfiles = new Endpoint_Client.Endpoint({
      method: Network_HTTP_Method.GET.value, 
      serverUrl: "/api/profiles", 
      mkClientUrl: Prelude["const"]("/api/profiles")
  });
  var getProfileFiles = new Endpoint_Client.Endpoint({
      method: Network_HTTP_Method.GET.value, 
      serverUrl: "/api/profiles/:cname/:pname", 
      mkClientUrl: function (_3) {
          return "/api/profiles/" + (_3.value0 + ("/" + _3.value1));
      }
  });
  var getPhotobooths = new Endpoint_Client.Endpoint({
      method: Network_HTTP_Method.GET.value, 
      serverUrl: "/api/photobooths", 
      mkClientUrl: Prelude["const"]("/api/photobooths")
  });
  var getPhotobooth = new Endpoint_Client.Endpoint({
      method: Network_HTTP_Method.GET.value, 
      serverUrl: "/api/photobooths/:cname", 
      mkClientUrl: function (s) {
          return "/api/photobooths/" + s;
      }
  });
  var getNewFiles = new Endpoint_Client.Endpoint({
      method: Network_HTTP_Method.GET.value, 
      serverUrl: "/api/newfiles/:cname/:date", 
      mkClientUrl: function (_2) {
          return "/api/newfiles/" + (_2.value0 + ("/" + App_Model_Date.iso8601(_2.value1)));
      }
  });
  var getNewEvents = new Endpoint_Client.Endpoint({
      method: Network_HTTP_Method.GET.value, 
      serverUrl: "/api/newevents/:cname/:date", 
      mkClientUrl: function (_1) {
          return "/api/newevents/" + (_1.value0 + ("/" + App_Model_Date.iso8601(_1.value1)));
      }
  });
  var getEvents = new Endpoint_Client.Endpoint({
      method: Network_HTTP_Method.GET.value, 
      serverUrl: "/api/events/:cname", 
      mkClientUrl: function (s) {
          return "/api/events/" + s;
      }
  });
  var attachFile = new Endpoint_Client.FileUploadEndpoint({
      serverUrl: "/api/attachfiletoevent/:eventid/:name", 
      mkClientUrl: function (_0) {
          return "/api/attachfiletoevent/" + (Prelude.show(Prelude.showInt)(_0.value0) + ("/" + _0.value1));
      }
  });
  exports["getProfileFiles"] = getProfileFiles;
  exports["getProfiles"] = getProfiles;
  exports["postStatistics"] = postStatistics;
  exports["getStatistics"] = getStatistics;
  exports["getNewFiles"] = getNewFiles;
  exports["getNewEvents"] = getNewEvents;
  exports["attachFile"] = attachFile;
  exports["putEvents"] = putEvents;
  exports["postEvents"] = postEvents;
  exports["getEvents"] = getEvents;
  exports["getPhotobooth"] = getPhotobooth;
  exports["putPhotobooths"] = putPhotobooths;
  exports["postPhotobooths"] = postPhotobooths;
  exports["getPhotobooths"] = getPhotobooths;;
 
})(PS["App.Endpoint"] = PS["App.Endpoint"] || {});
(function(exports) {
  /* global exports, console */
  "use strict";

  // module Control.Monad.Eff.Console

  exports.log = function (s) {
    return function () {
      console.log(s);
      return {};
    };
  };
 
})(PS["Control.Monad.Eff.Console"] = PS["Control.Monad.Eff.Console"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Control.Monad.Eff.Console"];
  var Prelude = PS["Prelude"];
  var Control_Monad_Eff = PS["Control.Monad.Eff"];
  exports["log"] = $foreign.log;;
 
})(PS["Control.Monad.Eff.Console"] = PS["Control.Monad.Eff.Console"] || {});
(function(exports) {
  "use strict";

  // module Node.Path

  var path = require("path");

  exports.normalize = path.normalize;

  exports.concat = function (segments) {
    return path.join.apply(this, segments);
  };                                 
 
})(PS["Node.Path"] = PS["Node.Path"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Node.Path"];
  exports["concat"] = $foreign.concat;
  exports["normalize"] = $foreign.normalize;;
 
})(PS["Node.Path"] = PS["Node.Path"] || {});
(function(exports) {
  /* global require */
  /* global exports */
  "use strict";                                  

  exports.statsMethod = function (m, s) {
    return s[m]();
  }
 
})(PS["Node.FS.Stats"] = PS["Node.FS.Stats"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Node.FS.Stats"];
  var Prelude = PS["Prelude"];
  var Data_Date = PS["Data.Date"];
  var Data_Function = PS["Data.Function"];
  var Data_Maybe_Unsafe = PS["Data.Maybe.Unsafe"];     
  var Stats = (function () {
      function Stats(value0) {
          this.value0 = value0;
      };
      Stats.create = function (value0) {
          return new Stats(value0);
      };
      return Stats;
  })();
  var isDirectory = function (_1) {
      return $foreign.statsMethod("isDirectory", _1.value0);
  };
  exports["Stats"] = Stats;
  exports["isDirectory"] = isDirectory;;
 
})(PS["Node.FS.Stats"] = PS["Node.FS.Stats"] || {});
(function(exports) {
  /* global require */
  /* global exports */
  "use strict";

  // module Node.FS.Async

  exports.fs = require('fs');

  exports.handleCallbackImpl = function (left, right, f) {
    return function (err, value) {
      if (err) {
        f(left(err))();
      } else {
        f(right(value))();
      }
    };
  };
 
})(PS["Node.FS.Async"] = PS["Node.FS.Async"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var Prelude = PS["Prelude"];
  var Control_Monad_Eff = PS["Control.Monad.Eff"];
  var Unsafe_Coerce = PS["Unsafe.Coerce"];     
  var mkEff = Unsafe_Coerce.unsafeCoerce;
  exports["mkEff"] = mkEff;;
 
})(PS["Node.FS.Internal"] = PS["Node.FS.Internal"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Node.FS.Async"];
  var Prelude = PS["Prelude"];
  var Control_Monad_Eff = PS["Control.Monad.Eff"];
  var Control_Monad_Eff_Unsafe = PS["Control.Monad.Eff.Unsafe"];
  var Control_Monad_Eff_Exception = PS["Control.Monad.Eff.Exception"];
  var Data_Date = PS["Data.Date"];
  var Data_Time = PS["Data.Time"];
  var Data_Either = PS["Data.Either"];
  var Data_Function = PS["Data.Function"];
  var Data_Maybe = PS["Data.Maybe"];
  var Data_Nullable = PS["Data.Nullable"];
  var Node_Buffer = PS["Node.Buffer"];
  var Data_Int = PS["Data.Int"];
  var Data_Maybe_Unsafe = PS["Data.Maybe.Unsafe"];
  var Node_Encoding = PS["Node.Encoding"];
  var Node_FS = PS["Node.FS"];
  var Node_FS_Stats = PS["Node.FS.Stats"];
  var Node_Path = PS["Node.Path"];
  var Node_FS_Perms = PS["Node.FS.Perms"];
  var Node_FS_Internal = PS["Node.FS.Internal"];     
  var handleCallback = function (cb) {
      return $foreign.handleCallbackImpl(Data_Either.Left.create, Data_Either.Right.create, cb);
  };
  var readdir = function (file) {
      return function (cb) {
          return Node_FS_Internal.mkEff(function (_15) {
              return $foreign.fs.readdir(file, handleCallback(cb));
          });
      };
  };
  var stat = function (file) {
      return function (cb) {
          return Node_FS_Internal.mkEff(function (_6) {
              return $foreign.fs.stat(file, handleCallback(function (_58) {
                  return cb(Prelude["<$>"](Data_Either.functorEither)(Node_FS_Stats.Stats.create)(_58));
              }));
          });
      };
  };
  exports["readdir"] = readdir;
  exports["stat"] = stat;;
 
})(PS["Node.FS.Async"] = PS["Node.FS.Async"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var Prelude = PS["Prelude"];
  var Data_Maybe = PS["Data.Maybe"];
  var Node_Path = PS["Node.Path"];
  var Node_FS_Perms = PS["Node.FS.Perms"];
  var Node_FS_Stats = PS["Node.FS.Stats"];
  var Data_Date = PS["Data.Date"];
  var Control_Monad_Eff = PS["Control.Monad.Eff"];
  var Data_Either = PS["Data.Either"];
  var Control_Monad_Aff = PS["Control.Monad.Aff"];
  var Node_Buffer = PS["Node.Buffer"];
  var Node_Encoding = PS["Node.Encoding"];
  var Node_FS = PS["Node.FS"];
  var Node_FS_Async = PS["Node.FS.Async"];     
  var toAff = function (p) {
      return Control_Monad_Aff.makeAff(function (e) {
          return function (a) {
              return p(Data_Either.either(e)(a));
          };
      });
  };
  var toAff1 = function (f) {
      return function (a) {
          return toAff(f(a));
      };
  };                                          
  var stat = toAff1(Node_FS_Async.stat);        
  var readdir = toAff1(Node_FS_Async.readdir);
  exports["readdir"] = readdir;
  exports["stat"] = stat;;
 
})(PS["Node.FS.Aff"] = PS["Node.FS.Aff"] || {});
(function(exports) {
  "use strict";

  //module Server.Core
  /*eslint-env node*/

  exports.makeApp = function makeApp(){
    var app = require("express")();
    var compression = require("compression");
    app.use(compression());
    return app;
  };

  exports.listen = function listen(app){
    return function(port){
      return function(){
        var server = require("http").createServer(app);
        server.listen(port);
        return server;
      };
    };
  };

  exports.get = function get(app){
    return function (url){
      return function(mware){
        return function(handler){
          return function(){
            var cb = function(req, res){ return handler(req)(res)(); };
            var args = mware ? [url, mware, cb] : [url, cb];
            app.get.apply(app, args);
          };
        };
      };
    };
  };

  exports.post = function get(app){
    return function (url){
      return function(mware){
        return function(handler){
          return function(){
            var cb = function(req, res){ return handler(req)(res)(); };
            var args = mware ? [url, mware, cb] : [url, cb];
            app.post.apply(app, args);
          };
        };
      };
    };
  };

  exports.put = function get(app){
    return function (url){
      return function(mware){
        return function(handler){
          return function(){
            var cb = function(req, res){ return handler(req)(res)(); };
            var args = mware ? [url, mware, cb] : [url, cb];
            app.put.apply(app, args);
          };
        };
      };
    };
  };

  exports.hostStatic = function(app){
    return function(root){
      return function(){
        app.use(require("express").static(root));
      };
    };
  };

  var bodyParser = require("body-parser");
  exports.bufferParser = bodyParser.raw({type: "*/*", limit: "5MB"});
  exports.rawParser = bodyParser.text({type: "*/*"});
  exports.noParser = null;

  exports.mkConvert = function mkConvert(constr){
    return function(unit){
      return function convert(req){
        return constr(req.url)(!req.body ? unit : req.body)(req.params)(req.path)(req.query)(req.headers);
      };
    };
  };

  exports.mkBufferConvert = function mkBufferConvert(constr){
    return function convert(req){
      return constr(req.url)(req.body)(req.params)(req.path)(req.query)(req.headers);
    };
  };

  exports.sendStr = function sendStr(res){
    return function(string){
      return function(){
        res.send(string);
      };
    };
  };
  exports.sendBuffer = function sendBuffer(res){
    return function(buffer){
      return function(){
        res.send(buffer);
      };
    };
  };
 
})(PS["Server.Core"] = PS["Server.Core"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var $foreign = PS["Server.Core"];
  var Prelude = PS["Prelude"];
  var Control_Monad_Eff = PS["Control.Monad.Eff"];
  var Control_Monad_Eff_Console = PS["Control.Monad.Eff.Console"];
  var Control_Monad_Aff = PS["Control.Monad.Aff"];
  var Control_Monad_Eff_Exception = PS["Control.Monad.Eff.Exception"];
  var Control_Monad_Error_Class = PS["Control.Monad.Error.Class"];
  var Data_StrMap = PS["Data.StrMap"];
  var Data_Either = PS["Data.Either"];
  var Data_Foreign_Generic = PS["Data.Foreign.Generic"];
  var Data_Generic = PS["Data.Generic"];
  var Network_HTTP_Method = PS["Network.HTTP.Method"];
  var Node_Buffer = PS["Node.Buffer"];
  var App_Endpoint = PS["App.Endpoint"];
  var Data_Foreign = PS["Data.Foreign"];
  var Endpoint_Client = PS["Endpoint.Client"];     
  var parseBodyOrThrow = function (__dict_Generic_0) {
      return function (a) {
          return Data_Either.either(function (err) {
              return Control_Monad_Error_Class.throwError(Control_Monad_Aff.monadErrorAff)(Control_Monad_Eff_Exception.error(Prelude.show(Data_Foreign.showForeignError)(err)));
          })(function (p) {
              return Prelude["return"](Control_Monad_Aff.applicativeAff)((function () {
                  var _14 = {};
                  for (var _15 in a) {
                      if (a.hasOwnProperty(_15)) {
                          _14[_15] = a[_15];
                      };
                  };
                  _14.body = p;
                  return _14;
              })());
          })(Data_Foreign_Generic.readJSONGeneric(__dict_Generic_0)(Data_Foreign_Generic.defaultOptions)(a.body));
      };
  };
  var convertBuffer = $foreign.mkBufferConvert(function (_6) {
      return function (_7) {
          return function (_8) {
              return function (_9) {
                  return function (_10) {
                      return function (_11) {
                          return {
                              url: _6, 
                              body: _7, 
                              params: _8, 
                              path: _9, 
                              query: _10, 
                              headers: _11
                          };
                      };
                  };
              };
          };
      };
  });
  var hostFileUploadEndpoint = function (__dict_Generic_1) {
      return function (app) {
          return function (_13) {
              return function (f) {
                  var handler = function (req) {
                      return function (res) {
                          return Control_Monad_Aff.runAff(function (err) {
                              return function __do() {
                                  Control_Monad_Eff_Console.log("Failed hostFileUploadEndpoint on " + (_13.value0.serverUrl + Control_Monad_Eff_Exception.message(err)))();
                                  return $foreign.sendStr(res)(Control_Monad_Eff_Exception.message(err))();
                              };
                          })(function (a) {
                              return $foreign.sendStr(res)(Data_Foreign_Generic.toJSONGeneric(__dict_Generic_1)(Data_Foreign_Generic.defaultOptions)(a));
                          })(f(convertBuffer(req)));
                      };
                  };
                  return $foreign.post(app)(_13.value0.serverUrl)($foreign.bufferParser)(handler);
              };
          };
      };
  };
  var convert = $foreign.mkConvert(function (_0) {
      return function (_1) {
          return function (_2) {
              return function (_3) {
                  return function (_4) {
                      return function (_5) {
                          return {
                              url: _0, 
                              body: _1, 
                              params: _2, 
                              path: _3, 
                              query: _4, 
                              headers: _5
                          };
                      };
                  };
              };
          };
      };
  })(Data_Foreign_Generic.toJSONGeneric(Data_Generic.genericUnit)(Data_Foreign_Generic.defaultOptions)(Prelude.unit));
  var hostEndpoint = function (__dict_Generic_2) {
      return function (__dict_Generic_3) {
          return function (app) {
              return function (_12) {
                  return function (f) {
                      if (_12.value0.method instanceof Network_HTTP_Method.GET) {
                          var handler = function (req) {
                              return function (res) {
                                  return Control_Monad_Aff.runAff(function (err) {
                                      return function __do() {
                                          Control_Monad_Eff_Console.log("Failed hostEndpoint GET on " + (_12.value0.serverUrl + Control_Monad_Eff_Exception.message(err)))();
                                          return $foreign.sendStr(res)(Control_Monad_Eff_Exception.message(err))();
                                      };
                                  })(function (a) {
                                      return $foreign.sendStr(res)(Data_Foreign_Generic.toJSONGeneric(__dict_Generic_3)(Data_Foreign_Generic.defaultOptions)(a));
                                  })(Prelude[">>="](Control_Monad_Aff.bindAff)(parseBodyOrThrow(__dict_Generic_2)(convert(req)))(f));
                              };
                          };
                          return $foreign.get(app)(_12.value0.serverUrl)($foreign.noParser)(handler);
                      };
                      if (_12.value0.method instanceof Network_HTTP_Method.POST) {
                          var handler = function (req) {
                              return function (res) {
                                  return Control_Monad_Aff.runAff(function (err) {
                                      return function __do() {
                                          Control_Monad_Eff_Console.log("Failed hostEndpoint POST on " + (_12.value0.serverUrl + Control_Monad_Eff_Exception.message(err)))();
                                          return $foreign.sendStr(res)(Control_Monad_Eff_Exception.message(err))();
                                      };
                                  })(function (a) {
                                      return $foreign.sendStr(res)(Data_Foreign_Generic.toJSONGeneric(__dict_Generic_3)(Data_Foreign_Generic.defaultOptions)(a));
                                  })(Prelude[">>="](Control_Monad_Aff.bindAff)(parseBodyOrThrow(__dict_Generic_2)(convert(req)))(f));
                              };
                          };
                          return $foreign.post(app)(_12.value0.serverUrl)($foreign.rawParser)(handler);
                      };
                      if (_12.value0.method instanceof Network_HTTP_Method.PUT) {
                          var handler = function (req) {
                              return function (res) {
                                  return Control_Monad_Aff.runAff(function (err) {
                                      return function __do() {
                                          Control_Monad_Eff_Console.log("Failed hostEndpoint PUT on " + (_12.value0.serverUrl + Control_Monad_Eff_Exception.message(err)))();
                                          return $foreign.sendStr(res)(Control_Monad_Eff_Exception.message(err))();
                                      };
                                  })(function (a) {
                                      return $foreign.sendStr(res)(Data_Foreign_Generic.toJSONGeneric(__dict_Generic_3)(Data_Foreign_Generic.defaultOptions)(a));
                                  })(Prelude[">>="](Control_Monad_Aff.bindAff)(parseBodyOrThrow(__dict_Generic_2)(convert(req)))(f));
                              };
                          };
                          return $foreign.put(app)(_12.value0.serverUrl)($foreign.rawParser)(handler);
                      };
                      throw new Error("Failed pattern match at Server.Core line 54, column 1 - line 57, column 1: " + [ app.constructor.name, _12.constructor.name, f.constructor.name ]);
                  };
              };
          };
      };
  };
  var hostFile = function (app) {
      return function (url) {
          return function (f) {
              var handler = function (req) {
                  return function (res) {
                      return Control_Monad_Aff.runAff(function (err) {
                          return function __do() {
                              Control_Monad_Eff_Console.log("Failed hostFile " + Control_Monad_Eff_Exception.message(err))();
                              return $foreign.sendStr(res)(Control_Monad_Eff_Exception.message(err))();
                          };
                      })(function (a) {
                          return $foreign.sendBuffer(res)(a);
                      })(Prelude[">>="](Control_Monad_Aff.bindAff)(parseBodyOrThrow(Data_Generic.genericUnit)(convert(req)))(f));
                  };
              };
              return $foreign.get(app)(url)($foreign.noParser)(handler);
          };
      };
  };
  exports["hostFileUploadEndpoint"] = hostFileUploadEndpoint;
  exports["hostFile"] = hostFile;
  exports["hostEndpoint"] = hostEndpoint;
  exports["hostStatic"] = $foreign.hostStatic;
  exports["listen"] = $foreign.listen;
  exports["makeApp"] = $foreign.makeApp;;
 
})(PS["Server.Core"] = PS["Server.Core"] || {});
(function(exports) {
  // Generated by psc version 0.7.6.1
  "use strict";
  var Prelude = PS["Prelude"];
  var Control_Monad_Eff = PS["Control.Monad.Eff"];
  var Control_Monad_Eff_Exception = PS["Control.Monad.Eff.Exception"];
  var Control_Monad_Eff_Console = PS["Control.Monad.Eff.Console"];
  var Control_Monad_Aff = PS["Control.Monad.Aff"];
  var Control_Monad_Error_Class = PS["Control.Monad.Error.Class"];
  var Data_Date = PS["Data.Date"];
  var Data_Array = PS["Data.Array"];
  var Data_StrMap = PS["Data.StrMap"];
  var Data_Tuple = PS["Data.Tuple"];
  var Data_Maybe = PS["Data.Maybe"];
  var Data_Traversable = PS["Data.Traversable"];
  var Data_Either = PS["Data.Either"];
  var Database_AnyDB = PS["Database.AnyDB"];
  var Node_Path = PS["Node.Path"];
  var Node_FS = PS["Node.FS"];
  var Node_FS_Aff = PS["Node.FS.Aff"];
  var Node_FS_Stats = PS["Node.FS.Stats"];
  var Server_Core = PS["Server.Core"];
  var App_Endpoint = PS["App.Endpoint"];
  var App_DB = PS["App.DB"];
  var Data_Generic = PS["Data.Generic"];
  var App_Model_Photobooth = PS["App.Model.Photobooth"];
  var App_Model_Event = PS["App.Model.Event"];
  var App_Model_Statistic = PS["App.Model.Statistic"];
  var App_Model_SavedFile = PS["App.Model.SavedFile"];     
  var throwStr = function (__dict_MonadError_0) {
      return function (_47) {
          return Control_Monad_Error_Class.throwError(__dict_MonadError_0)(Control_Monad_Eff_Exception.error(_47));
      };
  };
  var safeParseIntE = function (__dict_MonadError_1) {
      return function (label) {
          return function (s) {
              return Data_Maybe.maybe(throwStr(__dict_MonadError_1)(label + ": Invalid int provided"))(Prelude["return"]((__dict_MonadError_1["__superclass_Prelude.Monad_0"]())["__superclass_Prelude.Applicative_0"]()))(App_DB.safeParseInt(s));
          };
      };
  };
  var readParams2 = function (__dict_MonadError_2) {
      return function (label) {
          return function (key1) {
              return function (key2) {
                  return function (f) {
                      return function (_14) {
                          return Data_Either.either(function (key) {
                              return Control_Monad_Error_Class.throwError(__dict_MonadError_2)(Control_Monad_Eff_Exception.error(label + (": No" + (key + " provided"))));
                          })(function (_12) {
                              return f(_12.value0)(_12.value1);
                          })(Prelude.bind(Data_Either.bindEither)(Data_Maybe.maybe(new Data_Either.Left(key1))(Data_Either.Right.create)(Data_StrMap.lookup(key1)(_14.params)))(function (_3) {
                              return Prelude.bind(Data_Either.bindEither)(Data_Maybe.maybe(new Data_Either.Left(key2))(Data_Either.Right.create)(Data_StrMap.lookup(key2)(_14.params)))(function (_2) {
                                  return Prelude["return"](Data_Either.applicativeEither)(new Data_Tuple.Tuple(_3, _2));
                              });
                          }));
                      };
                  };
              };
          };
      };
  };
  var readParams1 = function (__dict_MonadError_3) {
      return function (label) {
          return function (key) {
              return function (f) {
                  return function (_13) {
                      return Data_Maybe.maybe(Control_Monad_Error_Class.throwError(__dict_MonadError_3)(Control_Monad_Eff_Exception.error(label + (": No " + (key + " provided")))))(f)(Data_StrMap.lookup(key)(_13.params));
                  };
              };
          };
      };
  };
  var port = 8080;
  var fromStringStrictE = function (__dict_MonadError_4) {
      return function (label) {
          return function (s) {
              return Data_Maybe.maybe(throwStr(__dict_MonadError_4)(label + ": Invalid date provided"))(Prelude["return"]((__dict_MonadError_4["__superclass_Prelude.Monad_0"]())["__superclass_Prelude.Applicative_0"]()))(Data_Date.fromStringStrict(s));
          };
      };
  };
  var readCnameDateParams = function (__dict_MonadError_5) {
      return function (label) {
          return function (f) {
              return function (i) {
                  return readParams2(__dict_MonadError_5)("cname")("date")(label)(function (cname) {
                      return function (d) {
                          return Prelude[">>="]((__dict_MonadError_5["__superclass_Prelude.Monad_0"]())["__superclass_Prelude.Bind_1"]())(fromStringStrictE(__dict_MonadError_5)(label)(d))(function (date) {
                              return f(cname)(date);
                          });
                      };
                  })(i);
              };
          };
      };
  };
  var findProfileFiles = function (cname) {
      return function (pname) {
          return Prelude[">>="](Control_Monad_Aff.bindAff)(Node_FS_Aff.readdir(Node_Path.concat([ "profiles", cname, pname ])))(function (names) {
              return Prelude["return"](Control_Monad_Aff.applicativeAff)(Prelude["<$>"](Prelude.functorArray)(function (path) {
                  return Node_Path.concat([ cname, pname, path ]);
              })(names));
          });
      };
  };
  var connectionInfo = new Database_AnyDB.Sqlite3({
      filename: "klikhutdb", 
      memory: false
  });
  var withServerConn = Database_AnyDB.withConnection(connectionInfo);
  var allProfiles = (function () {
      var prof = Node_Path.normalize("./profiles");
      return Prelude.bind(Control_Monad_Aff.bindAff)(Node_FS_Aff.readdir(prof))(function (_5) {
          return Prelude.bind(Control_Monad_Aff.bindAff)(Prelude.flip(Data_Array.filterM(Control_Monad_Aff.monadAff))(_5)(function (p) {
              return Prelude[">>="](Control_Monad_Aff.bindAff)(Node_FS_Aff.stat(Node_Path.concat([ prof, p ])))(function (_48) {
                  return Prelude["return"](Control_Monad_Aff.applicativeAff)(Node_FS_Stats.isDirectory(_48));
              });
          }))(function (_4) {
              return Prelude.flip(Data_Traversable.traverse(Data_Traversable.traversableArray)(Control_Monad_Aff.applicativeAff))(_4)(function (dir) {
                  return Prelude[">>="](Control_Monad_Aff.bindAff)(Node_FS_Aff.readdir(Node_Path.concat([ prof, dir ])))(function (profs) {
                      return Prelude["return"](Control_Monad_Aff.applicativeAff)(new Data_Tuple.Tuple(dir, profs));
                  });
              });
          });
      });
  })();
  var main = function __do() {
      var _1 = Data_Date.now();
      var _0 = Server_Core.makeApp();
      Server_Core.hostEndpoint(Data_Generic.genericUnit)(Data_Generic.genericMaybe(App_Model_Photobooth.genericPhotobooth))(_0)(App_Endpoint.getPhotobooth)(readParams1(Control_Monad_Aff.monadErrorAff)("GetPhotobooth")("cname")(function (c) {
          return withServerConn(function (conn) {
              return App_DB.queryPhotobooth(conn)(c);
          });
      }))();
      Server_Core.hostEndpoint(Data_Generic.genericUnit)(Data_Generic.genericArray(App_Model_Photobooth.genericPhotobooth))(_0)(App_Endpoint.getPhotobooths)(Prelude["const"](withServerConn(App_DB.allPhotobooths)))();
      Server_Core.hostEndpoint(App_Model_Photobooth.genericPhotobooth)(App_Model_Photobooth.genericPhotobooth)(_0)(App_Endpoint.postPhotobooths)(function (_6) {
          return withServerConn(function (conn) {
              return App_DB.newPB(conn)(_6.body);
          });
      })();
      Server_Core.hostEndpoint(App_Model_Photobooth.genericPhotobooth)(App_Model_Photobooth.genericPhotobooth)(_0)(App_Endpoint.putPhotobooths)(function (_7) {
          return withServerConn(function (conn) {
              return App_DB.updatePB(conn)(_7.body);
          });
      })();
      Server_Core.hostEndpoint(Data_Generic.genericUnit)(Data_Generic.genericArray(App_Model_Event.genericEvent))(_0)(App_Endpoint.getEvents)(readParams1(Control_Monad_Aff.monadErrorAff)("GetEvents")("cname")(function (c) {
          return withServerConn(function (conn) {
              return App_DB.queryEvents(conn)(c);
          });
      }))();
      Server_Core.hostEndpoint(App_Model_Event.genericEvent)(App_Model_Event.genericEvent)(_0)(App_Endpoint.postEvents)(function (_8) {
          return withServerConn(function (conn) {
              return App_DB.newEvent(conn)(_8.body);
          });
      })();
      Server_Core.hostEndpoint(App_Model_Event.genericEvent)(App_Model_Event.genericEvent)(_0)(App_Endpoint.putEvents)(function (_9) {
          return withServerConn(function (conn) {
              return App_DB.updateEvent(conn)(_9.body);
          });
      })();
      Server_Core.hostEndpoint(Data_Generic.genericUnit)(Data_Generic.genericArray(App_Model_Event.genericPartialEvent))(_0)(App_Endpoint.getNewEvents)(readCnameDateParams(Control_Monad_Aff.monadErrorAff)("GetNewEvents")(function (c) {
          return function (d) {
              return withServerConn(function (conn) {
                  return App_DB.queryNewEvents(conn)(c)(d);
              });
          };
      }))();
      Server_Core.hostEndpoint(Data_Generic.genericUnit)(Data_Generic.genericArray(Data_Generic.genericTuple(Data_Generic.genericString)(Data_Generic.genericArray(Data_Generic.genericString))))(_0)(App_Endpoint.getProfiles)(Prelude["const"](allProfiles))();
      Server_Core.hostEndpoint(Data_Generic.genericUnit)(App_Model_Statistic.genericAllStatistics)(_0)(App_Endpoint.getStatistics)(readParams1(Control_Monad_Aff.monadErrorAff)("AllStatistics")("cname")(function (c) {
          return withServerConn(function (conn) {
              return App_DB.queryAllStatistics(conn)(c);
          });
      }))();
      Server_Core.hostEndpoint(Data_Generic.genericUnit)(Data_Generic.genericArray(App_Model_SavedFile.genericSavedFile))(_0)(App_Endpoint.getNewFiles)(readCnameDateParams(Control_Monad_Aff.monadErrorAff)("GetNewFiles")(function (c) {
          return function (d) {
              return withServerConn(function (conn) {
                  return App_DB.queryNewFiles(conn)(c)(d);
              });
          };
      }))();
      Server_Core.hostEndpoint(App_Model_Statistic.genericAllStatistics)(Data_Generic.genericUnit)(_0)(App_Endpoint.postStatistics)(function (_10) {
          return withServerConn(function (c) {
              return App_DB.addStatistics(c)(_10.body);
          });
      })();
      Server_Core.hostEndpoint(Data_Generic.genericUnit)(Data_Generic.genericArray(Data_Generic.genericString))(_0)(App_Endpoint.getProfileFiles)(readParams2(Control_Monad_Aff.monadErrorAff)("GetProfileFiles")("cname")("pname")(findProfileFiles))();
      Server_Core.hostFileUploadEndpoint(App_Model_SavedFile.genericSavedFile)(_0)(App_Endpoint.attachFile)(function (_11) {
          return readParams2(Control_Monad_Aff.monadErrorAff)("AttachFile")("eventid")("name")(function (e) {
              return function (n) {
                  return Prelude[">>="](Control_Monad_Aff.bindAff)(safeParseIntE(Control_Monad_Aff.monadErrorAff)("AttachFile")(e))(function (eventId) {
                      return withServerConn(function (c) {
                          return App_DB.saveFileToDb(c)(eventId)(n)(_11.body);
                      });
                  });
              };
          })(_11);
      })();
      Server_Core.hostFile(_0)("/api/files/:id")(readParams1(Control_Monad_Aff.monadErrorAff)("GetFile")("id")(function (stri) {
          return Prelude[">>="](Control_Monad_Aff.bindAff)(safeParseIntE(Control_Monad_Aff.monadErrorAff)("GetFile")(stri))(function (id) {
              return withServerConn(function (conn) {
                  return App_DB.getFileById(conn)(id);
              });
          });
      }))();
      Server_Core.hostStatic(_0)("static")();
      Server_Core.hostStatic(_0)("profiles")();
      Server_Core.listen(_0)(port)();
      return Control_Monad_Eff_Console.log("Starting server on " + Prelude.show(Prelude.showInt)(port))();
  };
  exports["allProfiles"] = allProfiles;
  exports["findProfileFiles"] = findProfileFiles;
  exports["throwStr"] = throwStr;
  exports["safeParseIntE"] = safeParseIntE;
  exports["fromStringStrictE"] = fromStringStrictE;
  exports["readParams2"] = readParams2;
  exports["readParams1"] = readParams1;
  exports["readCnameDateParams"] = readCnameDateParams;
  exports["main"] = main;
  exports["withServerConn"] = withServerConn;
  exports["connectionInfo"] = connectionInfo;
  exports["port"] = port;;
 
})(PS["Main"] = PS["Main"] || {});

PS["Main"].main();